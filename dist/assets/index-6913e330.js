(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $t(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ue={},js=[],it=()=>{},jr=()=>!1,Ss=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cf=t=>t.startsWith("onUpdate:"),fe=Object.assign,uf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},eC=Object.prototype.hasOwnProperty,be=(t,e)=>eC.call(t,e),$=Array.isArray,$s=t=>wr(t)==="[object Map]",Ts=t=>wr(t)==="[object Set]",Lp=t=>wr(t)==="[object Date]",tC=t=>wr(t)==="[object RegExp]",Z=t=>typeof t=="function",re=t=>typeof t=="string",Nt=t=>typeof t=="symbol",Ce=t=>t!==null&&typeof t=="object",df=t=>(Ce(t)||Z(t))&&Z(t.then)&&Z(t.catch),ey=Object.prototype.toString,wr=t=>ey.call(t),nC=t=>wr(t).slice(8,-1),oc=t=>wr(t)==="[object Object]",ff=t=>re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wi=$t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),iC=$t("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),lc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sC=/-(\w)/g,Le=lc(t=>t.replace(sC,(e,n)=>n?n.toUpperCase():"")),rC=/\B([A-Z])/g,It=lc(t=>t.replace(rC,"-$1").toLowerCase()),Cs=lc(t=>t.charAt(0).toUpperCase()+t.slice(1)),zs=lc(t=>t?`on${Cs(t)}`:""),yt=(t,e)=>!Object.is(t,e),Gs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ty=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Xl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Zl=t=>{const e=re(t)?Number(t):NaN;return isNaN(e)?t:e};let Hp;const ac=()=>Hp||(Hp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oC(t,e){return t+JSON.stringify(e,(n,i)=>typeof i=="function"?i.toString():i)}const lC="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",aC=$t(lC);function Uo(t){if($(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=re(i)?ny(i):Uo(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(re(t)||Ce(t))return t}const cC=/;(?![^(]*\))/g,uC=/:([^]+)/,dC=/\/\*[^]*?\*\//g;function ny(t){const e={};return t.replace(dC,"").split(cC).forEach(n=>{if(n){const i=n.split(uC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function yn(t){let e="";if(re(t))e=t;else if($(t))for(let n=0;n<t.length;n++){const i=yn(t[n]);i&&(e+=i+" ")}else if(Ce(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function fC(t){if(!t)return null;let{class:e,style:n}=t;return e&&!re(e)&&(t.class=yn(e)),n&&(t.style=Uo(n)),t}const hC="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",pC="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",gC="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",mC="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vC=$t(hC),yC=$t(pC),_C=$t(gC),bC=$t(mC),EC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wC=$t(EC);function iy(t){return!!t||t===""}function SC(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Oi(t[i],e[i]);return n}function Oi(t,e){if(t===e)return!0;let n=Lp(t),i=Lp(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Nt(t),i=Nt(e),n||i)return t===e;if(n=$(t),i=$(e),n||i)return n&&i?SC(t,e):!1;if(n=Ce(t),i=Ce(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!Oi(t[o],e[o]))return!1}}return String(t)===String(e)}function cc(t,e){return t.findIndex(n=>Oi(n,e))}const sy=t=>!!(t&&t.__v_isRef===!0),ye=t=>re(t)?t:t==null?"":$(t)||Ce(t)&&(t.toString===ey||!Z(t.toString))?sy(t)?ye(t.value):JSON.stringify(t,ry,2):String(t),ry=(t,e)=>sy(e)?ry(t,e.value):$s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[nu(i,r)+" =>"]=s,n),{})}:Ts(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nu(n))}:Nt(e)?nu(e):Ce(e)&&!$(e)&&!oc(e)?String(e):e,nu=(t,e="")=>{var n;return Nt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ct;class hf{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ct,!e&&ct&&(this.index=(ct.scopes||(ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ct;try{return ct=this,e()}finally{ct=n}}}on(){++this._on===1&&(this.prevScope=ct,ct=this)}off(){this._on>0&&--this._on===0&&(ct=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function TC(t){return new hf(t)}function oy(){return ct}function CC(t,e=!1){ct&&ct.cleanups.push(t)}let xe;const iu=new WeakSet;class ao{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ct&&ct.active&&ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,iu.has(this)&&(iu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ay(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fp(this),cy(this);const e=xe,n=an;xe=this,an=!0;try{return this.fn()}finally{uy(this),xe=e,an=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)mf(e);this.deps=this.depsTail=void 0,Fp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?iu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ku(this)&&this.run()}get dirty(){return Ku(this)}}let ly=0,Gr,qr;function ay(t,e=!1){if(t.flags|=8,e){t.next=qr,qr=t;return}t.next=Gr,Gr=t}function pf(){ly++}function gf(){if(--ly>0)return;if(qr){let e=qr;for(qr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Gr;){let e=Gr;for(Gr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function cy(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function uy(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),mf(i),AC(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Ku(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(dy(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function dy(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===co)||(t.globalVersion=co,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ku(t))))return;t.flags|=2;const e=t.dep,n=xe,i=an;xe=t,an=!0;try{cy(t);const s=t.fn(t._value);(e.version===0||yt(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{xe=n,an=i,uy(t),t.flags&=-3}}function mf(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)mf(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function AC(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function IC(t,e){t.effect instanceof ao&&(t=t.effect.fn);const n=new ao(t);e&&fe(n,e);try{n.run()}catch(s){throw n.stop(),s}const i=n.run.bind(n);return i.effect=n,i}function RC(t){t.effect.stop()}let an=!0;const fy=[];function $n(){fy.push(an),an=!1}function zn(){const t=fy.pop();an=t===void 0?!0:t}function Fp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=xe;xe=void 0;try{e()}finally{xe=n}}}let co=0;class kC{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!xe||!an||xe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xe)n=this.activeLink=new kC(xe,this),xe.deps?(n.prevDep=xe.depsTail,xe.depsTail.nextDep=n,xe.depsTail=n):xe.deps=xe.depsTail=n,hy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=xe.depsTail,n.nextDep=void 0,xe.depsTail.nextDep=n,xe.depsTail=n,xe.deps===n&&(xe.deps=i)}return n}trigger(e){this.version++,co++,this.notify(e)}notify(e){pf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{gf()}}}function hy(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)hy(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ea=new WeakMap,ns=Symbol(""),Qu=Symbol(""),uo=Symbol("");function dt(t,e,n){if(an&&xe){let i=ea.get(t);i||ea.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new uc),s.map=i,s.key=n),s.track()}}function Nn(t,e,n,i,s,r){const o=ea.get(t);if(!o){co++;return}const l=a=>{a&&a.trigger()};if(pf(),e==="clear")o.forEach(l);else{const a=$(t),c=a&&ff(n);if(a&&n==="length"){const u=Number(i);o.forEach((d,f)=>{(f==="length"||f===uo||!Nt(f)&&f>=u)&&l(d)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(uo)),e){case"add":a?c&&l(o.get("length")):(l(o.get(ns)),$s(t)&&l(o.get(Qu)));break;case"delete":a||(l(o.get(ns)),$s(t)&&l(o.get(Qu)));break;case"set":$s(t)&&l(o.get(ns));break}}gf()}function xC(t,e){const n=ea.get(t);return n&&n.get(e)}function Ns(t){const e=me(t);return e===t?e:(dt(e,"iterate",uo),Vt(t)?e:e.map(rt))}function dc(t){return dt(t=me(t),"iterate",uo),t}const DC={__proto__:null,[Symbol.iterator](){return su(this,Symbol.iterator,rt)},concat(...t){return Ns(this).concat(...t.map(e=>$(e)?Ns(e):e))},entries(){return su(this,"entries",t=>(t[1]=rt(t[1]),t))},every(t,e){return In(this,"every",t,e,void 0,arguments)},filter(t,e){return In(this,"filter",t,e,n=>n.map(rt),arguments)},find(t,e){return In(this,"find",t,e,rt,arguments)},findIndex(t,e){return In(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return In(this,"findLast",t,e,rt,arguments)},findLastIndex(t,e){return In(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return In(this,"forEach",t,e,void 0,arguments)},includes(...t){return ru(this,"includes",t)},indexOf(...t){return ru(this,"indexOf",t)},join(t){return Ns(this).join(t)},lastIndexOf(...t){return ru(this,"lastIndexOf",t)},map(t,e){return In(this,"map",t,e,void 0,arguments)},pop(){return Pr(this,"pop")},push(...t){return Pr(this,"push",t)},reduce(t,...e){return Up(this,"reduce",t,e)},reduceRight(t,...e){return Up(this,"reduceRight",t,e)},shift(){return Pr(this,"shift")},some(t,e){return In(this,"some",t,e,void 0,arguments)},splice(...t){return Pr(this,"splice",t)},toReversed(){return Ns(this).toReversed()},toSorted(t){return Ns(this).toSorted(t)},toSpliced(...t){return Ns(this).toSpliced(...t)},unshift(...t){return Pr(this,"unshift",t)},values(){return su(this,"values",rt)}};function su(t,e,n){const i=dc(t),s=i[e]();return i!==t&&!Vt(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const NC=Array.prototype;function In(t,e,n,i,s,r){const o=dc(t),l=o!==t&&!Vt(t),a=o[e];if(a!==NC[e]){const d=a.apply(t,r);return l?rt(d):d}let c=n;o!==t&&(l?c=function(d,f){return n.call(this,rt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=a.call(o,c,i);return l&&s?s(u):u}function Up(t,e,n,i){const s=dc(t);let r=n;return s!==t&&(Vt(t)?n.length>3&&(r=function(o,l,a){return n.call(this,o,l,a,t)}):r=function(o,l,a){return n.call(this,o,rt(l),a,t)}),s[e](r,...i)}function ru(t,e,n){const i=me(t);dt(i,"iterate",uo);const s=i[e](...n);return(s===-1||s===!1)&&gc(n[0])?(n[0]=me(n[0]),i[e](...n)):s}function Pr(t,e,n=[]){$n(),pf();const i=me(t)[e].apply(t,n);return gf(),zn(),i}const MC=$t("__proto__,__v_isRef,__isVue"),py=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Nt));function OC(t){Nt(t)||(t=String(t));const e=me(this);return dt(e,"has",t),e.hasOwnProperty(t)}class gy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?Ey:by:r?_y:yy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=$(e);if(!s){let a;if(o&&(a=DC[n]))return a;if(n==="hasOwnProperty")return OC}const l=Reflect.get(e,n,Ze(e)?e:i);return(Nt(n)?py.has(n):MC(n))||(s||dt(e,"get",n),r)?l:Ze(l)?o&&ff(n)?l:l.value:Ce(l)?s?vf(l):hc(l):l}}class my extends gy{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const a=Gn(r);if(!Vt(i)&&!Gn(i)&&(r=me(r),i=me(i)),!$(e)&&Ze(r)&&!Ze(i))return a?!1:(r.value=i,!0)}const o=$(e)&&ff(n)?Number(n)<e.length:be(e,n),l=Reflect.set(e,n,i,Ze(e)?e:s);return e===me(s)&&(o?yt(i,r)&&Nn(e,"set",n,i):Nn(e,"add",n,i)),l}deleteProperty(e,n){const i=be(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Nn(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Nt(n)||!py.has(n))&&dt(e,"has",n),i}ownKeys(e){return dt(e,"iterate",$(e)?"length":ns),Reflect.ownKeys(e)}}class vy extends gy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const PC=new my,LC=new vy,HC=new my(!0),FC=new vy(!0),Ju=t=>t,dl=t=>Reflect.getPrototypeOf(t);function UC(t,e,n){return function(...i){const s=this.__v_raw,r=me(s),o=$s(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=s[t](...i),u=n?Ju:e?ta:rt;return!e&&dt(r,"iterate",a?Qu:ns),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:l?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function fl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function BC(t,e){const n={get(s){const r=this.__v_raw,o=me(r),l=me(s);t||(yt(s,l)&&dt(o,"get",s),dt(o,"get",l));const{has:a}=dl(o),c=e?Ju:t?ta:rt;if(a.call(o,s))return c(r.get(s));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!t&&dt(me(s),"iterate",ns),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=me(r),l=me(s);return t||(yt(s,l)&&dt(o,"has",s),dt(o,"has",l)),s===l?r.has(s):r.has(s)||r.has(l)},forEach(s,r){const o=this,l=o.__v_raw,a=me(l),c=e?Ju:t?ta:rt;return!t&&dt(a,"iterate",ns),l.forEach((u,d)=>s.call(r,c(u),c(d),o))}};return fe(n,t?{add:fl("add"),set:fl("set"),delete:fl("delete"),clear:fl("clear")}:{add(s){!e&&!Vt(s)&&!Gn(s)&&(s=me(s));const r=me(this);return dl(r).has.call(r,s)||(r.add(s),Nn(r,"add",s,s)),this},set(s,r){!e&&!Vt(r)&&!Gn(r)&&(r=me(r));const o=me(this),{has:l,get:a}=dl(o);let c=l.call(o,s);c||(s=me(s),c=l.call(o,s));const u=a.call(o,s);return o.set(s,r),c?yt(r,u)&&Nn(o,"set",s,r):Nn(o,"add",s,r),this},delete(s){const r=me(this),{has:o,get:l}=dl(r);let a=o.call(r,s);a||(s=me(s),a=o.call(r,s)),l&&l.call(r,s);const c=r.delete(s);return a&&Nn(r,"delete",s,void 0),c},clear(){const s=me(this),r=s.size!==0,o=s.clear();return r&&Nn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=UC(s,t,e)}),n}function fc(t,e){const n=BC(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(be(n,s)&&s in i?n:i,s,r)}const VC={get:fc(!1,!1)},WC={get:fc(!1,!0)},jC={get:fc(!0,!1)},$C={get:fc(!0,!0)},yy=new WeakMap,_y=new WeakMap,by=new WeakMap,Ey=new WeakMap;function zC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GC(t){return t.__v_skip||!Object.isExtensible(t)?0:zC(nC(t))}function hc(t){return Gn(t)?t:pc(t,!1,PC,VC,yy)}function wy(t){return pc(t,!1,HC,WC,_y)}function vf(t){return pc(t,!0,LC,jC,by)}function qC(t){return pc(t,!0,FC,$C,Ey)}function pc(t,e,n,i,s){if(!Ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=GC(t);if(r===0)return t;const o=s.get(t);if(o)return o;const l=new Proxy(t,r===2?i:n);return s.set(t,l),l}function Si(t){return Gn(t)?Si(t.__v_raw):!!(t&&t.__v_isReactive)}function Gn(t){return!!(t&&t.__v_isReadonly)}function Vt(t){return!!(t&&t.__v_isShallow)}function gc(t){return t?!!t.__v_raw:!1}function me(t){const e=t&&t.__v_raw;return e?me(e):t}function Sy(t){return!be(t,"__v_skip")&&Object.isExtensible(t)&&ty(t,"__v_skip",!0),t}const rt=t=>Ce(t)?hc(t):t,ta=t=>Ce(t)?vf(t):t;function Ze(t){return t?t.__v_isRef===!0:!1}function Re(t){return Cy(t,!1)}function Ty(t){return Cy(t,!0)}function Cy(t,e){return Ze(t)?t:new YC(t,e)}class YC{constructor(e,n){this.dep=new uc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:me(e),this._value=n?e:rt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Vt(e)||Gn(e);e=i?e:me(e),yt(e,n)&&(this._rawValue=e,this._value=i?e:rt(e),this.dep.trigger())}}function KC(t){t.dep&&t.dep.trigger()}function Bo(t){return Ze(t)?t.value:t}function QC(t){return Z(t)?t():Bo(t)}const JC={get:(t,e,n)=>e==="__v_raw"?t:Bo(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Ze(s)&&!Ze(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function yf(t){return Si(t)?t:new Proxy(t,JC)}class XC{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new uc,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Ay(t){return new XC(t)}function ZC(t){const e=$(t)?new Array(t.length):{};for(const n in t)e[n]=Iy(t,n);return e}class eA{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return xC(me(this._object),this._key)}}class tA{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function nA(t,e,n){return Ze(t)?t:Z(t)?new tA(t):Ce(t)&&arguments.length>1?Iy(t,e,n):Re(t)}function Iy(t,e,n){const i=t[e];return Ze(i)?i:new eA(t,e,n)}class iA{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new uc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=co-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return ay(this,!0),!0}get value(){const e=this.dep.track();return dy(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sA(t,e,n=!1){let i,s;return Z(t)?i=t:(i=t.get,s=t.set),new iA(i,s,n)}const rA={GET:"get",HAS:"has",ITERATE:"iterate"},oA={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},hl={},na=new WeakMap;let ci;function lA(){return ci}function Ry(t,e=!1,n=ci){if(n){let i=na.get(n);i||na.set(n,i=[]),i.push(t)}}function aA(t,e,n=ue){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:l,call:a}=n,c=v=>s?v:Vt(v)||s===!1||s===0?Mn(v,1):Mn(v);let u,d,f,h,p=!1,g=!1;if(Ze(t)?(d=()=>t.value,p=Vt(t)):Si(t)?(d=()=>c(t),p=!0):$(t)?(g=!0,p=t.some(v=>Si(v)||Vt(v)),d=()=>t.map(v=>{if(Ze(v))return v.value;if(Si(v))return c(v);if(Z(v))return a?a(v,2):v()})):Z(t)?e?d=a?()=>a(t,2):t:d=()=>{if(f){$n();try{f()}finally{zn()}}const v=ci;ci=u;try{return a?a(t,3,[h]):t(h)}finally{ci=v}}:d=it,e&&s){const v=d,T=s===!0?1/0:s;d=()=>Mn(v(),T)}const y=oy(),_=()=>{u.stop(),y&&y.active&&uf(y.effects,u)};if(r&&e){const v=e;e=(...T)=>{v(...T),_()}}let b=g?new Array(t.length).fill(hl):hl;const m=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const T=u.run();if(s||p||(g?T.some((I,M)=>yt(I,b[M])):yt(T,b))){f&&f();const I=ci;ci=u;try{const M=[T,b===hl?void 0:g&&b[0]===hl?[]:b,h];b=T,a?a(e,3,M):e(...M)}finally{ci=I}}}else u.run()};return l&&l(m),u=new ao(d),u.scheduler=o?()=>o(m,!1):m,h=v=>Ry(v,!1,u),f=u.onStop=()=>{const v=na.get(u);if(v){if(a)a(v,4);else for(const T of v)T();na.delete(u)}},e?i?m(!0):b=u.run():o?o(m.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function Mn(t,e=1/0,n){if(e<=0||!Ce(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ze(t))Mn(t.value,e,n);else if($(t))for(let i=0;i<t.length;i++)Mn(t[i],e,n);else if(Ts(t)||$s(t))t.forEach(i=>{Mn(i,e,n)});else if(oc(t)){for(const i in t)Mn(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Mn(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ky=[];function cA(t){ky.push(t)}function uA(){ky.pop()}function dA(t,e){}const fA={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},hA={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Sr(t,e,n,i){try{return i?t(...i):t()}catch(s){As(s,e,n)}}function Xt(t,e,n,i){if(Z(t)){const s=Sr(t,e,n,i);return s&&df(s)&&s.catch(r=>{As(r,e,n)}),s}if($(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Xt(t[r],e,n,i));return s}}function As(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ue;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,a,c)===!1)return}l=l.parent}if(r){$n(),Sr(r,null,10,[t,a,c]),zn();return}}pA(t,n,s,i,o)}function pA(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const _t=[];let gn=-1;const qs=[];let ui=null,Ls=0;const xy=Promise.resolve();let ia=null;function mc(t){const e=ia||xy;return t?e.then(this?t.bind(this):t):e}function gA(t){let e=gn+1,n=_t.length;for(;e<n;){const i=e+n>>>1,s=_t[i],r=ho(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function _f(t){if(!(t.flags&1)){const e=ho(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=ho(n)?_t.push(t):_t.splice(gA(e),0,t),t.flags|=1,Dy()}}function Dy(){ia||(ia=xy.then(Ny))}function fo(t){$(t)?qs.push(...t):ui&&t.id===-1?ui.splice(Ls+1,0,t):t.flags&1||(qs.push(t),t.flags|=1),Dy()}function Bp(t,e,n=gn+1){for(;n<_t.length;n++){const i=_t[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;_t.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function sa(t){if(qs.length){const e=[...new Set(qs)].sort((n,i)=>ho(n)-ho(i));if(qs.length=0,ui){ui.push(...e);return}for(ui=e,Ls=0;Ls<ui.length;Ls++){const n=ui[Ls];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ui=null,Ls=0}}const ho=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ny(t){const e=it;try{for(gn=0;gn<_t.length;gn++){const n=_t[gn];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Sr(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;gn<_t.length;gn++){const n=_t[gn];n&&(n.flags&=-2)}gn=-1,_t.length=0,sa(),ia=null,(_t.length||qs.length)&&Ny()}}let Hs,pl=[];function My(t,e){var n,i;Hs=t,Hs?(Hs.enabled=!0,pl.forEach(({event:s,args:r})=>Hs.emit(s,...r)),pl=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{My(r,e)}),setTimeout(()=>{Hs||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,pl=[])},3e3)):pl=[]}let Xe=null,vc=null;function po(t){const e=Xe;return Xe=t,vc=t&&t.type.__scopeId||null,e}function mA(t){vc=t}function vA(){vc=null}const yA=t=>bf;function bf(t,e=Xe,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&rd(-1);const r=po(e);let o;try{o=t(...s)}finally{po(r),i._d&&rd(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ct(t,e){if(Xe===null)return t;const n=$o(Xe),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,l,a=ue]=e[s];r&&(Z(r)&&(r={mounted:r,updated:r}),r.deep&&Mn(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function mn(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];r&&(l.oldValue=r[o].value);let a=l.dir[i];a&&($n(),Xt(a,n,8,[t.el,l,t,e]),zn())}}const Oy=Symbol("_vte"),Py=t=>t.__isTeleport,Yr=t=>t&&(t.disabled||t.disabled===""),Vp=t=>t&&(t.defer||t.defer===""),Wp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,jp=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Xu=(t,e)=>{const n=t&&t.to;return re(n)?e?e(n):null:n},Ly={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,o,l,a,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:y}}=c,_=Yr(e.props);let{shapeFlag:b,children:m,dynamicChildren:v}=e;if(t==null){const T=e.el=g(""),I=e.anchor=g("");h(T,n,i),h(I,n,i);const M=(C,x)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=C),u(m,C,x,s,r,o,l,a))},k=()=>{const C=e.target=Xu(e.props,p),x=Fy(C,e,g,h);C&&(o!=="svg"&&Wp(C)?o="svg":o!=="mathml"&&jp(C)&&(o="mathml"),_||(M(C,x),Pl(e,!1)))};_&&(M(n,I),Pl(e,!0)),Vp(e.props)?(e.el.__isMounted=!1,qe(()=>{k(),delete e.el.__isMounted},r)):k()}else{if(Vp(e.props)&&t.el.__isMounted===!1){qe(()=>{Ly.process(t,e,n,i,s,r,o,l,a,c)},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,I=e.target=t.target,M=e.targetAnchor=t.targetAnchor,k=Yr(t.props),C=k?n:I,x=k?T:M;if(o==="svg"||Wp(I)?o="svg":(o==="mathml"||jp(I))&&(o="mathml"),v?(f(t.dynamicChildren,v,C,s,r,o,l),Df(t,e,!0)):a||d(t,e,C,x,s,r,o,l,!1),_)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):gl(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=Xu(e.props,p);F&&gl(e,F,null,c,0)}else k&&gl(e,I,M,c,1);Pl(e,_)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:o,children:l,anchor:a,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),r&&s(a),o&16){const h=r||!Yr(f);for(let p=0;p<l.length;p++){const g=l[p];i(g,e,n,h,!!g.dynamicChildren)}}},move:gl,hydrate:_A};function gl(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:o,anchor:l,shapeFlag:a,children:c,props:u}=t,d=r===2;if(d&&i(o,e,n),(!d||Yr(u))&&a&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&i(l,e,n)}function _A(t,e,n,i,s,r,{o:{nextSibling:o,parentNode:l,querySelector:a,insert:c,createText:u}},d){const f=e.target=Xu(e.props,a);if(f){const h=Yr(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,l(t),n,i,s,r),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||Fy(f,e,u,c),d(p&&o(p),e,f,n,i,s,r)}Pl(e,h)}return e.anchor&&o(e.anchor)}const Hy=Ly;function Pl(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function Fy(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[Oy]=r,t&&(i(s,t),i(r,t)),r}const di=Symbol("_leaveCb"),ml=Symbol("_enterCb");function Ef(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tn(()=>{t.isMounted=!0}),Ec(()=>{t.isUnmounting=!0}),t}const qt=[Function,Array],wf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qt,onEnter:qt,onAfterEnter:qt,onEnterCancelled:qt,onBeforeLeave:qt,onLeave:qt,onAfterLeave:qt,onLeaveCancelled:qt,onBeforeAppear:qt,onAppear:qt,onAfterAppear:qt,onAppearCancelled:qt},Uy=t=>{const e=t.subTree;return e.component?Uy(e.component):e},bA={name:"BaseTransition",props:wf,setup(t,{slots:e}){const n=Zt(),i=Ef();return()=>{const s=e.default&&yc(e.default(),!0);if(!s||!s.length)return;const r=By(s),o=me(t),{mode:l}=o;if(i.isLeaving)return ou(r);const a=$p(r);if(!a)return ou(r);let c=rr(a,o,i,n,d=>c=d);a.type!==Ge&&qn(a,c);let u=n.subTree&&$p(n.subTree);if(u&&u.type!==Ge&&!nn(a,u)&&Uy(n).type!==Ge){let d=rr(u,o,i,n);if(qn(u,d),l==="out-in"&&a.type!==Ge)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},ou(r);l==="in-out"&&a.type!==Ge?d.delayLeave=(f,h,p)=>{const g=Wy(i,u);g[String(u.key)]=u,f[di]=()=>{h(),f[di]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function By(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ge){e=n;break}}return e}const Vy=bA;function Wy(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function rr(t,e,n,i,s){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:y,onAppear:_,onAfterAppear:b,onAppearCancelled:m}=e,v=String(t.key),T=Wy(n,t),I=(C,x)=>{C&&Xt(C,i,9,x)},M=(C,x)=>{const F=x[1];I(C,x),$(C)?C.every(D=>D.length<=1)&&F():C.length<=1&&F()},k={mode:o,persisted:l,beforeEnter(C){let x=a;if(!n.isMounted)if(r)x=y||a;else return;C[di]&&C[di](!0);const F=T[v];F&&nn(t,F)&&F.el[di]&&F.el[di](),I(x,[C])},enter(C){let x=c,F=u,D=d;if(!n.isMounted)if(r)x=_||c,F=b||u,D=m||d;else return;let V=!1;const K=C[ml]=te=>{V||(V=!0,te?I(D,[C]):I(F,[C]),k.delayedLeave&&k.delayedLeave(),C[ml]=void 0)};x?M(x,[C,K]):K()},leave(C,x){const F=String(t.key);if(C[ml]&&C[ml](!0),n.isUnmounting)return x();I(f,[C]);let D=!1;const V=C[di]=K=>{D||(D=!0,x(),K?I(g,[C]):I(p,[C]),C[di]=void 0,T[F]===t&&delete T[F])};T[F]=t,h?M(h,[C,V]):V()},clone(C){const x=rr(C,e,n,i,s);return s&&s(x),x}};return k}function ou(t){if(Wo(t))return t=En(t),t.children=null,t}function $p(t){if(!Wo(t))return Py(t.type)&&t.children?By(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Z(n.default))return n.default()}}function qn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,qn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yc(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===we?(o.patchFlag&128&&s++,i=i.concat(yc(o.children,e,l))):(e||o.type!==Ge)&&i.push(l!=null?En(o,{key:l}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Vo(t,e){return Z(t)?(()=>fe({name:t.name},e,{setup:t}))():t}function EA(){const t=Zt();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Sf(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wA(t){const e=Zt(),n=Ty(null);if(e){const s=e.refs===ue?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function go(t,e,n,i,s=!1){if($(t)){t.forEach((p,g)=>go(p,e&&($(e)?e[g]:e),n,i,s));return}if(Ti(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&go(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?$o(i.component):i.el,o=s?null:r,{i:l,r:a}=t,c=e&&e.r,u=l.refs===ue?l.refs={}:l.refs,d=l.setupState,f=me(d),h=d===ue?()=>!1:p=>be(f,p);if(c!=null&&c!==a&&(re(c)?(u[c]=null,h(c)&&(d[c]=null)):Ze(c)&&(c.value=null)),Z(a))Sr(a,l,12,[o,u]);else{const p=re(a),g=Ze(a);if(p||g){const y=()=>{if(t.f){const _=p?h(a)?d[a]:u[a]:a.value;s?$(_)&&uf(_,r):$(_)?_.includes(r)||_.push(r):p?(u[a]=[r],h(a)&&(d[a]=u[a])):(a.value=[r],t.k&&(u[t.k]=a.value))}else p?(u[a]=o,h(a)&&(d[a]=o)):g&&(a.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,qe(y,n)):y()}}}let zp=!1;const Ms=()=>{zp||(console.error("Hydration completed but contains mismatches."),zp=!0)},SA=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",TA=t=>t.namespaceURI.includes("MathML"),vl=t=>{if(t.nodeType===1){if(SA(t))return"svg";if(TA(t))return"mathml"}},Us=t=>t.nodeType===8;function CA(t){const{mt:e,p:n,o:{patchProp:i,createText:s,nextSibling:r,parentNode:o,remove:l,insert:a,createComment:c}}=t,u=(m,v)=>{if(!v.hasChildNodes()){n(null,m,v),sa(),v._vnode=m;return}d(v.firstChild,m,null,null,null),sa(),v._vnode=m},d=(m,v,T,I,M,k=!1)=>{k=k||!!v.dynamicChildren;const C=Us(m)&&m.data==="[",x=()=>g(m,v,T,I,M,C),{type:F,ref:D,shapeFlag:V,patchFlag:K}=v;let te=m.nodeType;v.el=m,K===-2&&(k=!1,v.dynamicChildren=null);let G=null;switch(F){case Ci:te!==3?v.children===""?(a(v.el=s(""),o(m),m),G=m):G=x():(m.data!==v.children&&(Ms(),m.data=v.children),G=r(m));break;case Ge:b(m)?(G=r(m),_(v.el=m.content.firstChild,m,T)):te!==8||C?G=x():G=r(m);break;case ss:if(C&&(m=r(m),te=m.nodeType),te===1||te===3){G=m;const ne=!v.children.length;for(let q=0;q<v.staticCount;q++)ne&&(v.children+=G.nodeType===1?G.outerHTML:G.data),q===v.staticCount-1&&(v.anchor=G),G=r(G);return C?r(G):G}else x();break;case we:C?G=p(m,v,T,I,M,k):G=x();break;default:if(V&1)(te!==1||v.type.toLowerCase()!==m.tagName.toLowerCase())&&!b(m)?G=x():G=f(m,v,T,I,M,k);else if(V&6){v.slotScopeIds=M;const ne=o(m);if(C?G=y(m):Us(m)&&m.data==="teleport start"?G=y(m,m.data,"teleport end"):G=r(m),e(v,ne,null,T,I,vl(ne),k),Ti(v)&&!v.type.__asyncResolved){let q;C?(q=Me(we),q.anchor=G?G.previousSibling:ne.lastChild):q=m.nodeType===3?Cc(""):Me("div"),q.el=m,v.component.subTree=q}}else V&64?te!==8?G=x():G=v.type.hydrate(m,v,T,I,M,k,t,h):V&128&&(G=v.type.hydrate(m,v,T,I,vl(o(m)),M,k,t,d))}return D!=null&&go(D,null,I,v),G},f=(m,v,T,I,M,k)=>{k=k||!!v.dynamicChildren;const{type:C,props:x,patchFlag:F,shapeFlag:D,dirs:V,transition:K}=v,te=C==="input"||C==="option";if(te||F!==-1){V&&mn(v,null,T,"created");let G=!1;if(b(m)){G=h_(null,K)&&T&&T.vnode.props&&T.vnode.props.appear;const q=m.content.firstChild;if(G){const Be=q.getAttribute("class");Be&&(q.$cls=Be),K.beforeEnter(q)}_(q,m,T),v.el=m=q}if(D&16&&!(x&&(x.innerHTML||x.textContent))){let q=h(m.firstChild,v,m,T,I,M,k);for(;q;){yl(m,1)||Ms();const Be=q;q=q.nextSibling,l(Be)}}else if(D&8){let q=v.children;q[0]===`
`&&(m.tagName==="PRE"||m.tagName==="TEXTAREA")&&(q=q.slice(1)),m.textContent!==q&&(yl(m,0)||Ms(),m.textContent=v.children)}if(x){if(te||!k||F&48){const q=m.tagName.includes("-");for(const Be in x)(te&&(Be.endsWith("value")||Be==="indeterminate")||Ss(Be)&&!wi(Be)||Be[0]==="."||q)&&i(m,Be,null,x[Be],void 0,T)}else if(x.onClick)i(m,"onClick",null,x.onClick,void 0,T);else if(F&4&&Si(x.style))for(const q in x.style)x.style[q]}let ne;(ne=x&&x.onVnodeBeforeMount)&&Tt(ne,T,v),V&&mn(v,null,T,"beforeMount"),((ne=x&&x.onVnodeMounted)||V||G)&&w_(()=>{ne&&Tt(ne,T,v),G&&K.enter(m),V&&mn(v,null,T,"mounted")},I)}return m.nextSibling},h=(m,v,T,I,M,k,C)=>{C=C||!!v.dynamicChildren;const x=v.children,F=x.length;for(let D=0;D<F;D++){const V=C?x[D]:x[D]=At(x[D]),K=V.type===Ci;m?(K&&!C&&D+1<F&&At(x[D+1]).type===Ci&&(a(s(m.data.slice(V.children.length)),T,r(m)),m.data=V.children),m=d(m,V,I,M,k,C)):K&&!V.children?a(V.el=s(""),T):(yl(T,1)||Ms(),n(null,V,T,null,I,M,vl(T),k))}return m},p=(m,v,T,I,M,k)=>{const{slotScopeIds:C}=v;C&&(M=M?M.concat(C):C);const x=o(m),F=h(r(m),v,x,T,I,M,k);return F&&Us(F)&&F.data==="]"?r(v.anchor=F):(Ms(),a(v.anchor=c("]"),x,F),F)},g=(m,v,T,I,M,k)=>{if(yl(m.parentElement,1)||Ms(),v.el=null,k){const F=y(m);for(;;){const D=r(m);if(D&&D!==F)l(D);else break}}const C=r(m),x=o(m);return l(m),n(null,v,x,C,T,I,vl(x),M),T&&(T.vnode.el=v.el,Tc(T,v.el)),C},y=(m,v="[",T="]")=>{let I=0;for(;m;)if(m=r(m),m&&Us(m)&&(m.data===v&&I++,m.data===T)){if(I===0)return r(m);I--}return m},_=(m,v,T)=>{const I=v.parentNode;I&&I.replaceChild(m,v);let M=T;for(;M;)M.vnode.el===v&&(M.vnode.el=M.subTree.el=m),M=M.parent},b=m=>m.nodeType===1&&m.tagName==="TEMPLATE";return[u,d]}const Gp="data-allow-mismatch",AA={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function yl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Gp);)t=t.parentElement;const n=t&&t.getAttribute(Gp);if(n==null)return!1;if(n==="")return!0;{const i=n.split(",");return e===0&&i.includes("children")?!0:n.split(",").includes(AA[e])}}const IA=ac().requestIdleCallback||(t=>setTimeout(t,1)),RA=ac().cancelIdleCallback||(t=>clearTimeout(t)),kA=(t=1e4)=>e=>{const n=IA(e,{timeout:t});return()=>RA(n)};function xA(t){const{top:e,left:n,bottom:i,right:s}=t.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;return(e>0&&e<r||i>0&&i<r)&&(n>0&&n<o||s>0&&s<o)}const DA=t=>(e,n)=>{const i=new IntersectionObserver(s=>{for(const r of s)if(r.isIntersecting){i.disconnect(),e();break}},t);return n(s=>{if(s instanceof Element){if(xA(s))return e(),i.disconnect(),!1;i.observe(s)}}),()=>i.disconnect()},NA=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},MA=(t=[])=>(e,n)=>{re(t)&&(t=[t]);let i=!1;const s=o=>{i||(i=!0,r(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},r=()=>{n(o=>{for(const l of t)o.removeEventListener(l,s)})};return n(o=>{for(const l of t)o.addEventListener(l,s,{once:!0})}),r};function OA(t,e){if(Us(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(Us(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const Ti=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function PA(t){Z(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,hydrate:r,timeout:o,suspensible:l=!0,onError:a}=t;let c=null,u,d=0;const f=()=>(d++,c=null,h()),h=()=>{let p;return c||(p=c=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),a)return new Promise((y,_)=>{a(g,()=>y(f()),()=>_(g),d+1)});throw g}).then(g=>p!==c&&c?c:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Vo({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,y){const _=r?()=>{const m=r(()=>{y()},v=>OA(p,v));m&&(g.bum||(g.bum=[])).push(m),(g.u||(g.u=[])).push(()=>!0)}:y;u?_():h().then(()=>!g.isUnmounted&&_())},get __asyncResolved(){return u},setup(){const p=Ke;if(Sf(p),u)return()=>lu(u,p);const g=m=>{c=null,As(m,p,13,!i)};if(l&&p.suspense||or)return h().then(m=>()=>lu(m,p)).catch(m=>(g(m),()=>i?Me(i,{error:m}):null));const y=Re(!1),_=Re(),b=Re(!!s);return s&&setTimeout(()=>{b.value=!1},s),o!=null&&setTimeout(()=>{if(!y.value&&!_.value){const m=new Error(`Async component timed out after ${o}ms.`);g(m),_.value=m}},o),h().then(()=>{y.value=!0,p.parent&&Wo(p.parent.vnode)&&p.parent.update()}).catch(m=>{g(m),_.value=m}),()=>{if(y.value&&u)return lu(u,p);if(_.value&&i)return Me(i,{error:_.value});if(n&&!b.value)return Me(n)}}})}function lu(t,e){const{ref:n,props:i,children:s,ce:r}=e.vnode,o=Me(t,i,s);return o.ref=n,o.ce=r,delete e.vnode.ce,o}const Wo=t=>t.type.__isKeepAlive,LA={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Zt(),i=n.ctx;if(!i.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const s=new Map,r=new Set;let o=null;const l=n.suspense,{renderer:{p:a,m:c,um:u,o:{createElement:d}}}=i,f=d("div");i.activate=(b,m,v,T,I)=>{const M=b.component;c(b,m,v,0,l),a(M.vnode,b,m,v,M,l,T,b.slotScopeIds,I),qe(()=>{M.isDeactivated=!1,M.a&&Gs(M.a);const k=b.props&&b.props.onVnodeMounted;k&&Tt(k,M.parent,b)},l)},i.deactivate=b=>{const m=b.component;oa(m.m),oa(m.a),c(b,f,null,1,l),qe(()=>{m.da&&Gs(m.da);const v=b.props&&b.props.onVnodeUnmounted;v&&Tt(v,m.parent,b),m.isDeactivated=!0},l)};function h(b){au(b),u(b,n,l,!0)}function p(b){s.forEach((m,v)=>{const T=ud(m.type);T&&!b(T)&&g(v)})}function g(b){const m=s.get(b);m&&(!o||!nn(m,o))?h(m):o&&au(o),s.delete(b),r.delete(b)}Ys(()=>[t.include,t.exclude],([b,m])=>{b&&p(v=>$r(b,v)),m&&p(v=>!$r(m,v))},{flush:"post",deep:!0});let y=null;const _=()=>{y!=null&&(la(n.subTree.type)?qe(()=>{s.set(y,_l(n.subTree))},n.subTree.suspense):s.set(y,_l(n.subTree)))};return Tn(_),bc(_),Ec(()=>{s.forEach(b=>{const{subTree:m,suspense:v}=n,T=_l(m);if(b.type===T.type&&b.key===T.key){au(T);const I=T.component.da;I&&qe(I,v);return}h(b)})}),()=>{if(y=null,!e.default)return o=null;const b=e.default(),m=b[0];if(b.length>1)return o=null,b;if(!Yn(m)||!(m.shapeFlag&4)&&!(m.shapeFlag&128))return o=null,m;let v=_l(m);if(v.type===Ge)return o=null,v;const T=v.type,I=ud(Ti(v)?v.type.__asyncResolved||{}:T),{include:M,exclude:k,max:C}=t;if(M&&(!I||!$r(M,I))||k&&I&&$r(k,I))return v.shapeFlag&=-257,o=v,m;const x=v.key==null?T:v.key,F=s.get(x);return v.el&&(v=En(v),m.shapeFlag&128&&(m.ssContent=v)),y=x,F?(v.el=F.el,v.component=F.component,v.transition&&qn(v,v.transition),v.shapeFlag|=512,r.delete(x),r.add(x)):(r.add(x),C&&r.size>parseInt(C,10)&&g(r.values().next().value)),v.shapeFlag|=256,o=v,la(m.type)?m:v}}},HA=LA;function $r(t,e){return $(t)?t.some(n=>$r(n,e)):re(t)?t.split(",").includes(e):tC(t)?(t.lastIndex=0,t.test(e)):!1}function jy(t,e){zy(t,"a",e)}function $y(t,e){zy(t,"da",e)}function zy(t,e,n=Ke){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(_c(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Wo(s.parent.vnode)&&FA(i,e,n,s),s=s.parent}}function FA(t,e,n,i){const s=_c(e,t,i,!0);wc(()=>{uf(i[e],s)},n)}function au(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function _l(t){return t.shapeFlag&128?t.ssContent:t}function _c(t,e,n=Ke,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{$n();const l=hs(n),a=Xt(e,n,t,o);return l(),zn(),a});return i?s.unshift(r):s.push(r),r}}const ti=t=>(e,n=Ke)=>{(!or||t==="sp")&&_c(t,(...i)=>e(...i),n)},Gy=ti("bm"),Tn=ti("m"),Tf=ti("bu"),bc=ti("u"),Ec=ti("bum"),wc=ti("um"),qy=ti("sp"),Yy=ti("rtg"),Ky=ti("rtc");function Qy(t,e=Ke){_c("ec",t,e)}const Cf="components",UA="directives";function BA(t,e){return Af(Cf,t,!0,e)||t}const Jy=Symbol.for("v-ndc");function VA(t){return re(t)?Af(Cf,t,!1)||t:t||Jy}function WA(t){return Af(UA,t)}function Af(t,e,n=!0,i=!1){const s=Xe||Ke;if(s){const r=s.type;if(t===Cf){const l=ud(r,!1);if(l&&(l===e||l===Le(e)||l===Cs(Le(e))))return r}const o=qp(s[t]||r[t],e)||qp(s.appContext[t],e);return!o&&i?r:o}}function qp(t,e){return t&&(t[e]||t[Le(e)]||t[Cs(Le(e))])}function Kt(t,e,n,i){let s;const r=n&&n[i],o=$(t);if(o||re(t)){const l=o&&Si(t);let a=!1,c=!1;l&&(a=!Vt(t),c=Gn(t),t=dc(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(a?c?ta(rt(t[u])):rt(t[u]):t[u],u,void 0,r&&r[u])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,r&&r[l])}else if(Ce(t))if(t[Symbol.iterator])s=Array.from(t,(l,a)=>e(l,a,void 0,r&&r[a]));else{const l=Object.keys(t);s=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];s[a]=e(t[u],u,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}function jA(t,e){for(let n=0;n<e.length;n++){const i=e[n];if($(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}function $A(t,e,n={},i,s){if(Xe.ce||Xe.parent&&Ti(Xe.parent)&&Xe.parent.ce)return e!=="default"&&(n.name=e),le(),On(we,null,[Me("slot",n,i&&i())],64);let r=t[e];r&&r._c&&(r._d=!1),le();const o=r&&If(r(n)),l=n.key||o&&o.key,a=On(we,{key:(l&&!Nt(l)?l:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function If(t){return t.some(e=>Yn(e)?!(e.type===Ge||e.type===we&&!If(e.children)):!0)?t:null}function zA(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:zs(i)]=t[i];return n}const Zu=t=>t?k_(t)?$o(t):Zu(t.parent):null,Kr=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zu(t.parent),$root:t=>Zu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Rf(t),$forceUpdate:t=>t.f||(t.f=()=>{_f(t.update)}),$nextTick:t=>t.n||(t.n=mc.bind(t.proxy)),$watch:t=>SI.bind(t)}),cu=(t,e)=>t!==ue&&!t.__isScriptSetup&&be(t,e),ed={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(cu(i,e))return o[e]=1,i[e];if(s!==ue&&be(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&be(c,e))return o[e]=3,r[e];if(n!==ue&&be(n,e))return o[e]=4,n[e];td&&(o[e]=0)}}const u=Kr[e];let d,f;if(u)return e==="$attrs"&&dt(t.attrs,"get",""),u(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(n!==ue&&be(n,e))return o[e]=4,n[e];if(f=a.config.globalProperties,be(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return cu(s,e)?(s[e]=n,!0):i!==ue&&be(i,e)?(i[e]=n,!0):be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let l;return!!n[o]||t!==ue&&be(t,o)||cu(e,o)||(l=r[0])&&be(l,o)||be(i,o)||be(Kr,o)||be(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:be(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},GA=fe({},ed,{get(t,e){if(e!==Symbol.unscopables)return ed.get(t,e,t)},has(t,e){return e[0]!=="_"&&!aC(e)}});function qA(){return null}function YA(){return null}function KA(t){}function QA(t){}function JA(){return null}function XA(){}function ZA(t,e){return null}function eI(){return Xy().slots}function tI(){return Xy().attrs}function Xy(){const t=Zt();return t.setupContext||(t.setupContext=M_(t))}function mo(t){return $(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function nI(t,e){const n=mo(t);for(const i in e){if(i.startsWith("__skip"))continue;let s=n[i];s?$(s)||Z(s)?s=n[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=n[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return n}function iI(t,e){return!t||!e?t||e:$(t)&&$(e)?t.concat(e):fe({},mo(t),mo(e))}function sI(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function rI(t){const e=Zt();let n=t();return ld(),df(n)&&(n=n.catch(i=>{throw hs(e),i})),[n,()=>hs(e)]}let td=!0;function oI(t){const e=Rf(t),n=t.proxy,i=t.ctx;td=!1,e.beforeCreate&&Yp(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:y,beforeDestroy:_,beforeUnmount:b,destroyed:m,unmounted:v,render:T,renderTracked:I,renderTriggered:M,errorCaptured:k,serverPrefetch:C,expose:x,inheritAttrs:F,components:D,directives:V,filters:K}=e;if(c&&lI(c,i,null),o)for(const ne in o){const q=o[ne];Z(q)&&(i[ne]=q.bind(n))}if(s){const ne=s.call(n,n);Ce(ne)&&(t.data=hc(ne))}if(td=!0,r)for(const ne in r){const q=r[ne],Be=Z(q)?q.bind(n,n):Z(q.get)?q.get.bind(n,n):it,dn=!Z(q)&&Z(q.set)?q.set.bind(n):it,en=Ai({get:Be,set:dn});Object.defineProperty(i,ne,{enumerable:!0,configurable:!0,get:()=>en.value,set:fn=>en.value=fn})}if(l)for(const ne in l)Zy(l[ne],i,n,ne);if(a){const ne=Z(a)?a.call(n):a;Reflect.ownKeys(ne).forEach(q=>{t_(q,ne[q])})}u&&Yp(u,t,"c");function G(ne,q){$(q)?q.forEach(Be=>ne(Be.bind(n))):q&&ne(q.bind(n))}if(G(Gy,d),G(Tn,f),G(Tf,h),G(bc,p),G(jy,g),G($y,y),G(Qy,k),G(Ky,I),G(Yy,M),G(Ec,b),G(wc,v),G(qy,C),$(x))if(x.length){const ne=t.exposed||(t.exposed={});x.forEach(q=>{Object.defineProperty(ne,q,{get:()=>n[q],set:Be=>n[q]=Be})})}else t.exposed||(t.exposed={});T&&t.render===it&&(t.render=T),F!=null&&(t.inheritAttrs=F),D&&(t.components=D),V&&(t.directives=V),C&&Sf(t)}function lI(t,e,n=it){$(t)&&(t=nd(t));for(const i in t){const s=t[i];let r;Ce(s)?"default"in s?r=Qr(s.from||i,s.default,!0):r=Qr(s.from||i):r=Qr(s),Ze(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Yp(t,e,n){Xt($(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Zy(t,e,n,i){let s=i.includes(".")?y_(n,i):()=>n[i];if(re(t)){const r=e[t];Z(r)&&Ys(s,r)}else if(Z(t))Ys(s,t.bind(n));else if(Ce(t))if($(t))t.forEach(r=>Zy(r,e,n,i));else{const r=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(r)&&Ys(s,r,t)}}function Rf(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!s.length&&!n&&!i?a=e:(a={},s.length&&s.forEach(c=>ra(a,c,o,!0)),ra(a,e,o)),Ce(e)&&r.set(e,a),a}function ra(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&ra(t,r,n,!0),s&&s.forEach(o=>ra(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const l=aI[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const aI={data:Kp,props:Qp,emits:Qp,methods:zr,computed:zr,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:zr,directives:zr,watch:uI,provide:Kp,inject:cI};function Kp(t,e){return e?t?function(){return fe(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function cI(t,e){return zr(nd(t),nd(e))}function nd(t){if($(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vt(t,e){return t?[...new Set([].concat(t,e))]:e}function zr(t,e){return t?fe(Object.create(null),t,e):e}function Qp(t,e){return t?$(t)&&$(e)?[...new Set([...t,...e])]:fe(Object.create(null),mo(t),mo(e??{})):e}function uI(t,e){if(!t)return e;if(!e)return t;const n=fe(Object.create(null),t);for(const i in e)n[i]=vt(t[i],e[i]);return n}function e_(){return{app:null,config:{isNativeTag:jr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dI=0;function fI(t,e){return function(i,s=null){Z(i)||(i=fe({},i)),s!=null&&!Ce(s)&&(s=null);const r=e_(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:dI++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:P_,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&Z(u.install)?(o.add(u),u.install(c,...d)):Z(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!a){const h=c._ceVNode||Me(i,s);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):t(h,u,f),a=!0,c._container=u,u.__vue_app__=c,$o(h.component)}},onUnmount(u){l.push(u)},unmount(){a&&(Xt(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=is;is=c;try{return u()}finally{is=d}}};return c}}let is=null;function t_(t,e){if(Ke){let n=Ke.provides;const i=Ke.parent&&Ke.parent.provides;i===n&&(n=Ke.provides=Object.create(i)),n[t]=e}}function Qr(t,e,n=!1){const i=Ke||Xe;if(i||is){let s=is?is._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Z(e)?e.call(i&&i.proxy):e}}function hI(){return!!(Ke||Xe||is)}const n_={},i_=()=>Object.create(n_),s_=t=>Object.getPrototypeOf(t)===n_;function pI(t,e,n,i=!1){const s={},r=i_();t.propsDefaults=Object.create(null),r_(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:wy(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function gI(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,l=me(s),[a]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Sc(t.emitsOptions,f))continue;const h=e[f];if(a)if(be(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=Le(f);s[p]=id(a,l,p,h,t,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{r_(t,e,s,r)&&(c=!0);let u;for(const d in l)(!e||!be(e,d)&&((u=It(d))===d||!be(e,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=id(a,l,d,void 0,t,!0)):delete s[d]);if(r!==l)for(const d in r)(!e||!be(e,d))&&(delete r[d],c=!0)}c&&Nn(t.attrs,"set","")}function r_(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(wi(a))continue;const c=e[a];let u;s&&be(s,u=Le(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:Sc(t.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,o=!0)}if(r){const a=me(n),c=l||ue;for(let u=0;u<r.length;u++){const d=r[u];n[d]=id(s,a,d,c[d],t,!be(c,d))}}return o}function id(t,e,n,i,s,r){const o=t[n];if(o!=null){const l=be(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&Z(a)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=hs(s);i=c[n]=a.call(null,e),u()}}else i=a;s.ce&&s.ce._setProp(n,i)}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===It(n))&&(i=!0))}return i}const mI=new WeakMap;function o_(t,e,n=!1){const i=n?mI:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},l=[];let a=!1;if(!Z(t)){const u=d=>{a=!0;const[f,h]=o_(d,e,!0);fe(o,f),h&&l.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return Ce(t)&&i.set(t,js),js;if($(r))for(let u=0;u<r.length;u++){const d=Le(r[u]);Jp(d)&&(o[d]=ue)}else if(r)for(const u in r){const d=Le(u);if(Jp(d)){const f=r[u],h=o[d]=$(f)||Z(f)?{type:f}:fe({},f),p=h.type;let g=!1,y=!0;if($(p))for(let _=0;_<p.length;++_){const b=p[_],m=Z(b)&&b.name;if(m==="Boolean"){g=!0;break}else m==="String"&&(y=!1)}else g=Z(p)&&p.name==="Boolean";h[0]=g,h[1]=y,(g||be(h,"default"))&&l.push(d)}}const c=[o,l];return Ce(t)&&i.set(t,c),c}function Jp(t){return t[0]!=="$"&&!wi(t)}const kf=t=>t[0]==="_"||t==="$stable",xf=t=>$(t)?t.map(At):[At(t)],vI=(t,e,n)=>{if(e._n)return e;const i=bf((...s)=>xf(e(...s)),n);return i._c=!1,i},l_=(t,e,n)=>{const i=t._ctx;for(const s in t){if(kf(s))continue;const r=t[s];if(Z(r))e[s]=vI(s,r,i);else if(r!=null){const o=xf(r);e[s]=()=>o}}},a_=(t,e)=>{const n=xf(e);t.slots.default=()=>n},c_=(t,e,n)=>{for(const i in e)(n||!kf(i))&&(t[i]=e[i])},yI=(t,e,n)=>{const i=t.slots=i_();if(t.vnode.shapeFlag&32){const s=e._;s?(c_(i,e,n),n&&ty(i,"_",s,!0)):l_(e,i)}else e&&a_(t,e)},_I=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=ue;if(i.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:c_(s,e,n):(r=!e.$stable,l_(e,s)),o=e}else e&&(a_(t,e),o={default:1});if(r)for(const l in s)!kf(l)&&o[l]==null&&delete s[l]},qe=w_;function u_(t){return f_(t)}function d_(t){return f_(t,CA)}function f_(t,e){const n=ac();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=it,insertStaticContent:p}=t,g=(E,S,N,L=null,O=null,P=null,j=void 0,W=null,B=!!S.dynamicChildren)=>{if(E===S)return;E&&!nn(E,S)&&(L=ul(E),fn(E,O,P,!0),E=null),S.patchFlag===-2&&(B=!1,S.dynamicChildren=null);const{type:H,ref:Q,shapeFlag:z}=S;switch(H){case Ci:y(E,S,N,L);break;case Ge:_(E,S,N,L);break;case ss:E==null&&b(S,N,L,j);break;case we:D(E,S,N,L,O,P,j,W,B);break;default:z&1?T(E,S,N,L,O,P,j,W,B):z&6?V(E,S,N,L,O,P,j,W,B):(z&64||z&128)&&H.process(E,S,N,L,O,P,j,W,B,Ds)}Q!=null&&O&&go(Q,E&&E.ref,P,S||E,!S)},y=(E,S,N,L)=>{if(E==null)i(S.el=l(S.children),N,L);else{const O=S.el=E.el;S.children!==E.children&&c(O,S.children)}},_=(E,S,N,L)=>{E==null?i(S.el=a(S.children||""),N,L):S.el=E.el},b=(E,S,N,L)=>{[E.el,E.anchor]=p(E.children,S,N,L,E.el,E.anchor)},m=({el:E,anchor:S},N,L)=>{let O;for(;E&&E!==S;)O=f(E),i(E,N,L),E=O;i(S,N,L)},v=({el:E,anchor:S})=>{let N;for(;E&&E!==S;)N=f(E),s(E),E=N;s(S)},T=(E,S,N,L,O,P,j,W,B)=>{S.type==="svg"?j="svg":S.type==="math"&&(j="mathml"),E==null?I(S,N,L,O,P,j,W,B):C(E,S,O,P,j,W,B)},I=(E,S,N,L,O,P,j,W)=>{let B,H;const{props:Q,shapeFlag:z,transition:Y,dirs:se}=E;if(B=E.el=o(E.type,P,Q&&Q.is,Q),z&8?u(B,E.children):z&16&&k(E.children,B,null,L,O,uu(E,P),j,W),se&&mn(E,null,L,"created"),M(B,E,E.scopeId,j,L),Q){for(const ke in Q)ke!=="value"&&!wi(ke)&&r(B,ke,null,Q[ke],P,L);"value"in Q&&r(B,"value",null,Q.value,P),(H=Q.onVnodeBeforeMount)&&Tt(H,L,E)}se&&mn(E,null,L,"beforeMount");const pe=h_(O,Y);pe&&Y.beforeEnter(B),i(B,S,N),((H=Q&&Q.onVnodeMounted)||pe||se)&&qe(()=>{H&&Tt(H,L,E),pe&&Y.enter(B),se&&mn(E,null,L,"mounted")},O)},M=(E,S,N,L,O)=>{if(N&&h(E,N),L)for(let P=0;P<L.length;P++)h(E,L[P]);if(O){let P=O.subTree;if(S===P||la(P.type)&&(P.ssContent===S||P.ssFallback===S)){const j=O.vnode;M(E,j,j.scopeId,j.slotScopeIds,O.parent)}}},k=(E,S,N,L,O,P,j,W,B=0)=>{for(let H=B;H<E.length;H++){const Q=E[H]=W?fi(E[H]):At(E[H]);g(null,Q,S,N,L,O,P,j,W)}},C=(E,S,N,L,O,P,j)=>{const W=S.el=E.el;let{patchFlag:B,dynamicChildren:H,dirs:Q}=S;B|=E.patchFlag&16;const z=E.props||ue,Y=S.props||ue;let se;if(N&&$i(N,!1),(se=Y.onVnodeBeforeUpdate)&&Tt(se,N,S,E),Q&&mn(S,E,N,"beforeUpdate"),N&&$i(N,!0),(z.innerHTML&&Y.innerHTML==null||z.textContent&&Y.textContent==null)&&u(W,""),H?x(E.dynamicChildren,H,W,N,L,uu(S,O),P):j||q(E,S,W,null,N,L,uu(S,O),P,!1),B>0){if(B&16)F(W,z,Y,N,O);else if(B&2&&z.class!==Y.class&&r(W,"class",null,Y.class,O),B&4&&r(W,"style",z.style,Y.style,O),B&8){const pe=S.dynamicProps;for(let ke=0;ke<pe.length;ke++){const Te=pe[ke],Pt=z[Te],lt=Y[Te];(lt!==Pt||Te==="value")&&r(W,Te,Pt,lt,O,N)}}B&1&&E.children!==S.children&&u(W,S.children)}else!j&&H==null&&F(W,z,Y,N,O);((se=Y.onVnodeUpdated)||Q)&&qe(()=>{se&&Tt(se,N,S,E),Q&&mn(S,E,N,"updated")},L)},x=(E,S,N,L,O,P,j)=>{for(let W=0;W<S.length;W++){const B=E[W],H=S[W],Q=B.el&&(B.type===we||!nn(B,H)||B.shapeFlag&198)?d(B.el):N;g(B,H,Q,null,L,O,P,j,!0)}},F=(E,S,N,L,O)=>{if(S!==N){if(S!==ue)for(const P in S)!wi(P)&&!(P in N)&&r(E,P,S[P],null,O,L);for(const P in N){if(wi(P))continue;const j=N[P],W=S[P];j!==W&&P!=="value"&&r(E,P,W,j,O,L)}"value"in N&&r(E,"value",S.value,N.value,O)}},D=(E,S,N,L,O,P,j,W,B)=>{const H=S.el=E?E.el:l(""),Q=S.anchor=E?E.anchor:l("");let{patchFlag:z,dynamicChildren:Y,slotScopeIds:se}=S;se&&(W=W?W.concat(se):se),E==null?(i(H,N,L),i(Q,N,L),k(S.children||[],N,Q,O,P,j,W,B)):z>0&&z&64&&Y&&E.dynamicChildren?(x(E.dynamicChildren,Y,N,O,P,j,W),(S.key!=null||O&&S===O.subTree)&&Df(E,S,!0)):q(E,S,N,Q,O,P,j,W,B)},V=(E,S,N,L,O,P,j,W,B)=>{S.slotScopeIds=W,E==null?S.shapeFlag&512?O.ctx.activate(S,N,L,j,B):K(S,N,L,O,P,j,B):te(E,S,B)},K=(E,S,N,L,O,P,j)=>{const W=E.component=R_(E,L,O);if(Wo(E)&&(W.ctx.renderer=Ds),x_(W,!1,j),W.asyncDep){if(O&&O.registerDep(W,G,j),!E.el){const B=W.subTree=Me(Ge);_(null,B,S,N)}}else G(W,E,S,N,O,P,j)},te=(E,S,N)=>{const L=S.component=E.component;if(kI(E,S,N))if(L.asyncDep&&!L.asyncResolved){ne(L,S,N);return}else L.next=S,L.update();else S.el=E.el,L.vnode=S},G=(E,S,N,L,O,P,j)=>{const W=()=>{if(E.isMounted){let{next:z,bu:Y,u:se,parent:pe,vnode:ke}=E;{const Lt=p_(E);if(Lt){z&&(z.el=ke.el,ne(E,z,j)),Lt.asyncDep.then(()=>{E.isUnmounted||W()});return}}let Te=z,Pt;$i(E,!1),z?(z.el=ke.el,ne(E,z,j)):z=ke,Y&&Gs(Y),(Pt=z.props&&z.props.onVnodeBeforeUpdate)&&Tt(Pt,pe,z,ke),$i(E,!0);const lt=Ll(E),tn=E.subTree;E.subTree=lt,g(tn,lt,d(tn.el),ul(tn),E,O,P),z.el=lt.el,Te===null&&Tc(E,lt.el),se&&qe(se,O),(Pt=z.props&&z.props.onVnodeUpdated)&&qe(()=>Tt(Pt,pe,z,ke),O)}else{let z;const{el:Y,props:se}=S,{bm:pe,m:ke,parent:Te,root:Pt,type:lt}=E,tn=Ti(S);if($i(E,!1),pe&&Gs(pe),!tn&&(z=se&&se.onVnodeBeforeMount)&&Tt(z,Te,S),$i(E,!0),Y&&tu){const Lt=()=>{E.subTree=Ll(E),tu(Y,E.subTree,E,O,null)};tn&&lt.__asyncHydrate?lt.__asyncHydrate(Y,E,Lt):Lt()}else{Pt.ce&&Pt.ce._injectChildStyle(lt);const Lt=E.subTree=Ll(E);g(null,Lt,N,L,E,O,P),S.el=Lt.el}if(ke&&qe(ke,O),!tn&&(z=se&&se.onVnodeMounted)){const Lt=S;qe(()=>Tt(z,Te,Lt),O)}(S.shapeFlag&256||Te&&Ti(Te.vnode)&&Te.vnode.shapeFlag&256)&&E.a&&qe(E.a,O),E.isMounted=!0,S=N=L=null}};E.scope.on();const B=E.effect=new ao(W);E.scope.off();const H=E.update=B.run.bind(B),Q=E.job=B.runIfDirty.bind(B);Q.i=E,Q.id=E.uid,B.scheduler=()=>_f(Q),$i(E,!0),H()},ne=(E,S,N)=>{S.component=E;const L=E.vnode.props;E.vnode=S,E.next=null,gI(E,S.props,L,N),_I(E,S.children,N),$n(),Bp(E),zn()},q=(E,S,N,L,O,P,j,W,B=!1)=>{const H=E&&E.children,Q=E?E.shapeFlag:0,z=S.children,{patchFlag:Y,shapeFlag:se}=S;if(Y>0){if(Y&128){dn(H,z,N,L,O,P,j,W,B);return}else if(Y&256){Be(H,z,N,L,O,P,j,W,B);return}}se&8?(Q&16&&Mr(H,O,P),z!==H&&u(N,z)):Q&16?se&16?dn(H,z,N,L,O,P,j,W,B):Mr(H,O,P,!0):(Q&8&&u(N,""),se&16&&k(z,N,L,O,P,j,W,B))},Be=(E,S,N,L,O,P,j,W,B)=>{E=E||js,S=S||js;const H=E.length,Q=S.length,z=Math.min(H,Q);let Y;for(Y=0;Y<z;Y++){const se=S[Y]=B?fi(S[Y]):At(S[Y]);g(E[Y],se,N,null,O,P,j,W,B)}H>Q?Mr(E,O,P,!0,!1,z):k(S,N,L,O,P,j,W,B,z)},dn=(E,S,N,L,O,P,j,W,B)=>{let H=0;const Q=S.length;let z=E.length-1,Y=Q-1;for(;H<=z&&H<=Y;){const se=E[H],pe=S[H]=B?fi(S[H]):At(S[H]);if(nn(se,pe))g(se,pe,N,null,O,P,j,W,B);else break;H++}for(;H<=z&&H<=Y;){const se=E[z],pe=S[Y]=B?fi(S[Y]):At(S[Y]);if(nn(se,pe))g(se,pe,N,null,O,P,j,W,B);else break;z--,Y--}if(H>z){if(H<=Y){const se=Y+1,pe=se<Q?S[se].el:L;for(;H<=Y;)g(null,S[H]=B?fi(S[H]):At(S[H]),N,pe,O,P,j,W,B),H++}}else if(H>Y)for(;H<=z;)fn(E[H],O,P,!0),H++;else{const se=H,pe=H,ke=new Map;for(H=pe;H<=Y;H++){const Ht=S[H]=B?fi(S[H]):At(S[H]);Ht.key!=null&&ke.set(Ht.key,H)}let Te,Pt=0;const lt=Y-pe+1;let tn=!1,Lt=0;const Or=new Array(lt);for(H=0;H<lt;H++)Or[H]=0;for(H=se;H<=z;H++){const Ht=E[H];if(Pt>=lt){fn(Ht,O,P,!0);continue}let hn;if(Ht.key!=null)hn=ke.get(Ht.key);else for(Te=pe;Te<=Y;Te++)if(Or[Te-pe]===0&&nn(Ht,S[Te])){hn=Te;break}hn===void 0?fn(Ht,O,P,!0):(Or[hn-pe]=H+1,hn>=Lt?Lt=hn:tn=!0,g(Ht,S[hn],N,null,O,P,j,W,B),Pt++)}const Op=tn?bI(Or):js;for(Te=Op.length-1,H=lt-1;H>=0;H--){const Ht=pe+H,hn=S[Ht],Pp=Ht+1<Q?S[Ht+1].el:L;Or[H]===0?g(null,hn,N,Pp,O,P,j,W,B):tn&&(Te<0||H!==Op[Te]?en(hn,N,Pp,2):Te--)}}},en=(E,S,N,L,O=null)=>{const{el:P,type:j,transition:W,children:B,shapeFlag:H}=E;if(H&6){en(E.component.subTree,S,N,L);return}if(H&128){E.suspense.move(S,N,L);return}if(H&64){j.move(E,S,N,Ds);return}if(j===we){i(P,S,N);for(let z=0;z<B.length;z++)en(B[z],S,N,L);i(E.anchor,S,N);return}if(j===ss){m(E,S,N);return}if(L!==2&&H&1&&W)if(L===0)W.beforeEnter(P),i(P,S,N),qe(()=>W.enter(P),O);else{const{leave:z,delayLeave:Y,afterLeave:se}=W,pe=()=>{E.ctx.isUnmounted?s(P):i(P,S,N)},ke=()=>{z(P,()=>{pe(),se&&se()})};Y?Y(P,pe,ke):ke()}else i(P,S,N)},fn=(E,S,N,L=!1,O=!1)=>{const{type:P,props:j,ref:W,children:B,dynamicChildren:H,shapeFlag:Q,patchFlag:z,dirs:Y,cacheIndex:se}=E;if(z===-2&&(O=!1),W!=null&&($n(),go(W,null,N,E,!0),zn()),se!=null&&(S.renderCache[se]=void 0),Q&256){S.ctx.deactivate(E);return}const pe=Q&1&&Y,ke=!Ti(E);let Te;if(ke&&(Te=j&&j.onVnodeBeforeUnmount)&&Tt(Te,S,E),Q&6)ZT(E.component,N,L);else{if(Q&128){E.suspense.unmount(N,L);return}pe&&mn(E,null,S,"beforeUnmount"),Q&64?E.type.remove(E,S,N,Ds,L):H&&!H.hasOnce&&(P!==we||z>0&&z&64)?Mr(H,S,N,!1,!0):(P===we&&z&384||!O&&Q&16)&&Mr(B,S,N),L&&Np(E)}(ke&&(Te=j&&j.onVnodeUnmounted)||pe)&&qe(()=>{Te&&Tt(Te,S,E),pe&&mn(E,null,S,"unmounted")},N)},Np=E=>{const{type:S,el:N,anchor:L,transition:O}=E;if(S===we){XT(N,L);return}if(S===ss){v(E);return}const P=()=>{s(N),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(E.shapeFlag&1&&O&&!O.persisted){const{leave:j,delayLeave:W}=O,B=()=>j(N,P);W?W(E.el,P,B):B()}else P()},XT=(E,S)=>{let N;for(;E!==S;)N=f(E),s(E),E=N;s(S)},ZT=(E,S,N)=>{const{bum:L,scope:O,job:P,subTree:j,um:W,m:B,a:H,parent:Q,slots:{__:z}}=E;oa(B),oa(H),L&&Gs(L),Q&&$(z)&&z.forEach(Y=>{Q.renderCache[Y]=void 0}),O.stop(),P&&(P.flags|=8,fn(j,E,S,N)),W&&qe(W,S),qe(()=>{E.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Mr=(E,S,N,L=!1,O=!1,P=0)=>{for(let j=P;j<E.length;j++)fn(E[j],S,N,L,O)},ul=E=>{if(E.shapeFlag&6)return ul(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const S=f(E.anchor||E.el),N=S&&S[Oy];return N?f(N):S};let Zc=!1;const Mp=(E,S,N)=>{E==null?S._vnode&&fn(S._vnode,null,null,!0):g(S._vnode||null,E,S,null,null,null,N),S._vnode=E,Zc||(Zc=!0,Bp(),sa(),Zc=!1)},Ds={p:g,um:fn,m:en,r:Np,mt:K,mc:k,pc:q,pbc:x,n:ul,o:t};let eu,tu;return e&&([eu,tu]=e(Ds)),{render:Mp,hydrate:eu,createApp:fI(Mp,eu)}}function uu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $i({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function h_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Df(t,e,n=!1){const i=t.children,s=e.children;if($(i)&&$(s))for(let r=0;r<i.length;r++){const o=i[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=fi(s[r]),l.el=o.el),!n&&l.patchFlag!==-2&&Df(o,l)),l.type===Ci&&(l.el=o.el),l.type===Ge&&!l.el&&(l.el=o.el)}}function bI(t){const e=t.slice(),n=[0];let i,s,r,o,l;const a=t.length;for(i=0;i<a;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<c?r=l+1:o=l;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function p_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:p_(e)}function oa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const g_=Symbol.for("v-scx"),m_=()=>Qr(g_);function EI(t,e){return jo(t,null,e)}function wI(t,e){return jo(t,null,{flush:"post"})}function v_(t,e){return jo(t,null,{flush:"sync"})}function Ys(t,e,n){return jo(t,e,n)}function jo(t,e,n=ue){const{immediate:i,deep:s,flush:r,once:o}=n,l=fe({},n),a=e&&i||!e&&r!=="post";let c;if(or){if(r==="sync"){const h=m_();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=it,h.resume=it,h.pause=it,h}}const u=Ke;l.call=(h,p,g)=>Xt(h,u,p,g);let d=!1;r==="post"?l.scheduler=h=>{qe(h,u&&u.suspense)}:r!=="sync"&&(d=!0,l.scheduler=(h,p)=>{p?h():_f(h)}),l.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=aA(t,e,l);return or&&(c?c.push(f):a&&f()),f}function SI(t,e,n){const i=this.proxy,s=re(t)?t.includes(".")?y_(i,t):()=>i[t]:t.bind(i,i);let r;Z(e)?r=e:(r=e.handler,n=e);const o=hs(this),l=jo(s,r.bind(i),n);return o(),l}function y_(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function TI(t,e,n=ue){const i=Zt(),s=Le(e),r=It(e),o=__(t,s),l=Ay((a,c)=>{let u,d=ue,f;return v_(()=>{const h=t[s];yt(u,h)&&(u=h,c())}),{get(){return a(),n.get?n.get(u):u},set(h){const p=n.set?n.set(h):h;if(!yt(p,u)&&!(d!==ue&&yt(h,d)))return;const g=i.vnode.props;g&&(e in g||s in g||r in g)&&(`onUpdate:${e}`in g||`onUpdate:${s}`in g||`onUpdate:${r}`in g)||(u=h,c()),i.emit(`update:${e}`,p),yt(h,p)&&yt(h,d)&&!yt(p,f)&&c(),d=h,f=p}}});return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?o||ue:l,done:!1}:{done:!0}}}},l}const __=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Le(e)}Modifiers`]||t[`${It(e)}Modifiers`];function CI(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ue;let s=n;const r=e.startsWith("update:"),o=r&&__(i,e.slice(7));o&&(o.trim&&(s=n.map(u=>re(u)?u.trim():u)),o.number&&(s=n.map(Xl)));let l,a=i[l=zs(e)]||i[l=zs(Le(e))];!a&&r&&(a=i[l=zs(It(e))]),a&&Xt(a,t,6,s);const c=i[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Xt(c,t,6,s)}}function b_(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},l=!1;if(!Z(t)){const a=c=>{const u=b_(c,e,!0);u&&(l=!0,fe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(Ce(t)&&i.set(t,null),null):($(r)?r.forEach(a=>o[a]=null):fe(o,r),Ce(t)&&i.set(t,o),o)}function Sc(t,e){return!t||!Ss(e)?!1:(e=e.slice(2).replace(/Once$/,""),be(t,e[0].toLowerCase()+e.slice(1))||be(t,It(e))||be(t,e))}function Ll(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=t,y=po(t);let _,b;try{if(n.shapeFlag&4){const v=s||i,T=v;_=At(c.call(T,v,u,d,h,f,p)),b=l}else{const v=e;_=At(v.length>1?v(d,{attrs:l,slots:o,emit:a}):v(d,null)),b=e.props?l:II(l)}}catch(v){Jr.length=0,As(v,t,1),_=Me(Ge)}let m=_;if(b&&g!==!1){const v=Object.keys(b),{shapeFlag:T}=m;v.length&&T&7&&(r&&v.some(cf)&&(b=RI(b,r)),m=En(m,b,!1,!0))}return n.dirs&&(m=En(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&qn(m,n.transition),_=m,po(y),_}function AI(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(Yn(s)){if(s.type!==Ge||s.children==="v-if"){if(n)return;n=s}}else return}return n}const II=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ss(n))&&((e||(e={}))[n]=t[n]);return e},RI=(t,e)=>{const n={};for(const i in t)(!cf(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function kI(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?Xp(i,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!Sc(c,f))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?Xp(i,o,c):!0:!!o;return!1}function Xp(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Sc(n,r))return!0}return!1}function Tc({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const la=t=>t.__isSuspense;let sd=0;const xI={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,o,l,a,c){if(t==null)NI(e,n,i,s,r,o,l,a,c);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}MI(t,e,n,i,s,o,l,a,c)}},hydrate:OI,normalize:PI},DI=xI;function vo(t,e){const n=t.props&&t.props[e];Z(n)&&n()}function NI(t,e,n,i,s,r,o,l,a){const{p:c,o:{createElement:u}}=a,d=u("div"),f=t.suspense=E_(t,s,i,e,d,n,r,o,l,a);c(null,f.pendingBranch=t.ssContent,d,null,i,f,r,o),f.deps>0?(vo(t,"onPending"),vo(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,o),Ks(f,t.ssFallback)):f.resolve(!1,!0)}function MI(t,e,n,i,s,r,o,l,{p:a,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:y,isHydrating:_}=d;if(g)d.pendingBranch=f,nn(f,g)?(a(g,f,d.hiddenContainer,null,s,d,r,o,l),d.deps<=0?d.resolve():y&&(_||(a(p,h,n,i,s,null,r,o,l),Ks(d,h)))):(d.pendingId=sd++,_?(d.isHydrating=!1,d.activeBranch=g):c(g,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),y?(a(null,f,d.hiddenContainer,null,s,d,r,o,l),d.deps<=0?d.resolve():(a(p,h,n,i,s,null,r,o,l),Ks(d,h))):p&&nn(f,p)?(a(p,f,n,i,s,d,r,o,l),d.resolve(!0)):(a(null,f,d.hiddenContainer,null,s,d,r,o,l),d.deps<=0&&d.resolve()));else if(p&&nn(f,p))a(p,f,n,i,s,d,r,o,l),Ks(d,f);else if(vo(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=sd++,a(null,f,d.hiddenContainer,null,s,d,r,o,l),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:m}=d;b>0?setTimeout(()=>{d.pendingId===m&&d.fallback(h)},b):b===0&&d.fallback(h)}}function E_(t,e,n,i,s,r,o,l,a,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:y}}=c;let _;const b=LI(t);b&&e&&e.pendingBranch&&(_=e.pendingId,e.deps++);const m=t.props?Zl(t.props.timeout):void 0,v=r,T={vnode:t,parent:e,parentComponent:n,namespace:o,container:i,hiddenContainer:s,deps:0,pendingId:sd++,timeout:typeof m=="number"?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(I=!1,M=!1){const{vnode:k,activeBranch:C,pendingBranch:x,pendingId:F,effects:D,parentComponent:V,container:K}=T;let te=!1;T.isHydrating?T.isHydrating=!1:I||(te=C&&x.transition&&x.transition.mode==="out-in",te&&(C.transition.afterLeave=()=>{F===T.pendingId&&(f(x,K,r===v?p(C):r,0),fo(D))}),C&&(g(C.el)===K&&(r=p(C)),h(C,V,T,!0)),te||f(x,K,r,0)),Ks(T,x),T.pendingBranch=null,T.isInFallback=!1;let G=T.parent,ne=!1;for(;G;){if(G.pendingBranch){G.effects.push(...D),ne=!0;break}G=G.parent}!ne&&!te&&fo(D),T.effects=[],b&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!M&&e.resolve()),vo(k,"onResolve")},fallback(I){if(!T.pendingBranch)return;const{vnode:M,activeBranch:k,parentComponent:C,container:x,namespace:F}=T;vo(M,"onFallback");const D=p(k),V=()=>{T.isInFallback&&(d(null,I,x,D,C,null,F,l,a),Ks(T,I))},K=I.transition&&I.transition.mode==="out-in";K&&(k.transition.afterLeave=V),T.isInFallback=!0,h(k,C,null,!0),K||V()},move(I,M,k){T.activeBranch&&f(T.activeBranch,I,M,k),T.container=I},next(){return T.activeBranch&&p(T.activeBranch)},registerDep(I,M,k){const C=!!T.pendingBranch;C&&T.deps++;const x=I.vnode.el;I.asyncDep.catch(F=>{As(F,I,0)}).then(F=>{if(I.isUnmounted||T.isUnmounted||T.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:D}=I;ad(I,F,!1),x&&(D.el=x);const V=!x&&I.subTree.el;M(I,D,g(x||I.subTree.el),x?null:p(I.subTree),T,o,k),V&&y(V),Tc(I,D.el),C&&--T.deps===0&&T.resolve()})},unmount(I,M){T.isUnmounted=!0,T.activeBranch&&h(T.activeBranch,n,I,M),T.pendingBranch&&h(T.pendingBranch,n,I,M)}};return T}function OI(t,e,n,i,s,r,o,l,a){const c=e.suspense=E_(e,i,n,t.parentNode,document.createElement("div"),null,s,r,o,l,!0),u=a(t,c.pendingBranch=e.ssContent,n,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function PI(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=Zp(i?n.default:n),t.ssFallback=i?Zp(n.fallback):Me(Ge)}function Zp(t){let e;if(Z(t)){const n=fs&&t._c;n&&(t._d=!1,le()),t=t(),n&&(t._d=!0,e=pt,S_())}return $(t)&&(t=AI(t)),t=At(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function w_(t,e){e&&e.pendingBranch?$(t)?e.effects.push(...t):e.effects.push(t):fo(t)}function Ks(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,Tc(i,s))}function LI(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const we=Symbol.for("v-fgt"),Ci=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),ss=Symbol.for("v-stc"),Jr=[];let pt=null;function le(t=!1){Jr.push(pt=t?null:[])}function S_(){Jr.pop(),pt=Jr[Jr.length-1]||null}let fs=1;function rd(t,e=!1){fs+=t,t<0&&pt&&e&&(pt.hasOnce=!0)}function T_(t){return t.dynamicChildren=fs>0?pt||js:null,S_(),fs>0&&pt&&pt.push(t),t}function ve(t,e,n,i,s,r){return T_(R(t,e,n,i,s,r,!0))}function On(t,e,n,i,s){return T_(Me(t,e,n,i,s,!0))}function Yn(t){return t?t.__v_isVNode===!0:!1}function nn(t,e){return t.type===e.type&&t.key===e.key}function HI(t){}const C_=({key:t})=>t??null,Hl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?re(t)||Ze(t)||Z(t)?{i:Xe,r:t,k:e,f:!!n}:t:null);function R(t,e=null,n=null,i=0,s=null,r=t===we?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&C_(e),ref:e&&Hl(e),scopeId:vc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xe};return l?(Nf(a,n),r&128&&t.normalize(a)):n&&(a.shapeFlag|=re(n)?8:16),fs>0&&!o&&pt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&pt.push(a),a}const Me=FI;function FI(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===Jy)&&(t=Ge),Yn(t)){const l=En(t,e,!0);return n&&Nf(l,n),fs>0&&!r&&pt&&(l.shapeFlag&6?pt[pt.indexOf(t)]=l:pt.push(l)),l.patchFlag=-2,l}if(zI(t)&&(t=t.__vccOpts),e){e=A_(e);let{class:l,style:a}=e;l&&!re(l)&&(e.class=yn(l)),Ce(a)&&(gc(a)&&!$(a)&&(a=fe({},a)),e.style=Uo(a))}const o=re(t)?1:la(t)?128:Py(t)?64:Ce(t)?4:Z(t)?2:0;return R(t,e,n,i,s,o,r,!0)}function A_(t){return t?gc(t)||s_(t)?fe({},t):t:null}function En(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:l,transition:a}=t,c=e?I_(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&C_(c),ref:e&&e.ref?n&&r?$(r)?r.concat(Hl(e)):[r,Hl(e)]:Hl(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&En(t.ssContent),ssFallback:t.ssFallback&&En(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&i&&qn(u,a.clone(u)),u}function Cc(t=" ",e=0){return Me(Ci,null,t,e)}function UI(t,e){const n=Me(ss,null,t);return n.staticCount=e,n}function Dn(t="",e=!1){return e?(le(),On(Ge,null,t)):Me(Ge,null,t)}function At(t){return t==null||typeof t=="boolean"?Me(Ge):$(t)?Me(we,null,t.slice()):Yn(t)?fi(t):Me(Ci,null,String(t))}function fi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:En(t)}function Nf(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if($(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Nf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!s_(e)?e._ctx=Xe:s===3&&Xe&&(Xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:Xe},n=32):(e=String(e),i&64?(n=16,e=[Cc(e)]):n=8);t.children=e,t.shapeFlag|=n}function I_(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=yn([e.class,i.class]));else if(s==="style")e.style=Uo([e.style,i.style]);else if(Ss(s)){const r=e[s],o=i[s];o&&r!==o&&!($(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Tt(t,e,n,i=null){Xt(t,e,7,[n,i])}const BI=e_();let VI=0;function R_(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||BI,r={uid:VI++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:o_(i,s),emitsOptions:b_(i,s),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:i.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=CI.bind(null,r),t.ce&&t.ce(r),r}let Ke=null;const Zt=()=>Ke||Xe;let aa,od;{const t=ac(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};aa=e("__VUE_INSTANCE_SETTERS__",n=>Ke=n),od=e("__VUE_SSR_SETTERS__",n=>or=n)}const hs=t=>{const e=Ke;return aa(t),t.scope.on(),()=>{t.scope.off(),aa(e)}},ld=()=>{Ke&&Ke.scope.off(),aa(null)};function k_(t){return t.vnode.shapeFlag&4}let or=!1;function x_(t,e=!1,n=!1){e&&od(e);const{props:i,children:s}=t.vnode,r=k_(t);pI(t,i,r,e),yI(t,s,n||e);const o=r?WI(t,e):void 0;return e&&od(!1),o}function WI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ed);const{setup:i}=n;if(i){$n();const s=t.setupContext=i.length>1?M_(t):null,r=hs(t),o=Sr(i,t,0,[t.props,s]),l=df(o);if(zn(),r(),(l||t.sp)&&!Ti(t)&&Sf(t),l){if(o.then(ld,ld),e)return o.then(a=>{ad(t,a,e)}).catch(a=>{As(a,t,0)});t.asyncDep=o}else ad(t,o,e)}else N_(t,e)}function ad(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ce(e)&&(t.setupState=yf(e)),N_(t,n)}let ca,cd;function D_(t){ca=t,cd=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,GA))}}const jI=()=>!ca;function N_(t,e,n){const i=t.type;if(!t.render){if(!e&&ca&&!i.render){const s=i.template||Rf(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=i,c=fe(fe({isCustomElement:r,delimiters:l},o),a);i.render=ca(s,c)}}t.render=i.render||it,cd&&cd(t)}{const s=hs(t);$n();try{oI(t)}finally{zn(),s()}}}const $I={get(t,e){return dt(t,"get",""),t[e]}};function M_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,$I),slots:t.slots,emit:t.emit,expose:e}}function $o(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(yf(Sy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Kr)return Kr[n](t)},has(e,n){return n in e||n in Kr}})):t.proxy}function ud(t,e=!0){return Z(t)?t.displayName||t.name:t.name||e&&t.__name}function zI(t){return Z(t)&&"__vccOpts"in t}const Ai=(t,e)=>sA(t,e,or);function Qs(t,e,n){const i=arguments.length;return i===2?Ce(e)&&!$(e)?Yn(e)?Me(t,null,[e]):Me(t,e):Me(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Yn(n)&&(n=[n]),Me(t,e,n))}function GI(){}function qI(t,e,n,i){const s=n[i];if(s&&O_(s,t))return s;const r=e();return r.memo=t.slice(),r.cacheIndex=i,n[i]=r}function O_(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(yt(n[i],e[i]))return!1;return fs>0&&pt&&pt.push(t),!0}const P_="3.5.16",YI=it,KI=hA,QI=Hs,JI=My,XI={createComponentInstance:R_,setupComponent:x_,renderComponentRoot:Ll,setCurrentRenderingInstance:po,isVNode:Yn,normalizeVNode:At,getComponentPublicInstance:$o,ensureValidVNode:If,pushWarningContext:cA,popWarningContext:uA},ZI=XI,e0=null,t0=null,n0=null;/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dd;const eg=typeof window<"u"&&window.trustedTypes;if(eg)try{dd=eg.createPolicy("vue",{createHTML:t=>t})}catch{}const L_=dd?t=>dd.createHTML(t):t=>t,i0="http://www.w3.org/2000/svg",s0="http://www.w3.org/1998/Math/MathML",xn=typeof document<"u"?document:null,tg=xn&&xn.createElement("template"),r0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?xn.createElementNS(i0,t):e==="mathml"?xn.createElementNS(s0,t):n?xn.createElement(t,{is:n}):xn.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>xn.createTextNode(t),createComment:t=>xn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>xn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{tg.innerHTML=L_(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const l=tg.content;if(i==="svg"||i==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ri="transition",Lr="animation",lr=Symbol("_vtc"),H_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F_=fe({},wf,H_),o0=t=>(t.displayName="Transition",t.props=F_,t),l0=o0((t,{slots:e})=>Qs(Vy,U_(t),e)),zi=(t,e=[])=>{$(t)?t.forEach(n=>n(...e)):t&&t(...e)},ng=t=>t?$(t)?t.some(e=>e.length>1):t.length>1:!1;function U_(t){const e={};for(const D in t)D in H_||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:c=o,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=a0(s),g=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:b,onEnterCancelled:m,onLeave:v,onLeaveCancelled:T,onBeforeAppear:I=_,onAppear:M=b,onAppearCancelled:k=m}=e,C=(D,V,K,te)=>{D._enterCancelled=te,ai(D,V?u:l),ai(D,V?c:o),K&&K()},x=(D,V)=>{D._isLeaving=!1,ai(D,d),ai(D,h),ai(D,f),V&&V()},F=D=>(V,K)=>{const te=D?M:b,G=()=>C(V,D,K);zi(te,[V,G]),ig(()=>{ai(V,D?a:r),pn(V,D?u:l),ng(te)||sg(V,i,g,G)})};return fe(e,{onBeforeEnter(D){zi(_,[D]),pn(D,r),pn(D,o)},onBeforeAppear(D){zi(I,[D]),pn(D,a),pn(D,c)},onEnter:F(!1),onAppear:F(!0),onLeave(D,V){D._isLeaving=!0;const K=()=>x(D,V);pn(D,d),D._enterCancelled?(pn(D,f),fd()):(fd(),pn(D,f)),ig(()=>{D._isLeaving&&(ai(D,d),pn(D,h),ng(v)||sg(D,i,y,K))}),zi(v,[D,K])},onEnterCancelled(D){C(D,!1,void 0,!0),zi(m,[D])},onAppearCancelled(D){C(D,!0,void 0,!0),zi(k,[D])},onLeaveCancelled(D){x(D),zi(T,[D])}})}function a0(t){if(t==null)return null;if(Ce(t))return[du(t.enter),du(t.leave)];{const e=du(t);return[e,e]}}function du(t){return Zl(t)}function pn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[lr]||(t[lr]=new Set)).add(e)}function ai(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[lr];n&&(n.delete(e),n.size||(t[lr]=void 0))}function ig(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let c0=0;function sg(t,e,n,i){const s=t._endId=++c0,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:l,propCount:a}=B_(t,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=h=>{h.target===t&&++u>=a&&d()};setTimeout(()=>{u<a&&d()},l+1),t.addEventListener(c,f)}function B_(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),s=i(`${ri}Delay`),r=i(`${ri}Duration`),o=rg(s,r),l=i(`${Lr}Delay`),a=i(`${Lr}Duration`),c=rg(l,a);let u=null,d=0,f=0;e===ri?o>0&&(u=ri,d=o,f=r.length):e===Lr?c>0&&(u=Lr,d=c,f=a.length):(d=Math.max(o,c),u=d>0?o>c?ri:Lr:null,f=u?u===ri?r.length:a.length:0);const h=u===ri&&/\b(transform|all)(,|$)/.test(i(`${ri}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function rg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>og(n)+og(t[i])))}function og(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function fd(){return document.body.offsetHeight}function u0(t,e,n){const i=t[lr];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ua=Symbol("_vod"),V_=Symbol("_vsh"),W_={beforeMount(t,{value:e},{transition:n}){t[ua]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Hr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Hr(t,!0),i.enter(t)):i.leave(t,()=>{Hr(t,!1)}):Hr(t,e))},beforeUnmount(t,{value:e}){Hr(t,e)}};function Hr(t,e){t.style.display=e?t[ua]:"none",t[V_]=!e}function d0(){W_.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const j_=Symbol("");function f0(t){const e=Zt();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>da(r,s))},i=()=>{const s=t(e.proxy);e.ce?da(e.ce,s):hd(e.subTree,s),n(s)};Tf(()=>{fo(i)}),Tn(()=>{Ys(i,it,{flush:"post"});const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),wc(()=>s.disconnect())})}function hd(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{hd(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)da(t.el,e);else if(t.type===we)t.children.forEach(n=>hd(n,e));else if(t.type===ss){let{el:n,anchor:i}=t;for(;n&&(da(n,e),n!==i);)n=n.nextSibling}}function da(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const s in e)n.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;n[j_]=i}}const h0=/(^|;)\s*display\s*:/;function p0(t,e,n){const i=t.style,s=re(n);let r=!1;if(n&&!s){if(e)if(re(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Fl(i,l,"")}else for(const o in e)n[o]==null&&Fl(i,o,"");for(const o in n)o==="display"&&(r=!0),Fl(i,o,n[o])}else if(s){if(e!==n){const o=i[j_];o&&(n+=";"+o),i.cssText=n,r=h0.test(n)}}else e&&t.removeAttribute("style");ua in t&&(t[ua]=r?i.display:"",t[V_]&&(i.display="none"))}const lg=/\s*!important$/;function Fl(t,e,n){if($(n))n.forEach(i=>Fl(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=g0(t,e);lg.test(n)?t.setProperty(It(i),n.replace(lg,""),"important"):t[i]=n}}const ag=["Webkit","Moz","ms"],fu={};function g0(t,e){const n=fu[e];if(n)return n;let i=Le(e);if(i!=="filter"&&i in t)return fu[e]=i;i=Cs(i);for(let s=0;s<ag.length;s++){const r=ag[s]+i;if(r in t)return fu[e]=r}return e}const cg="http://www.w3.org/1999/xlink";function ug(t,e,n,i,s,r=wC(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(cg,e.slice(6,e.length)):t.setAttributeNS(cg,e,n):n==null||r&&!iy(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Nt(n)?String(n):n)}function dg(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?L_(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=iy(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Pn(t,e,n,i){t.addEventListener(e,n,i)}function m0(t,e,n,i){t.removeEventListener(e,n,i)}const fg=Symbol("_vei");function v0(t,e,n,i,s=null){const r=t[fg]||(t[fg]={}),o=r[e];if(i&&o)o.value=i;else{const[l,a]=y0(e);if(i){const c=r[e]=E0(i,s);Pn(t,l,c,a)}else o&&(m0(t,l,o,a),r[e]=void 0)}}const hg=/(?:Once|Passive|Capture)$/;function y0(t){let e;if(hg.test(t)){e={};let i;for(;i=t.match(hg);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):It(t.slice(2)),e]}let hu=0;const _0=Promise.resolve(),b0=()=>hu||(_0.then(()=>hu=0),hu=Date.now());function E0(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Xt(w0(i,n.value),e,5,[i])};return n.value=t,n.attached=b0(),n}function w0(t,e){if($(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const pg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,S0=(t,e,n,i,s,r)=>{const o=s==="svg";e==="class"?u0(t,i,o):e==="style"?p0(t,n,i):Ss(e)?cf(e)||v0(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):T0(t,e,i,o))?(dg(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ug(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!re(i))?dg(t,Le(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),ug(t,e,i,o))};function T0(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&pg(e)&&Z(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return pg(e)&&re(n)?!1:e in t}const gg={};/*! #__NO_SIDE_EFFECTS__ */function $_(t,e,n){const i=Vo(t,e);oc(i)&&fe(i,e);class s extends Ac{constructor(o){super(i,o,n)}}return s.def=i,s}/*! #__NO_SIDE_EFFECTS__ */const C0=(t,e)=>$_(t,e,nb),A0=typeof HTMLElement<"u"?HTMLElement:class{};class Ac extends A0{constructor(e,n={},i=ha){super(),this._def=e,this._props=n,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==ha?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Ac){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,mc(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:r,styles:o}=i;let l;if(r&&!$(r))for(const a in r){const c=r[a];(c===Number||c&&c.type===Number)&&(a in this._props&&(this._props[a]=Zl(this._props[a])),(l||(l=Object.create(null)))[Le(a)]=!0)}this._numberProps=l,this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const i in n)be(this,i)||Object.defineProperty(this,i,{get:()=>Bo(n[i])})}_resolveProps(e){const{props:n}=e,i=$(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s]);for(const s of i.map(Le))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(r){this._setProp(s,r,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let i=n?this.getAttribute(e):gg;const s=Le(e);n&&this._numberProps&&this._numberProps[s]&&(i=Zl(i)),this._setProp(s,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,s=!1){if(n!==this._props[e]&&(n===gg?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),i)){const r=this._ob;r&&r.disconnect(),n===!0?this.setAttribute(It(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(It(e),n+""):n||this.removeAttribute(It(e)),r&&r.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),tb(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Me(this._def,fe(e,this._props));return this._instance||(n.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const s=(r,o)=>{this.dispatchEvent(new CustomEvent(r,oc(o[0])?fe({detail:o},o[0]):{detail:o}))};i.emit=(r,...o)=>{s(r,o),It(r)!==r&&s(It(r),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const i=this._nonce;for(let s=e.length-1;s>=0;s--){const r=document.createElement("style");i&&r.setAttribute("nonce",i),r.textContent=e[s],this.shadowRoot.prepend(r)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const i=n.nodeType===1&&n.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const s=e[i],r=s.getAttribute("name")||"default",o=this._slots[r],l=s.parentNode;if(o)for(const a of o){if(n&&a.nodeType===1){const c=n+"-s",u=document.createTreeWalker(a,1);a.setAttribute(c,"");let d;for(;d=u.nextNode();)d.setAttribute(c,"")}l.insertBefore(a,s)}else for(;s.firstChild;)l.insertBefore(s.firstChild,s);l.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function z_(t){const e=Zt(),n=e&&e.ce;return n||null}function I0(){const t=z_();return t&&t.shadowRoot}function R0(t="$style"){{const e=Zt();if(!e)return ue;const n=e.type.__cssModules;if(!n)return ue;const i=n[t];return i||ue}}const G_=new WeakMap,q_=new WeakMap,fa=Symbol("_moveCb"),mg=Symbol("_enterCb"),k0=t=>(delete t.props.mode,t),x0=k0({name:"TransitionGroup",props:fe({},F_,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Zt(),i=Ef();let s,r;return bc(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!P0(s[0].el,n.vnode.el,o)){s=[];return}s.forEach(N0),s.forEach(M0);const l=s.filter(O0);fd(),l.forEach(a=>{const c=a.el,u=c.style;pn(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[fa]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[fa]=null,ai(c,o))};c.addEventListener("transitionend",d)}),s=[]}),()=>{const o=me(t),l=U_(o);let a=o.tag||we;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),qn(u,rr(u,l,i,n)),G_.set(u,u.el.getBoundingClientRect()))}r=e.default?yc(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&qn(u,rr(u,l,i,n))}return Me(a,null,r)}}}),D0=x0;function N0(t){const e=t.el;e[fa]&&e[fa](),e[mg]&&e[mg]()}function M0(t){q_.set(t,t.el.getBoundingClientRect())}function O0(t){const e=G_.get(t),n=q_.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function P0(t,e,n){const i=t.cloneNode(),s=t[lr];s&&s.forEach(l=>{l.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=B_(i);return r.removeChild(i),o}const Pi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $(e)?n=>Gs(e,n):e};function L0(t){t.target.composing=!0}function vg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Jt=Symbol("_assign"),ot={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Jt]=Pi(s);const r=i||s.props&&s.props.type==="number";Pn(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=Xl(l)),t[Jt](l)}),n&&Pn(t,"change",()=>{t.value=t.value.trim()}),e||(Pn(t,"compositionstart",L0),Pn(t,"compositionend",vg),Pn(t,"change",vg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},o){if(t[Jt]=Pi(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?Xl(t.value):t.value,a=e??"";l!==a&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===a)||(t.value=a))}},Mf={deep:!0,created(t,e,n){t[Jt]=Pi(n),Pn(t,"change",()=>{const i=t._modelValue,s=ar(t),r=t.checked,o=t[Jt];if($(i)){const l=cc(i,s),a=l!==-1;if(r&&!a)o(i.concat(s));else if(!r&&a){const c=[...i];c.splice(l,1),o(c)}}else if(Ts(i)){const l=new Set(i);r?l.add(s):l.delete(s),o(l)}else o(K_(t,r))})},mounted:yg,beforeUpdate(t,e,n){t[Jt]=Pi(n),yg(t,e,n)}};function yg(t,{value:e,oldValue:n},i){t._modelValue=e;let s;if($(e))s=cc(e,i.props.value)>-1;else if(Ts(e))s=e.has(i.props.value);else{if(e===n)return;s=Oi(e,K_(t,!0))}t.checked!==s&&(t.checked=s)}const Of={created(t,{value:e},n){t.checked=Oi(e,n.props.value),t[Jt]=Pi(n),Pn(t,"change",()=>{t[Jt](ar(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[Jt]=Pi(i),e!==n&&(t.checked=Oi(e,i.props.value))}},Y_={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Ts(e);Pn(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Xl(ar(o)):ar(o));t[Jt](t.multiple?s?new Set(r):r:r[0]),t._assigning=!0,mc(()=>{t._assigning=!1})}),t[Jt]=Pi(i)},mounted(t,{value:e}){_g(t,e)},beforeUpdate(t,e,n){t[Jt]=Pi(n)},updated(t,{value:e}){t._assigning||_g(t,e)}};function _g(t,e){const n=t.multiple,i=$(e);if(!(n&&!i&&!Ts(e))){for(let s=0,r=t.options.length;s<r;s++){const o=t.options[s],l=ar(o);if(n)if(i){const a=typeof l;a==="string"||a==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=cc(e,l)>-1}else o.selected=e.has(l);else if(Oi(ar(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ar(t){return"_value"in t?t._value:t.value}function K_(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Q_={created(t,e,n){bl(t,e,n,null,"created")},mounted(t,e,n){bl(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){bl(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){bl(t,e,n,i,"updated")}};function J_(t,e){switch(t){case"SELECT":return Y_;case"TEXTAREA":return ot;default:switch(e){case"checkbox":return Mf;case"radio":return Of;default:return ot}}}function bl(t,e,n,i,s){const o=J_(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,i)}function H0(){ot.getSSRProps=({value:t})=>({value:t}),Of.getSSRProps=({value:t},e)=>{if(e.props&&Oi(e.props.value,t))return{checked:!0}},Mf.getSSRProps=({value:t},e)=>{if($(t)){if(e.props&&cc(t,e.props.value)>-1)return{checked:!0}}else if(Ts(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Q_.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=J_(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const F0=["ctrl","shift","alt","meta"],U0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>F0.some(n=>t[`${n}Key`]&&!e.includes(n))},B0=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const l=U0[e[o]];if(l&&l(s,e))return}return t(s,...r)})},V0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},W0=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=It(s.key);if(e.some(o=>o===r||V0[o]===r))return t(s)})},X_=fe({patchProp:S0},r0);let Xr,bg=!1;function Z_(){return Xr||(Xr=u_(X_))}function eb(){return Xr=bg?Xr:d_(X_),bg=!0,Xr}const tb=(...t)=>{Z_().render(...t)},j0=(...t)=>{eb().hydrate(...t)},ha=(...t)=>{const e=Z_().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=sb(i);if(!s)return;const r=e._component;!Z(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,ib(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},nb=(...t)=>{const e=eb().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=sb(i);if(s)return n(s,!0,ib(s))},e};function ib(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sb(t){return re(t)?document.querySelector(t):t}let Eg=!1;const $0=()=>{Eg||(Eg=!0,H0(),d0())},z0=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Vy,BaseTransitionPropsValidators:wf,Comment:Ge,DeprecationTypes:n0,EffectScope:hf,ErrorCodes:fA,ErrorTypeStrings:KI,Fragment:we,KeepAlive:HA,ReactiveEffect:ao,Static:ss,Suspense:DI,Teleport:Hy,Text:Ci,TrackOpTypes:rA,Transition:l0,TransitionGroup:D0,TriggerOpTypes:oA,VueElement:Ac,assertNumber:dA,callWithAsyncErrorHandling:Xt,callWithErrorHandling:Sr,camelize:Le,capitalize:Cs,cloneVNode:En,compatUtils:t0,computed:Ai,createApp:ha,createBlock:On,createCommentVNode:Dn,createElementBlock:ve,createElementVNode:R,createHydrationRenderer:d_,createPropsRestProxy:sI,createRenderer:u_,createSSRApp:nb,createSlots:jA,createStaticVNode:UI,createTextVNode:Cc,createVNode:Me,customRef:Ay,defineAsyncComponent:PA,defineComponent:Vo,defineCustomElement:$_,defineEmits:YA,defineExpose:KA,defineModel:XA,defineOptions:QA,defineProps:qA,defineSSRCustomElement:C0,defineSlots:JA,devtools:QI,effect:IC,effectScope:TC,getCurrentInstance:Zt,getCurrentScope:oy,getCurrentWatcher:lA,getTransitionRawChildren:yc,guardReactiveProps:A_,h:Qs,handleError:As,hasInjectionContext:hI,hydrate:j0,hydrateOnIdle:kA,hydrateOnInteraction:MA,hydrateOnMediaQuery:NA,hydrateOnVisible:DA,initCustomFormatter:GI,initDirectivesForSSR:$0,inject:Qr,isMemoSame:O_,isProxy:gc,isReactive:Si,isReadonly:Gn,isRef:Ze,isRuntimeOnly:jI,isShallow:Vt,isVNode:Yn,markRaw:Sy,mergeDefaults:nI,mergeModels:iI,mergeProps:I_,nextTick:mc,normalizeClass:yn,normalizeProps:fC,normalizeStyle:Uo,onActivated:jy,onBeforeMount:Gy,onBeforeUnmount:Ec,onBeforeUpdate:Tf,onDeactivated:$y,onErrorCaptured:Qy,onMounted:Tn,onRenderTracked:Ky,onRenderTriggered:Yy,onScopeDispose:CC,onServerPrefetch:qy,onUnmounted:wc,onUpdated:bc,onWatcherCleanup:Ry,openBlock:le,popScopeId:vA,provide:t_,proxyRefs:yf,pushScopeId:mA,queuePostFlushCb:fo,reactive:hc,readonly:vf,ref:Re,registerRuntimeCompiler:D_,render:tb,renderList:Kt,renderSlot:$A,resolveComponent:BA,resolveDirective:WA,resolveDynamicComponent:VA,resolveFilter:e0,resolveTransitionHooks:rr,setBlockTracking:rd,setDevtoolsHook:JI,setTransitionHooks:qn,shallowReactive:wy,shallowReadonly:qC,shallowRef:Ty,ssrContextKey:g_,ssrUtils:ZI,stop:RC,toDisplayString:ye,toHandlerKey:zs,toHandlers:zA,toRaw:me,toRef:nA,toRefs:ZC,toValue:QC,transformVNodeArgs:HI,triggerRef:KC,unref:Bo,useAttrs:tI,useCssModule:R0,useCssVars:f0,useHost:z_,useId:EA,useModel:TI,useSSRContext:m_,useShadowRoot:I0,useSlots:eI,useTemplateRef:wA,useTransitionState:Ef,vModelCheckbox:Mf,vModelDynamic:Q_,vModelRadio:Of,vModelSelect:Y_,vModelText:ot,vShow:W_,version:P_,warn:YI,watch:Ys,watchEffect:EI,watchPostEffect:wI,watchSyncEffect:v_,withAsyncContext:rI,withCtx:bf,withDefaults:ZA,withDirectives:Ct,withKeys:W0,withMemo:qI,withModifiers:B0,withScopeId:yA},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yo=Symbol(""),Zr=Symbol(""),Pf=Symbol(""),pa=Symbol(""),rb=Symbol(""),ps=Symbol(""),ob=Symbol(""),lb=Symbol(""),Lf=Symbol(""),Hf=Symbol(""),zo=Symbol(""),Ff=Symbol(""),ab=Symbol(""),Uf=Symbol(""),Bf=Symbol(""),Vf=Symbol(""),Wf=Symbol(""),jf=Symbol(""),$f=Symbol(""),cb=Symbol(""),ub=Symbol(""),Ic=Symbol(""),ga=Symbol(""),zf=Symbol(""),Gf=Symbol(""),_o=Symbol(""),Go=Symbol(""),qf=Symbol(""),pd=Symbol(""),G0=Symbol(""),gd=Symbol(""),ma=Symbol(""),q0=Symbol(""),Y0=Symbol(""),Yf=Symbol(""),K0=Symbol(""),Q0=Symbol(""),Kf=Symbol(""),db=Symbol(""),cr={[yo]:"Fragment",[Zr]:"Teleport",[Pf]:"Suspense",[pa]:"KeepAlive",[rb]:"BaseTransition",[ps]:"openBlock",[ob]:"createBlock",[lb]:"createElementBlock",[Lf]:"createVNode",[Hf]:"createElementVNode",[zo]:"createCommentVNode",[Ff]:"createTextVNode",[ab]:"createStaticVNode",[Uf]:"resolveComponent",[Bf]:"resolveDynamicComponent",[Vf]:"resolveDirective",[Wf]:"resolveFilter",[jf]:"withDirectives",[$f]:"renderList",[cb]:"renderSlot",[ub]:"createSlots",[Ic]:"toDisplayString",[ga]:"mergeProps",[zf]:"normalizeClass",[Gf]:"normalizeStyle",[_o]:"normalizeProps",[Go]:"guardReactiveProps",[qf]:"toHandlers",[pd]:"camelize",[G0]:"capitalize",[gd]:"toHandlerKey",[ma]:"setBlockTracking",[q0]:"pushScopeId",[Y0]:"popScopeId",[Yf]:"withCtx",[K0]:"unref",[Q0]:"isRef",[Kf]:"withMemo",[db]:"isMemoSame"};function J0(t){Object.getOwnPropertySymbols(t).forEach(e=>{cr[e]=t[e]})}const zt={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function X0(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:zt}}function bo(t,e,n,i,s,r,o,l=!1,a=!1,c=!1,u=zt){return t&&(l?(t.helper(ps),t.helper(fr(t.inSSR,c))):t.helper(dr(t.inSSR,c)),o&&t.helper(jf)),{type:13,tag:e,props:n,children:i,patchFlag:s,dynamicProps:r,directives:o,isBlock:l,disableTracking:a,isComponent:c,loc:u}}function rs(t,e=zt){return{type:17,loc:e,elements:t}}function Qt(t,e=zt){return{type:15,loc:e,properties:t}}function $e(t,e){return{type:16,loc:zt,key:re(t)?oe(t,!0):t,value:e}}function oe(t,e=!1,n=zt,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function cn(t,e=zt){return{type:8,loc:e,children:t}}function Ye(t,e=[],n=zt){return{type:14,loc:n,callee:t,arguments:e}}function ur(t,e=void 0,n=!1,i=!1,s=zt){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:s}}function md(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:zt}}function Z0(t,e,n=!1,i=!1){return{type:20,index:t,value:e,needPauseTracking:n,inVOnce:i,needArraySpread:!1,loc:zt}}function eR(t){return{type:21,body:t,loc:zt}}function dr(t,e){return t||e?Lf:Hf}function fr(t,e){return t||e?ob:lb}function Qf(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(dr(i,t.isComponent)),e(ps),e(fr(i,t.isComponent)))}const wg=new Uint8Array([123,123]),Sg=new Uint8Array([125,125]);function Tg(t){return t>=97&&t<=122||t>=65&&t<=90}function Ft(t){return t===32||t===10||t===9||t===12||t===13}function oi(t){return t===47||t===62||Ft(t)}function va(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const at={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class tR{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=wg,this.delimiterClose=Sg,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=wg,this.delimiterClose=Sg}getPos(e){let n=1,i=e+1;for(let s=this.newlines.length-1;s>=0;s--){const r=this.newlines[s];if(e>r){n=s+2,i=e-r;break}}return{column:i,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?oi(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Ft(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===at.TitleEnd||this.currentSequence===at.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===at.Cdata[this.sequenceIndex]?++this.sequenceIndex===at.Cdata.length&&(this.state=28,this.currentSequence=at.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===at.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):Tg(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){oi(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(oi(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(va("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Ft(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Tg(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Ft(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ft(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ft(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||oi(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||oi(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||oi(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||oi(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||oi(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Ft(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Ft(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Ft(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=at.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===at.ScriptEnd[3]?this.startSpecial(at.ScriptEnd,4):e===at.StyleEnd[3]?this.startSpecial(at.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===at.TitleEnd[3]?this.startSpecial(at.TitleEnd,4):e===at.TextareaEnd[3]?this.startSpecial(at.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===at.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function Cg(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function os(t,e){const n=Cg("MODE",e),i=Cg(t,e);return n===3?i===!0:i!==!1}function Eo(t,e,n,...i){return os(t,e)}function Jf(t){throw t}function fb(t){}function Fe(t,e,n,i){const s=`https://vuejs.org/error-reference/#compiler-${t}`,r=new SyntaxError(String(s));return r.code=t,r.loc=e,r}const Rt=t=>t.type===4&&t.isStatic;function hb(t){switch(t){case"Teleport":case"teleport":return Zr;case"Suspense":case"suspense":return Pf;case"KeepAlive":case"keep-alive":return pa;case"BaseTransition":case"base-transition":return rb}}const nR=/^\d|[^\$\w\xA0-\uFFFF]/,Xf=t=>!nR.test(t),iR=/[A-Za-z_$\xA0-\uFFFF]/,sR=/[\.\?\w$\xA0-\uFFFF]/,rR=/\s+[.[]\s*|\s*[.[]\s+/g,pb=t=>t.type===4?t.content:t.loc.source,oR=t=>{const e=pb(t).trim().replace(rR,l=>l.trim());let n=0,i=[],s=0,r=0,o=null;for(let l=0;l<e.length;l++){const a=e.charAt(l);switch(n){case 0:if(a==="[")i.push(n),n=1,s++;else if(a==="(")i.push(n),n=2,r++;else if(!(l===0?iR:sR).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(i.push(n),n=3,o=a):a==="["?s++:a==="]"&&(--s||(n=i.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")i.push(n),n=3,o=a;else if(a==="(")r++;else if(a===")"){if(l===e.length-1)return!1;--r||(n=i.pop())}break;case 3:a===o&&(n=i.pop(),o=null);break}}return!s&&!r},gb=oR,lR=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,aR=t=>lR.test(pb(t)),cR=aR;function Yt(t,e,n=!1){for(let i=0;i<t.props.length;i++){const s=t.props[i];if(s.type===7&&(n||s.exp)&&(re(e)?s.name===e:e.test(s.name)))return s}}function Rc(t,e,n=!1,i=!1){for(let s=0;s<t.props.length;s++){const r=t.props[s];if(r.type===6){if(n)continue;if(r.name===e&&(r.value||i))return r}else if(r.name==="bind"&&(r.exp||i)&&Xi(r.arg,e))return r}}function Xi(t,e){return!!(t&&Rt(t)&&t.content===e)}function uR(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function pu(t){return t.type===5||t.type===2}function dR(t){return t.type===7&&t.name==="slot"}function ya(t){return t.type===1&&t.tagType===3}function _a(t){return t.type===1&&t.tagType===2}const fR=new Set([_o,Go]);function mb(t,e=[]){if(t&&!re(t)&&t.type===14){const n=t.callee;if(!re(n)&&fR.has(n))return mb(t.arguments[0],e.concat(t))}return[t,e]}function ba(t,e,n){let i,s=t.type===13?t.props:t.arguments[2],r=[],o;if(s&&!re(s)&&s.type===14){const l=mb(s);s=l[0],r=l[1],o=r[r.length-1]}if(s==null||re(s))i=Qt([e]);else if(s.type===14){const l=s.arguments[0];!re(l)&&l.type===15?Ag(e,l)||l.properties.unshift(e):s.callee===qf?i=Ye(n.helper(ga),[Qt([e]),s]):s.arguments.unshift(Qt([e])),!i&&(i=s)}else s.type===15?(Ag(e,s)||s.properties.unshift(e),i=s):(i=Ye(n.helper(ga),[Qt([e]),s]),o&&o.callee===Go&&(o=r[r.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function Ag(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(s=>s.key.type===4&&s.key.content===i)}return n}function wo(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function hR(t){return t.type===14&&t.callee===Kf?t.arguments[1].returns:t}const pR=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,vb={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:jr,isPreTag:jr,isIgnoreNewlineTag:jr,isCustomElement:jr,onError:Jf,onWarn:fb,comments:!1,prefixIdentifiers:!1};let Ee=vb,So=null,Vn="",ut=null,ge=null,St="",kn=-1,Gi=-1,Zf=0,hi=!1,vd=null;const He=[],je=new tR(He,{onerr:Rn,ontext(t,e){El(st(t,e),t,e)},ontextentity(t,e,n){El(t,e,n)},oninterpolation(t,e){if(hi)return El(st(t,e),t,e);let n=t+je.delimiterOpen.length,i=e-je.delimiterClose.length;for(;Ft(Vn.charCodeAt(n));)n++;for(;Ft(Vn.charCodeAt(i-1));)i--;let s=st(n,i);s.includes("&")&&(s=Ee.decodeEntities(s,!1)),yd({type:5,content:Bl(s,!1,ze(n,i)),loc:ze(t,e)})},onopentagname(t,e){const n=st(t,e);ut={type:1,tag:n,ns:Ee.getNamespace(n,He[0],Ee.ns),tagType:0,props:[],children:[],loc:ze(t-1,e),codegenNode:void 0}},onopentagend(t){Rg(t)},onclosetag(t,e){const n=st(t,e);if(!Ee.isVoidTag(n)){let i=!1;for(let s=0;s<He.length;s++)if(He[s].tag.toLowerCase()===n.toLowerCase()){i=!0,s>0&&Rn(24,He[0].loc.start.offset);for(let o=0;o<=s;o++){const l=He.shift();Ul(l,e,o<s)}break}i||Rn(23,yb(t,60))}},onselfclosingtag(t){const e=ut.tag;ut.isSelfClosing=!0,Rg(t),He[0]&&He[0].tag===e&&Ul(He.shift(),t)},onattribname(t,e){ge={type:6,name:st(t,e),nameLoc:ze(t,e),value:void 0,loc:ze(t)}},ondirname(t,e){const n=st(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!hi&&i===""&&Rn(26,t),hi||i==="")ge={type:6,name:n,nameLoc:ze(t,e),value:void 0,loc:ze(t)};else if(ge={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[oe("prop")]:[],loc:ze(t)},i==="pre"){hi=je.inVPre=!0,vd=ut;const s=ut.props;for(let r=0;r<s.length;r++)s[r].type===7&&(s[r]=CR(s[r]))}},ondirarg(t,e){if(t===e)return;const n=st(t,e);if(hi)ge.name+=n,Zi(ge.nameLoc,e);else{const i=n[0]!=="[";ge.arg=Bl(i?n:n.slice(1,-1),i,ze(t,e),i?3:0)}},ondirmodifier(t,e){const n=st(t,e);if(hi)ge.name+="."+n,Zi(ge.nameLoc,e);else if(ge.name==="slot"){const i=ge.arg;i&&(i.content+="."+n,Zi(i.loc,e))}else{const i=oe(n,!0,ze(t,e));ge.modifiers.push(i)}},onattribdata(t,e){St+=st(t,e),kn<0&&(kn=t),Gi=e},onattribentity(t,e,n){St+=t,kn<0&&(kn=e),Gi=n},onattribnameend(t){const e=ge.loc.start.offset,n=st(e,t);ge.type===7&&(ge.rawName=n),ut.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&Rn(2,e)},onattribend(t,e){if(ut&&ge){if(Zi(ge.loc,e),t!==0)if(St.includes("&")&&(St=Ee.decodeEntities(St,!0)),ge.type===6)ge.name==="class"&&(St=bb(St).trim()),t===1&&!St&&Rn(13,e),ge.value={type:2,content:St,loc:t===1?ze(kn,Gi):ze(kn-1,Gi+1)},je.inSFCRoot&&ut.tag==="template"&&ge.name==="lang"&&St&&St!=="html"&&je.enterRCDATA(va("</template"),0);else{let n=0;ge.exp=Bl(St,!1,ze(kn,Gi),0,n),ge.name==="for"&&(ge.forParseResult=mR(ge.exp));let i=-1;ge.name==="bind"&&(i=ge.modifiers.findIndex(s=>s.content==="sync"))>-1&&Eo("COMPILER_V_BIND_SYNC",Ee,ge.loc,ge.arg.loc.source)&&(ge.name="model",ge.modifiers.splice(i,1))}(ge.type!==7||ge.name!=="pre")&&ut.props.push(ge)}St="",kn=Gi=-1},oncomment(t,e){Ee.comments&&yd({type:3,content:st(t,e),loc:ze(t-4,e+3)})},onend(){const t=Vn.length;for(let e=0;e<He.length;e++)Ul(He[e],t-1),Rn(24,He[e].loc.start.offset)},oncdata(t,e){He[0].ns!==0?El(st(t,e),t,e):Rn(1,t-9)},onprocessinginstruction(t){(He[0]?He[0].ns:Ee.ns)===0&&Rn(21,t-1)}}),Ig=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,gR=/^\(|\)$/g;function mR(t){const e=t.loc,n=t.content,i=n.match(pR);if(!i)return;const[,s,r]=i,o=(d,f,h=!1)=>{const p=e.start.offset+f,g=p+d.length;return Bl(d,!1,ze(p,g),0,h?1:0)},l={source:o(r.trim(),n.indexOf(r,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let a=s.trim().replace(gR,"").trim();const c=s.indexOf(a),u=a.match(Ig);if(u){a=a.replace(Ig,"").trim();const d=u[1].trim();let f;if(d&&(f=n.indexOf(d,c+a.length),l.key=o(d,f,!0)),u[2]){const h=u[2].trim();h&&(l.index=o(h,n.indexOf(h,l.key?f+d.length:c+a.length),!0))}}return a&&(l.value=o(a,c,!0)),l}function st(t,e){return Vn.slice(t,e)}function Rg(t){je.inSFCRoot&&(ut.innerLoc=ze(t+1,t+1)),yd(ut);const{tag:e,ns:n}=ut;n===0&&Ee.isPreTag(e)&&Zf++,Ee.isVoidTag(e)?Ul(ut,t):(He.unshift(ut),(n===1||n===2)&&(je.inXML=!0)),ut=null}function El(t,e,n){{const r=He[0]&&He[0].tag;r!=="script"&&r!=="style"&&t.includes("&")&&(t=Ee.decodeEntities(t,!1))}const i=He[0]||So,s=i.children[i.children.length-1];s&&s.type===2?(s.content+=t,Zi(s.loc,n)):i.children.push({type:2,content:t,loc:ze(e,n)})}function Ul(t,e,n=!1){n?Zi(t.loc,yb(e,60)):Zi(t.loc,vR(e,62)+1),je.inSFCRoot&&(t.children.length?t.innerLoc.end=fe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=fe({},t.innerLoc.start),t.innerLoc.source=st(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:s,children:r}=t;if(hi||(i==="slot"?t.tagType=2:kg(t)?t.tagType=3:_R(t)&&(t.tagType=1)),je.inRCDATA||(t.children=_b(r)),s===0&&Ee.isIgnoreNewlineTag(i)){const o=r[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&Ee.isPreTag(i)&&Zf--,vd===t&&(hi=je.inVPre=!1,vd=null),je.inXML&&(He[0]?He[0].ns:Ee.ns)===0&&(je.inXML=!1);{const o=t.props;if(!je.inSFCRoot&&os("COMPILER_NATIVE_TEMPLATE",Ee)&&t.tag==="template"&&!kg(t)){const a=He[0]||So,c=a.children.indexOf(t);a.children.splice(c,1,...t.children)}const l=o.find(a=>a.type===6&&a.name==="inline-template");l&&Eo("COMPILER_INLINE_TEMPLATE",Ee,l.loc)&&t.children.length&&(l.value={type:2,content:st(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:l.loc})}}function vR(t,e){let n=t;for(;Vn.charCodeAt(n)!==e&&n<Vn.length-1;)n++;return n}function yb(t,e){let n=t;for(;Vn.charCodeAt(n)!==e&&n>=0;)n--;return n}const yR=new Set(["if","else","else-if","for","slot"]);function kg({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&yR.has(e[n].name))return!0}return!1}function _R({tag:t,props:e}){if(Ee.isCustomElement(t))return!1;if(t==="component"||bR(t.charCodeAt(0))||hb(t)||Ee.isBuiltInComponent&&Ee.isBuiltInComponent(t)||Ee.isNativeTag&&!Ee.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Eo("COMPILER_IS_ON_ELEMENT",Ee,i.loc))return!0}}else if(i.name==="bind"&&Xi(i.arg,"is")&&Eo("COMPILER_IS_ON_ELEMENT",Ee,i.loc))return!0}return!1}function bR(t){return t>64&&t<91}const ER=/\r\n/g;function _b(t,e){const n=Ee.whitespace!=="preserve";let i=!1;for(let s=0;s<t.length;s++){const r=t[s];if(r.type===2)if(Zf)r.content=r.content.replace(ER,`
`);else if(wR(r.content)){const o=t[s-1]&&t[s-1].type,l=t[s+1]&&t[s+1].type;!o||!l||n&&(o===3&&(l===3||l===1)||o===1&&(l===3||l===1&&SR(r.content)))?(i=!0,t[s]=null):r.content=" "}else n&&(r.content=bb(r.content))}return i?t.filter(Boolean):t}function wR(t){for(let e=0;e<t.length;e++)if(!Ft(t.charCodeAt(e)))return!1;return!0}function SR(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function bb(t){let e="",n=!1;for(let i=0;i<t.length;i++)Ft(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function yd(t){(He[0]||So).children.push(t)}function ze(t,e){return{start:je.getPos(t),end:e==null?e:je.getPos(e),source:e==null?e:st(t,e)}}function TR(t){return ze(t.start.offset,t.end.offset)}function Zi(t,e){t.end=je.getPos(e),t.source=st(t.start.offset,e)}function CR(t){const e={type:6,name:t.rawName,nameLoc:ze(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function Bl(t,e=!1,n,i=0,s=0){return oe(t,e,n,i)}function Rn(t,e,n){Ee.onError(Fe(t,ze(e,e)))}function AR(){je.reset(),ut=null,ge=null,St="",kn=-1,Gi=-1,He.length=0}function IR(t,e){if(AR(),Vn=t,Ee=fe({},vb),e){let s;for(s in e)e[s]!=null&&(Ee[s]=e[s])}je.mode=Ee.parseMode==="html"?1:Ee.parseMode==="sfc"?2:0,je.inXML=Ee.ns===1||Ee.ns===2;const n=e&&e.delimiters;n&&(je.delimiterOpen=va(n[0]),je.delimiterClose=va(n[1]));const i=So=X0([],t);return je.parse(Vn),i.loc=ze(0,t.length),i.children=_b(i.children),So=null,i}function RR(t,e){Vl(t,void 0,e,Eb(t,t.children[0]))}function Eb(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!_a(e)}function Vl(t,e,n,i=!1,s=!1){const{children:r}=t,o=[];for(let d=0;d<r.length;d++){const f=r[d];if(f.type===1&&f.tagType===0){const h=i?0:Bt(f,n);if(h>0){if(h>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const p=f.codegenNode;if(p.type===13){const g=p.patchFlag;if((g===void 0||g===512||g===1)&&Sb(f,n)>=2){const y=Tb(f);y&&(p.props=n.hoist(y))}p.dynamicProps&&(p.dynamicProps=n.hoist(p.dynamicProps))}}}else if(f.type===12&&(i?0:Bt(f,n))>=2){o.push(f);continue}if(f.type===1){const h=f.tagType===1;h&&n.scopes.vSlot++,Vl(f,t,n,!1,s),h&&n.scopes.vSlot--}else if(f.type===11)Vl(f,t,n,f.children.length===1,!0);else if(f.type===9)for(let h=0;h<f.branches.length;h++)Vl(f.branches[h],t,n,f.branches[h].children.length===1,s)}let l=!1;const a=[];if(o.length===r.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&$(t.codegenNode.children))t.codegenNode.children=c(rs(t.codegenNode.children)),l=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!$(t.codegenNode.children)&&t.codegenNode.children.type===15){const d=u(t.codegenNode,"default");d&&(a.push(n.cached.length),d.returns=c(rs(d.returns)),l=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!$(e.codegenNode.children)&&e.codegenNode.children.type===15){const d=Yt(t,"slot",!0),f=d&&d.arg&&u(e.codegenNode,d.arg);f&&(a.push(n.cached.length),f.returns=c(rs(f.returns)),l=!0)}}if(!l)for(const d of o)a.push(n.cached.length),d.codegenNode=n.cache(d.codegenNode);a.length&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!$(t.codegenNode.children)&&t.codegenNode.children.type===15&&t.codegenNode.children.properties.push($e("__",oe(JSON.stringify(a),!1)));function c(d){const f=n.cache(d);return s&&n.hmr&&(f.needArraySpread=!0),f}function u(d,f){if(d.children&&!$(d.children)&&d.children.type===15){const h=d.children.properties.find(p=>p.key===f||p.key.content===f);return h&&h.value}}o.length&&n.transformHoist&&n.transformHoist(r,n,t)}function Bt(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const l=Sb(t,e);if(l===0)return n.set(t,0),0;l<o&&(o=l);for(let a=0;a<t.children.length;a++){const c=Bt(t.children[a],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let a=0;a<t.props.length;a++){const c=t.props[a];if(c.type===7&&c.name==="bind"&&c.exp){const u=Bt(c.exp,e);if(u===0)return n.set(t,0),0;u<o&&(o=u)}}if(s.isBlock){for(let a=0;a<t.props.length;a++)if(t.props[a].type===7)return n.set(t,0),0;e.removeHelper(ps),e.removeHelper(fr(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(dr(e.inSSR,s.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Bt(t.content,e);case 4:return t.constType;case 8:let r=3;for(let o=0;o<t.children.length;o++){const l=t.children[o];if(re(l)||Nt(l))continue;const a=Bt(l,e);if(a===0)return 0;a<r&&(r=a)}return r;case 20:return 2;default:return 0}}const kR=new Set([zf,Gf,_o,Go]);function wb(t,e){if(t.type===14&&!re(t.callee)&&kR.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Bt(n,e);if(n.type===14)return wb(n,e)}return 0}function Sb(t,e){let n=3;const i=Tb(t);if(i&&i.type===15){const{properties:s}=i;for(let r=0;r<s.length;r++){const{key:o,value:l}=s[r],a=Bt(o,e);if(a===0)return a;a<n&&(n=a);let c;if(l.type===4?c=Bt(l,e):l.type===14?c=wb(l,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function Tb(t){const e=t.codegenNode;if(e.type===13)return e.props}function xR(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:s=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:l={},transformHoist:a=null,isBuiltInComponent:c=it,isCustomElement:u=it,expressionPlugins:d=[],scopeId:f=null,slotted:h=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:y="",bindingMetadata:_=ue,inline:b=!1,isTS:m=!1,onError:v=Jf,onWarn:T=fb,compatConfig:I}){const M=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),k={filename:e,selfName:M&&Cs(Le(M[1])),prefixIdentifiers:n,hoistStatic:i,hmr:s,cacheHandlers:r,nodeTransforms:o,directiveTransforms:l,transformHoist:a,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:d,scopeId:f,slotted:h,ssr:p,inSSR:g,ssrCssVars:y,bindingMetadata:_,inline:b,isTS:m,onError:v,onWarn:T,compatConfig:I,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(C){const x=k.helpers.get(C)||0;return k.helpers.set(C,x+1),C},removeHelper(C){const x=k.helpers.get(C);if(x){const F=x-1;F?k.helpers.set(C,F):k.helpers.delete(C)}},helperString(C){return`_${cr[k.helper(C)]}`},replaceNode(C){k.parent.children[k.childIndex]=k.currentNode=C},removeNode(C){const x=k.parent.children,F=C?x.indexOf(C):k.currentNode?k.childIndex:-1;!C||C===k.currentNode?(k.currentNode=null,k.onNodeRemoved()):k.childIndex>F&&(k.childIndex--,k.onNodeRemoved()),k.parent.children.splice(F,1)},onNodeRemoved:it,addIdentifiers(C){},removeIdentifiers(C){},hoist(C){re(C)&&(C=oe(C)),k.hoists.push(C);const x=oe(`_hoisted_${k.hoists.length}`,!1,C.loc,2);return x.hoisted=C,x},cache(C,x=!1,F=!1){const D=Z0(k.cached.length,C,x,F);return k.cached.push(D),D}};return k.filters=new Set,k}function DR(t,e){const n=xR(t,e);kc(t,n),e.hoistStatic&&RR(t,n),e.ssr||NR(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function NR(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const s=i[0];if(Eb(t,s)&&s.codegenNode){const r=s.codegenNode;r.type===13&&Qf(r,e),t.codegenNode=r}else t.codegenNode=s}else if(i.length>1){let s=64;t.codegenNode=bo(e,n(yo),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function MR(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const s=t.children[n];re(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,kc(s,e))}}function kc(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let r=0;r<n.length;r++){const o=n[r](t,e);if(o&&($(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(zo);break;case 5:e.ssr||e.helper(Ic);break;case 9:for(let r=0;r<t.branches.length;r++)kc(t.branches[r],e);break;case 10:case 11:case 1:case 0:MR(t,e);break}e.currentNode=t;let s=i.length;for(;s--;)i[s]()}function Cb(t,e){const n=re(t)?i=>i===t:i=>t.test(i);return(i,s)=>{if(i.type===1){const{props:r}=i;if(i.tagType===3&&r.some(dR))return;const o=[];for(let l=0;l<r.length;l++){const a=r[l];if(a.type===7&&n(a.name)){r.splice(l,1),l--;const c=e(i,a,s);c&&o.push(c)}}return o}}}const xc="/*@__PURE__*/",Ab=t=>`${cr[t]}: _${cr[t]}`;function OR(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:s="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:l="Vue",runtimeModuleName:a="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:f=!1}){const h={mode:e,prefixIdentifiers:n,sourceMap:i,filename:s,scopeId:r,optimizeImports:o,runtimeGlobalName:l,runtimeModuleName:a,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:f,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${cr[g]}`},push(g,y=-2,_){h.code+=g},indent(){p(++h.indentLevel)},deindent(g=!1){g?--h.indentLevel:p(--h.indentLevel)},newline(){p(h.indentLevel)}};function p(g){h.push(`
`+"  ".repeat(g),0)}return h}function PR(t,e={}){const n=OR(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:s,prefixIdentifiers:r,indent:o,deindent:l,newline:a,scopeId:c,ssr:u}=n,d=Array.from(t.helpers),f=d.length>0,h=!r&&i!=="module";LR(t,n);const g=u?"ssrRender":"render",_=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${g}(${_}) {`),o(),h&&(s("with (_ctx) {"),o(),f&&(s(`const { ${d.map(Ab).join(", ")} } = _Vue
`,-1),a())),t.components.length&&(gu(t.components,"component",n),(t.directives.length||t.temps>0)&&a()),t.directives.length&&(gu(t.directives,"directive",n),t.temps>0&&a()),t.filters&&t.filters.length&&(a(),gu(t.filters,"filter",n),a()),t.temps>0){s("let ");for(let b=0;b<t.temps;b++)s(`${b>0?", ":""}_temp${b}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),a()),u||s("return "),t.codegenNode?gt(t.codegenNode,n):s("null"),h&&(l(),s("}")),l(),s("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function LR(t,e){const{ssr:n,prefixIdentifiers:i,push:s,newline:r,runtimeModuleName:o,runtimeGlobalName:l,ssrRuntimeModuleName:a}=e,c=l,u=Array.from(t.helpers);if(u.length>0&&(s(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[Lf,Hf,zo,Ff,ab].filter(f=>u.includes(f)).map(Ab).join(", ");s(`const { ${d} } = _Vue
`,-1)}HR(t.hoists,e),r(),s("return ")}function gu(t,e,{helper:n,push:i,newline:s,isTS:r}){const o=n(e==="filter"?Wf:e==="component"?Uf:Vf);for(let l=0;l<t.length;l++){let a=t[l];const c=a.endsWith("__self");c&&(a=a.slice(0,-6)),i(`const ${wo(a,e)} = ${o}(${JSON.stringify(a)}${c?", true":""})${r?"!":""}`),l<t.length-1&&s()}}function HR(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i}=e;i();for(let s=0;s<t.length;s++){const r=t[s];r&&(n(`const _hoisted_${s+1} = `),gt(r,e),i())}e.pure=!1}function eh(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),qo(t,e,n),n&&e.deindent(),e.push("]")}function qo(t,e,n=!1,i=!0){const{push:s,newline:r}=e;for(let o=0;o<t.length;o++){const l=t[o];re(l)?s(l,-3):$(l)?eh(l,e):gt(l,e),o<t.length-1&&(n?(i&&s(","),r()):i&&s(", "))}}function gt(t,e){if(re(t)){e.push(t,-3);return}if(Nt(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:gt(t.codegenNode,e);break;case 2:FR(t,e);break;case 4:Ib(t,e);break;case 5:UR(t,e);break;case 12:gt(t.codegenNode,e);break;case 8:Rb(t,e);break;case 3:VR(t,e);break;case 13:WR(t,e);break;case 14:$R(t,e);break;case 15:zR(t,e);break;case 17:GR(t,e);break;case 18:qR(t,e);break;case 19:YR(t,e);break;case 20:KR(t,e);break;case 21:qo(t.body,e,!0,!1);break}}function FR(t,e){e.push(JSON.stringify(t.content),-3,t)}function Ib(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function UR(t,e){const{push:n,helper:i,pure:s}=e;s&&n(xc),n(`${i(Ic)}(`),gt(t.content,e),n(")")}function Rb(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];re(i)?e.push(i,-3):gt(i,e)}}function BR(t,e){const{push:n}=e;if(t.type===8)n("["),Rb(t,e),n("]");else if(t.isStatic){const i=Xf(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function VR(t,e){const{push:n,helper:i,pure:s}=e;s&&n(xc),n(`${i(zo)}(${JSON.stringify(t.content)})`,-3,t)}function WR(t,e){const{push:n,helper:i,pure:s}=e,{tag:r,props:o,children:l,patchFlag:a,dynamicProps:c,directives:u,isBlock:d,disableTracking:f,isComponent:h}=t;let p;a&&(p=String(a)),u&&n(i(jf)+"("),d&&n(`(${i(ps)}(${f?"true":""}), `),s&&n(xc);const g=d?fr(e.inSSR,h):dr(e.inSSR,h);n(i(g)+"(",-2,t),qo(jR([r,o,l,p,c]),e),n(")"),d&&n(")"),u&&(n(", "),gt(u,e),n(")"))}function jR(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function $R(t,e){const{push:n,helper:i,pure:s}=e,r=re(t.callee)?t.callee:i(t.callee);s&&n(xc),n(r+"(",-2,t),qo(t.arguments,e),n(")")}function zR(t,e){const{push:n,indent:i,deindent:s,newline:r}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const l=o.length>1||!1;n(l?"{":"{ "),l&&i();for(let a=0;a<o.length;a++){const{key:c,value:u}=o[a];BR(c,e),n(": "),gt(u,e),a<o.length-1&&(n(","),r())}l&&s(),n(l?"}":" }")}function GR(t,e){eh(t.elements,e)}function qR(t,e){const{push:n,indent:i,deindent:s}=e,{params:r,returns:o,body:l,newline:a,isSlot:c}=t;c&&n(`_${cr[Yf]}(`),n("(",-2,t),$(r)?qo(r,e):r&&gt(r,e),n(") => "),(a||l)&&(n("{"),i()),o?(a&&n("return "),$(o)?eh(o,e):gt(o,e)):l&&gt(l,e),(a||l)&&(s(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function YR(t,e){const{test:n,consequent:i,alternate:s,newline:r}=t,{push:o,indent:l,deindent:a,newline:c}=e;if(n.type===4){const d=!Xf(n.content);d&&o("("),Ib(n,e),d&&o(")")}else o("("),gt(n,e),o(")");r&&l(),e.indentLevel++,r||o(" "),o("? "),gt(i,e),e.indentLevel--,r&&c(),r||o(" "),o(": ");const u=s.type===19;u||e.indentLevel++,gt(s,e),u||e.indentLevel--,r&&a(!0)}function KR(t,e){const{push:n,helper:i,indent:s,deindent:r,newline:o}=e,{needPauseTracking:l,needArraySpread:a}=t;a&&n("[...("),n(`_cache[${t.index}] || (`),l&&(s(),n(`${i(ma)}(-1`),t.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${t.index}] = `),gt(t.value,e),l&&(n(`).cacheIndex = ${t.index},`),o(),n(`${i(ma)}(1),`),o(),n(`_cache[${t.index}]`),r()),n(")"),a&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const QR=Cb(/^(if|else|else-if)$/,(t,e,n)=>JR(t,e,n,(i,s,r)=>{const o=n.parent.children;let l=o.indexOf(i),a=0;for(;l-->=0;){const c=o[l];c&&c.type===9&&(a+=c.branches.length)}return()=>{if(r)i.codegenNode=Dg(s,a,n);else{const c=XR(i.codegenNode);c.alternate=Dg(s,a+i.branches.length-1,n)}}}));function JR(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;n.onError(Fe(28,e.loc)),e.exp=oe("true",!1,s)}if(e.name==="if"){const s=xg(t,e),r={type:9,loc:TR(t.loc),branches:[s]};if(n.replaceNode(r),i)return i(r,s,!0)}else{const s=n.parent.children;let r=s.indexOf(t);for(;r-->=-1;){const o=s[r];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(Fe(30,t.loc)),n.removeNode();const l=xg(t,e);o.branches.push(l);const a=i&&i(o,l,!1);kc(l,n),a&&a(),n.currentNode=null}else n.onError(Fe(30,t.loc));break}}}function xg(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Yt(t,"for")?t.children:[t],userKey:Rc(t,"key"),isTemplateIf:n}}function Dg(t,e,n){return t.condition?md(t.condition,Ng(t,e,n),Ye(n.helper(zo),['""',"true"])):Ng(t,e,n)}function Ng(t,e,n){const{helper:i}=n,s=$e("key",oe(`${e}`,!1,zt,2)),{children:r}=t,o=r[0];if(r.length!==1||o.type!==1)if(r.length===1&&o.type===11){const a=o.codegenNode;return ba(a,s,n),a}else{let a=64;return bo(n,i(yo),Qt([s]),r,a,void 0,void 0,!0,!1,!1,t.loc)}else{const a=o.codegenNode,c=hR(a);return c.type===13&&Qf(c,n),ba(c,s,n),a}}function XR(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const ZR=(t,e,n)=>{const{modifiers:i,loc:s}=t,r=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(r.type!==4||!r.isStatic)return n.onError(Fe(52,r.loc)),{props:[$e(r,oe("",!0,s))]};kb(t),o=t.exp}return r.type!==4?(r.children.unshift("("),r.children.push(') || ""')):r.isStatic||(r.content=`${r.content} || ""`),i.some(l=>l.content==="camel")&&(r.type===4?r.isStatic?r.content=Le(r.content):r.content=`${n.helperString(pd)}(${r.content})`:(r.children.unshift(`${n.helperString(pd)}(`),r.children.push(")"))),n.inSSR||(i.some(l=>l.content==="prop")&&Mg(r,"."),i.some(l=>l.content==="attr")&&Mg(r,"^")),{props:[$e(r,o)]}},kb=(t,e)=>{const n=t.arg,i=Le(n.content);t.exp=oe(i,!1,n.loc)},Mg=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},ek=Cb("for",(t,e,n)=>{const{helper:i,removeHelper:s}=n;return tk(t,e,n,r=>{const o=Ye(i($f),[r.source]),l=ya(t),a=Yt(t,"memo"),c=Rc(t,"key",!1,!0);c&&c.type===7&&!c.exp&&kb(c);let d=c&&(c.type===6?c.value?oe(c.value.content,!0):void 0:c.exp);const f=c&&d?$e("key",d):null,h=r.source.type===4&&r.source.constType>0,p=h?64:c?128:256;return r.codegenNode=bo(n,i(yo),void 0,o,p,void 0,void 0,!0,!h,!1,t.loc),()=>{let g;const{children:y}=r,_=y.length!==1||y[0].type!==1,b=_a(t)?t:l&&t.children.length===1&&_a(t.children[0])?t.children[0]:null;if(b?(g=b.codegenNode,l&&f&&ba(g,f,n)):_?g=bo(n,i(yo),f?Qt([f]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=y[0].codegenNode,l&&f&&ba(g,f,n),g.isBlock!==!h&&(g.isBlock?(s(ps),s(fr(n.inSSR,g.isComponent))):s(dr(n.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(i(ps),i(fr(n.inSSR,g.isComponent))):i(dr(n.inSSR,g.isComponent))),a){const m=ur(_d(r.parseResult,[oe("_cached")]));m.body=eR([cn(["const _memo = (",a.exp,")"]),cn(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(db)}(_cached, _memo)) return _cached`]),cn(["const _item = ",g]),oe("_item.memo = _memo"),oe("return _item")]),o.arguments.push(m,oe("_cache"),oe(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(ur(_d(r.parseResult),g,!0))}})});function tk(t,e,n,i){if(!e.exp){n.onError(Fe(31,e.loc));return}const s=e.forParseResult;if(!s){n.onError(Fe(32,e.loc));return}xb(s);const{addIdentifiers:r,removeIdentifiers:o,scopes:l}=n,{source:a,value:c,key:u,index:d}=s,f={type:11,loc:e.loc,source:a,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:s,children:ya(t)?t.children:[t]};n.replaceNode(f),l.vFor++;const h=i&&i(f);return()=>{l.vFor--,h&&h()}}function xb(t,e){t.finalized||(t.finalized=!0)}function _d({value:t,key:e,index:n},i=[]){return nk([t,e,n,...i])}function nk(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||oe("_".repeat(i+1),!1))}const Og=oe("undefined",!1),ik=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Yt(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},sk=(t,e,n,i)=>ur(t,n,!1,!0,n.length?n[0].loc:i);function rk(t,e,n=sk){e.helper(Yf);const{children:i,loc:s}=t,r=[],o=[];let l=e.scopes.vSlot>0||e.scopes.vFor>0;const a=Yt(t,"slot",!0);if(a){const{arg:y,exp:_}=a;y&&!Rt(y)&&(l=!0),r.push($e(y||oe("default",!0),n(_,void 0,i,s)))}let c=!1,u=!1;const d=[],f=new Set;let h=0;for(let y=0;y<i.length;y++){const _=i[y];let b;if(!ya(_)||!(b=Yt(_,"slot",!0))){_.type!==3&&d.push(_);continue}if(a){e.onError(Fe(37,b.loc));break}c=!0;const{children:m,loc:v}=_,{arg:T=oe("default",!0),exp:I,loc:M}=b;let k;Rt(T)?k=T?T.content:"default":l=!0;const C=Yt(_,"for"),x=n(I,C,m,v);let F,D;if(F=Yt(_,"if"))l=!0,o.push(md(F.exp,wl(T,x,h++),Og));else if(D=Yt(_,/^else(-if)?$/,!0)){let V=y,K;for(;V--&&(K=i[V],K.type===3););if(K&&ya(K)&&Yt(K,/^(else-)?if$/)){let te=o[o.length-1];for(;te.alternate.type===19;)te=te.alternate;te.alternate=D.exp?md(D.exp,wl(T,x,h++),Og):wl(T,x,h++)}else e.onError(Fe(30,D.loc))}else if(C){l=!0;const V=C.forParseResult;V?(xb(V),o.push(Ye(e.helper($f),[V.source,ur(_d(V),wl(T,x),!0)]))):e.onError(Fe(32,C.loc))}else{if(k){if(f.has(k)){e.onError(Fe(38,M));continue}f.add(k),k==="default"&&(u=!0)}r.push($e(T,x))}}if(!a){const y=(_,b)=>{const m=n(_,void 0,b,s);return e.compatConfig&&(m.isNonScopedSlot=!0),$e("default",m)};c?d.length&&d.some(_=>Db(_))&&(u?e.onError(Fe(39,d[0].loc)):r.push(y(void 0,d))):r.push(y(void 0,i))}const p=l?2:Wl(t.children)?3:1;let g=Qt(r.concat($e("_",oe(p+"",!1))),s);return o.length&&(g=Ye(e.helper(ub),[g,rs(o)])),{slots:g,hasDynamicSlots:l}}function wl(t,e,n){const i=[$e("name",t),$e("fn",e)];return n!=null&&i.push($e("key",oe(String(n),!0))),Qt(i)}function Wl(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||Wl(n.children))return!0;break;case 9:if(Wl(n.branches))return!0;break;case 10:case 11:if(Wl(n.children))return!0;break}}return!1}function Db(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():Db(t.content)}const Nb=new WeakMap,ok=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:i,props:s}=t,r=t.tagType===1;let o=r?lk(t,e):`"${i}"`;const l=Ce(o)&&o.callee===Bf;let a,c,u=0,d,f,h,p=l||o===Zr||o===Pf||!r&&(i==="svg"||i==="foreignObject"||i==="math");if(s.length>0){const g=Mb(t,e,void 0,r,l);a=g.props,u=g.patchFlag,f=g.dynamicPropNames;const y=g.directives;h=y&&y.length?rs(y.map(_=>ck(_,e))):void 0,g.shouldUseBlock&&(p=!0)}if(t.children.length>0)if(o===pa&&(p=!0,u|=1024),r&&o!==Zr&&o!==pa){const{slots:y,hasDynamicSlots:_}=rk(t,e);c=y,_&&(u|=1024)}else if(t.children.length===1&&o!==Zr){const y=t.children[0],_=y.type,b=_===5||_===8;b&&Bt(y,e)===0&&(u|=1),b||_===2?c=y:c=t.children}else c=t.children;f&&f.length&&(d=uk(f)),t.codegenNode=bo(e,o,a,c,u===0?void 0:u,d,h,!!p,!1,r,t.loc)};function lk(t,e,n=!1){let{tag:i}=t;const s=bd(i),r=Rc(t,"is",!1,!0);if(r)if(s||os("COMPILER_IS_ON_ELEMENT",e)){let l;if(r.type===6?l=r.value&&oe(r.value.content,!0):(l=r.exp,l||(l=oe("is",!1,r.arg.loc))),l)return Ye(e.helper(Bf),[l])}else r.type===6&&r.value.content.startsWith("vue:")&&(i=r.value.content.slice(4));const o=hb(i)||e.isBuiltInComponent(i);return o?(n||e.helper(o),o):(e.helper(Uf),e.components.add(i),wo(i,"component"))}function Mb(t,e,n=t.props,i,s,r=!1){const{tag:o,loc:l,children:a}=t;let c=[];const u=[],d=[],f=a.length>0;let h=!1,p=0,g=!1,y=!1,_=!1,b=!1,m=!1,v=!1;const T=[],I=x=>{c.length&&(u.push(Qt(Pg(c),l)),c=[]),x&&u.push(x)},M=()=>{e.scopes.vFor>0&&c.push($e(oe("ref_for",!0),oe("true")))},k=({key:x,value:F})=>{if(Rt(x)){const D=x.content,V=Ss(D);if(V&&(!i||s)&&D.toLowerCase()!=="onclick"&&D!=="onUpdate:modelValue"&&!wi(D)&&(b=!0),V&&wi(D)&&(v=!0),V&&F.type===14&&(F=F.arguments[0]),F.type===20||(F.type===4||F.type===8)&&Bt(F,e)>0)return;D==="ref"?g=!0:D==="class"?y=!0:D==="style"?_=!0:D!=="key"&&!T.includes(D)&&T.push(D),i&&(D==="class"||D==="style")&&!T.includes(D)&&T.push(D)}else m=!0};for(let x=0;x<n.length;x++){const F=n[x];if(F.type===6){const{loc:D,name:V,nameLoc:K,value:te}=F;let G=!0;if(V==="ref"&&(g=!0,M()),V==="is"&&(bd(o)||te&&te.content.startsWith("vue:")||os("COMPILER_IS_ON_ELEMENT",e)))continue;c.push($e(oe(V,!0,K),oe(te?te.content:"",G,te?te.loc:D)))}else{const{name:D,arg:V,exp:K,loc:te,modifiers:G}=F,ne=D==="bind",q=D==="on";if(D==="slot"){i||e.onError(Fe(40,te));continue}if(D==="once"||D==="memo"||D==="is"||ne&&Xi(V,"is")&&(bd(o)||os("COMPILER_IS_ON_ELEMENT",e))||q&&r)continue;if((ne&&Xi(V,"key")||q&&f&&Xi(V,"vue:before-update"))&&(h=!0),ne&&Xi(V,"ref")&&M(),!V&&(ne||q)){if(m=!0,K)if(ne){if(I(),os("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift(K);continue}M(),I(),u.push(K)}else I({type:14,loc:te,callee:e.helper(qf),arguments:i?[K]:[K,"true"]});else e.onError(Fe(ne?34:35,te));continue}ne&&G.some(dn=>dn.content==="prop")&&(p|=32);const Be=e.directiveTransforms[D];if(Be){const{props:dn,needRuntime:en}=Be(F,t,e);!r&&dn.forEach(k),q&&V&&!Rt(V)?I(Qt(dn,l)):c.push(...dn),en&&(d.push(F),Nt(en)&&Nb.set(F,en))}else iC(D)||(d.push(F),f&&(h=!0))}}let C;if(u.length?(I(),u.length>1?C=Ye(e.helper(ga),u,l):C=u[0]):c.length&&(C=Qt(Pg(c),l)),m?p|=16:(y&&!i&&(p|=2),_&&!i&&(p|=4),T.length&&(p|=8),b&&(p|=32)),!h&&(p===0||p===32)&&(g||v||d.length>0)&&(p|=512),!e.inSSR&&C)switch(C.type){case 15:let x=-1,F=-1,D=!1;for(let te=0;te<C.properties.length;te++){const G=C.properties[te].key;Rt(G)?G.content==="class"?x=te:G.content==="style"&&(F=te):G.isHandlerKey||(D=!0)}const V=C.properties[x],K=C.properties[F];D?C=Ye(e.helper(_o),[C]):(V&&!Rt(V.value)&&(V.value=Ye(e.helper(zf),[V.value])),K&&(_||K.value.type===4&&K.value.content.trim()[0]==="["||K.value.type===17)&&(K.value=Ye(e.helper(Gf),[K.value])));break;case 14:break;default:C=Ye(e.helper(_o),[Ye(e.helper(Go),[C])]);break}return{props:C,directives:d,patchFlag:p,dynamicPropNames:T,shouldUseBlock:h}}function Pg(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const s=t[i];if(s.key.type===8||!s.key.isStatic){n.push(s);continue}const r=s.key.content,o=e.get(r);o?(r==="style"||r==="class"||Ss(r))&&ak(o,s):(e.set(r,s),n.push(s))}return n}function ak(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=rs([t.value,e.value],t.loc)}function ck(t,e){const n=[],i=Nb.get(t);i?n.push(e.helperString(i)):(e.helper(Vf),e.directives.add(t.name),n.push(wo(t.name,"directive")));const{loc:s}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const r=oe("true",!1,s);n.push(Qt(t.modifiers.map(o=>$e(o,r)),s))}return rs(n,t.loc)}function uk(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function bd(t){return t==="component"||t==="Component"}const dk=(t,e)=>{if(_a(t)){const{children:n,loc:i}=t,{slotName:s,slotProps:r}=fk(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let l=2;r&&(o[2]=r,l=3),n.length&&(o[3]=ur([],n,!1,!1,i),l=4),e.scopeId&&!e.slotted&&(l=5),o.splice(l),t.codegenNode=Ye(e.helper(cb),o,i)}};function fk(t,e){let n='"default"',i;const s=[];for(let r=0;r<t.props.length;r++){const o=t.props[r];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=Le(o.name),s.push(o)));else if(o.name==="bind"&&Xi(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const l=Le(o.arg.content);n=o.exp=oe(l,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Rt(o.arg)&&(o.arg.content=Le(o.arg.content)),s.push(o)}if(s.length>0){const{props:r,directives:o}=Mb(t,e,s,!1,!1);i=r,o.length&&e.onError(Fe(36,o[0].loc))}return{slotName:n,slotProps:i}}const Ob=(t,e,n,i)=>{const{loc:s,modifiers:r,arg:o}=t;!t.exp&&!r.length&&n.onError(Fe(35,s));let l;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?zs(Le(d)):`on:${d}`;l=oe(f,!0,o.loc)}else l=cn([`${n.helperString(gd)}(`,o,")"]);else l=o,l.children.unshift(`${n.helperString(gd)}(`),l.children.push(")");let a=t.exp;a&&!a.content.trim()&&(a=void 0);let c=n.cacheHandlers&&!a&&!n.inVOnce;if(a){const d=gb(a),f=!(d||cR(a)),h=a.content.includes(";");(f||c&&d)&&(a=cn([`${f?"$event":"(...args)"} => ${h?"{":"("}`,a,h?"}":")"]))}let u={props:[$e(l,a||oe("() => {}",!1,s))]};return i&&(u=i(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(d=>d.key.isHandlerKey=!0),u},hk=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,s=!1;for(let r=0;r<n.length;r++){const o=n[r];if(pu(o)){s=!0;for(let l=r+1;l<n.length;l++){const a=n[l];if(pu(a))i||(i=n[r]=cn([o],o.loc)),i.children.push(" + ",a),n.splice(l,1),l--;else{i=void 0;break}}}}if(!(!s||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(r=>r.type===7&&!e.directiveTransforms[r.name])&&t.tag!=="template")))for(let r=0;r<n.length;r++){const o=n[r];if(pu(o)||o.type===8){const l=[];(o.type!==2||o.content!==" ")&&l.push(o),!e.ssr&&Bt(o,e)===0&&l.push("1"),n[r]={type:12,content:o,loc:o.loc,codegenNode:Ye(e.helper(Ff),l)}}}}},Lg=new WeakSet,pk=(t,e)=>{if(t.type===1&&Yt(t,"once",!0))return Lg.has(t)||e.inVOnce||e.inSSR?void 0:(Lg.add(t),e.inVOnce=!0,e.helper(ma),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0,!0))})},Pb=(t,e,n)=>{const{exp:i,arg:s}=t;if(!i)return n.onError(Fe(41,t.loc)),Sl();const r=i.loc.source.trim(),o=i.type===4?i.content:r,l=n.bindingMetadata[r];if(l==="props"||l==="props-aliased")return n.onError(Fe(44,i.loc)),Sl();if(!o.trim()||!gb(i))return n.onError(Fe(42,i.loc)),Sl();const a=s||oe("modelValue",!0),c=s?Rt(s)?`onUpdate:${Le(s.content)}`:cn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let u;const d=n.isTS?"($event: any)":"$event";u=cn([`${d} => ((`,i,") = $event)"]);const f=[$e(a,t.exp),$e(c,u)];if(t.modifiers.length&&e.tagType===1){const h=t.modifiers.map(g=>g.content).map(g=>(Xf(g)?g:JSON.stringify(g))+": true").join(", "),p=s?Rt(s)?`${s.content}Modifiers`:cn([s,' + "Modifiers"']):"modelModifiers";f.push($e(p,oe(`{ ${h} }`,!1,t.loc,2)))}return Sl(f)};function Sl(t=[]){return{props:t}}const gk=/[\w).+\-_$\]]/,mk=(t,e)=>{os("COMPILER_FILTERS",e)&&(t.type===5?Ea(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Ea(n.exp,e)}))};function Ea(t,e){if(t.type===4)Hg(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?Hg(i,e):i.type===8?Ea(t,e):i.type===5&&Ea(i.content,e))}}function Hg(t,e){const n=t.content;let i=!1,s=!1,r=!1,o=!1,l=0,a=0,c=0,u=0,d,f,h,p,g=[];for(h=0;h<n.length;h++)if(f=d,d=n.charCodeAt(h),i)d===39&&f!==92&&(i=!1);else if(s)d===34&&f!==92&&(s=!1);else if(r)d===96&&f!==92&&(r=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&n.charCodeAt(h+1)!==124&&n.charCodeAt(h-1)!==124&&!l&&!a&&!c)p===void 0?(u=h+1,p=n.slice(0,h).trim()):y();else{switch(d){case 34:s=!0;break;case 39:i=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:a++;break;case 93:a--;break;case 123:l++;break;case 125:l--;break}if(d===47){let _=h-1,b;for(;_>=0&&(b=n.charAt(_),b===" ");_--);(!b||!gk.test(b))&&(o=!0)}}p===void 0?p=n.slice(0,h).trim():u!==0&&y();function y(){g.push(n.slice(u,h).trim()),u=h+1}if(g.length){for(h=0;h<g.length;h++)p=vk(p,g[h],e);t.content=p,t.ast=void 0}}function vk(t,e,n){n.helper(Wf);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${wo(e,"filter")}(${t})`;{const s=e.slice(0,i),r=e.slice(i+1);return n.filters.add(s),`${wo(s,"filter")}(${t}${r!==")"?","+r:r}`}}const Fg=new WeakSet,yk=(t,e)=>{if(t.type===1){const n=Yt(t,"memo");return!n||Fg.has(t)?void 0:(Fg.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&Qf(i,e),t.codegenNode=Ye(e.helper(Kf),[n.exp,ur(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function _k(t){return[[pk,QR,yk,ek,mk,dk,ok,ik,hk],{on:Ob,bind:ZR,model:Pb}]}function bk(t,e={}){const n=e.onError||Jf,i=e.mode==="module";e.prefixIdentifiers===!0?n(Fe(47)):i&&n(Fe(48));const s=!1;e.cacheHandlers&&n(Fe(49)),e.scopeId&&!i&&n(Fe(50));const r=fe({},e,{prefixIdentifiers:s}),o=re(t)?IR(t,r):t,[l,a]=_k();return DR(o,fe({},r,{nodeTransforms:[...l,...e.nodeTransforms||[]],directiveTransforms:fe({},a,e.directiveTransforms||{})})),PR(o,r)}const Ek=()=>({props:[]});/**
* @vue/compiler-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lb=Symbol(""),Hb=Symbol(""),Fb=Symbol(""),Ub=Symbol(""),Ed=Symbol(""),Bb=Symbol(""),Vb=Symbol(""),Wb=Symbol(""),jb=Symbol(""),$b=Symbol("");J0({[Lb]:"vModelRadio",[Hb]:"vModelCheckbox",[Fb]:"vModelText",[Ub]:"vModelSelect",[Ed]:"vModelDynamic",[Bb]:"withModifiers",[Vb]:"withKeys",[Wb]:"vShow",[jb]:"Transition",[$b]:"TransitionGroup"});let Os;function wk(t,e=!1){return Os||(Os=document.createElement("div")),e?(Os.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Os.children[0].getAttribute("foo")):(Os.innerHTML=t,Os.textContent)}const Sk={parseMode:"html",isVoidTag:bC,isNativeTag:t=>vC(t)||yC(t)||_C(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:wk,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return jb;if(t==="TransitionGroup"||t==="transition-group")return $b},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},Tk=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:oe("style",!0,e.loc),exp:Ck(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Ck=(t,e)=>{const n=ny(t);return oe(JSON.stringify(n),!1,e,3)};function Ii(t,e){return Fe(t,e)}const Ak=(t,e,n)=>{const{exp:i,loc:s}=t;return i||n.onError(Ii(53,s)),e.children.length&&(n.onError(Ii(54,s)),e.children.length=0),{props:[$e(oe("innerHTML",!0,s),i||oe("",!0))]}},Ik=(t,e,n)=>{const{exp:i,loc:s}=t;return i||n.onError(Ii(55,s)),e.children.length&&(n.onError(Ii(56,s)),e.children.length=0),{props:[$e(oe("textContent",!0),i?Bt(i,n)>0?i:Ye(n.helperString(Ic),[i],s):oe("",!0))]}},Rk=(t,e,n)=>{const i=Pb(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(Ii(58,t.arg.loc));const{tag:s}=e,r=n.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||r){let o=Fb,l=!1;if(s==="input"||r){const a=Rc(e,"type");if(a){if(a.type===7)o=Ed;else if(a.value)switch(a.value.content){case"radio":o=Lb;break;case"checkbox":o=Hb;break;case"file":l=!0,n.onError(Ii(59,t.loc));break}}else uR(e)&&(o=Ed)}else s==="select"&&(o=Ub);l||(i.needRuntime=n.helper(o))}else n.onError(Ii(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},kk=$t("passive,once,capture"),xk=$t("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Dk=$t("left,right"),zb=$t("onkeyup,onkeydown,onkeypress"),Nk=(t,e,n,i)=>{const s=[],r=[],o=[];for(let l=0;l<e.length;l++){const a=e[l].content;a==="native"&&Eo("COMPILER_V_ON_NATIVE",n)||kk(a)?o.push(a):Dk(a)?Rt(t)?zb(t.content.toLowerCase())?s.push(a):r.push(a):(s.push(a),r.push(a)):xk(a)?r.push(a):s.push(a)}return{keyModifiers:s,nonKeyModifiers:r,eventOptionModifiers:o}},Ug=(t,e)=>Rt(t)&&t.content.toLowerCase()==="onclick"?oe(e,!0):t.type!==4?cn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Mk=(t,e,n)=>Ob(t,e,n,i=>{const{modifiers:s}=t;if(!s.length)return i;let{key:r,value:o}=i.props[0];const{keyModifiers:l,nonKeyModifiers:a,eventOptionModifiers:c}=Nk(r,s,n,t.loc);if(a.includes("right")&&(r=Ug(r,"onContextmenu")),a.includes("middle")&&(r=Ug(r,"onMouseup")),a.length&&(o=Ye(n.helper(Bb),[o,JSON.stringify(a)])),l.length&&(!Rt(r)||zb(r.content.toLowerCase()))&&(o=Ye(n.helper(Vb),[o,JSON.stringify(l)])),c.length){const u=c.map(Cs).join("");r=Rt(r)?oe(`${r.content}${u}`,!0):cn(["(",r,`) + "${u}"`])}return{props:[$e(r,o)]}}),Ok=(t,e,n)=>{const{exp:i,loc:s}=t;return i||n.onError(Ii(61,s)),{props:[],needRuntime:n.helper(Wb)}},Pk=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Lk=[Tk],Hk={cloak:Ek,html:Ak,text:Ik,model:Rk,on:Mk,show:Ok};function Fk(t,e={}){return bk(t,fe({},Sk,e,{nodeTransforms:[Pk,...Lk,...e.nodeTransforms||[]],directiveTransforms:fe({},Hk,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Bg=Object.create(null);function Uk(t,e){if(!re(t))if(t.nodeType)t=t.innerHTML;else return it;const n=oC(t,e),i=Bg[n];if(i)return i;if(t[0]==="#"){const l=document.querySelector(t);t=l?l.innerHTML:""}const s=fe({hoistStatic:!0,onError:void 0,onWarn:it},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=l=>!!customElements.get(l));const{code:r}=Fk(t,s),o=new Function("Vue",r)(z0);return o._rc=!0,Bg[n]=o}D_(Uk);const Vg="/Hashozer/assets/logo-34d26fd8.png";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw Tr(e)},Tr=function(t){return new Error("Firebase Database ("+Gb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Bk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},th={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,u=r>>2,d=(r&3)<<4|l>>4;let f=(l&15)<<2|c>>6,h=c&63;a||(h=64,o||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||c==null||d==null)throw new Vk;const f=r<<2|l>>4;if(i.push(f),c!==64){const h=l<<4&240|c>>2;if(i.push(h),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(t){const e=qb(t);return th.encodeByteArray(e,!0)},wa=function(t){return Yb(t).replace(/\./g,"")},Sa=function(t){try{return th.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){return Kb(void 0,t)}function Kb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jk(n)||(t[n]=Kb(t[n],e[n]));return t}function jk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=()=>$k().__FIREBASE_DEFAULTS__,Gk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sa(t[1]);return e&&JSON.parse(e)},nh=()=>{try{return zk()||Gk()||qk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qb=t=>{var e,n;return(n=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yk=t=>{const e=Qb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Jb=()=>{var t;return(t=nh())===null||t===void 0?void 0:t.config},Xb=t=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[wa(JSON.stringify(n)),wa(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ih(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function Qk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xk(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eE(){return Gb.NODE_ADMIN===!0}function Zk(){try{return typeof indexedDB=="object"}catch{return!1}}function ex(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="FirebaseError";class Wi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=tx,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?nx(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Wi(s,l,i)}}function nx(t,e){return t.replace(ix,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const ix=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=To(Sa(r[0])||""),n=To(Sa(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},sx=function(t){const e=tE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rx=function(t){const e=tE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ta(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ca(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Wg(r)&&Wg(o)){if(!Ca(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Wg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):d<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const f=(s<<5|s>>>27)+c+a+u+i[d]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function lx(t,e){const n=new ax(t,e);return n.subscribe.bind(n)}class ax{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cx(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=mu),s.error===void 0&&(s.error=mu),s.complete===void 0&&(s.complete=mu);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mu(){}function Nc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,U(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Mc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Dc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hx(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fx(t){return t===qi?void 0:t}function hx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const gx={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},mx=Ae.INFO,vx={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},yx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=vx[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sh{constructor(e){this.name=e,this._logLevel=mx,this._logHandler=yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const _x=(t,e)=>e.some(n=>t instanceof n);let jg,$g;function bx(){return jg||(jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ex(){return $g||($g=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,Sd=new WeakMap,iE=new WeakMap,vu=new WeakMap,rh=new WeakMap;function wx(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Ri(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nE.set(n,t)}).catch(()=>{}),rh.set(e,t),e}function Sx(t){if(Sd.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Sd.set(t,e)}let Td={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Tx(t){Td=t(Td)}function Cx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(yu(this),e,...n);return iE.set(i,e.sort?e.sort():[e]),Ri(i)}:Ex().includes(t)?function(...e){return t.apply(yu(this),e),Ri(nE.get(this))}:function(...e){return Ri(t.apply(yu(this),e))}}function Ax(t){return typeof t=="function"?Cx(t):(t instanceof IDBTransaction&&Sx(t),_x(t,bx())?new Proxy(t,Td):t)}function Ri(t){if(t instanceof IDBRequest)return wx(t);if(vu.has(t))return vu.get(t);const e=Ax(t);return e!==t&&(vu.set(t,e),rh.set(e,t)),e}const yu=t=>rh.get(t);function Ix(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=Ri(o);return i&&o.addEventListener("upgradeneeded",a=>{i(Ri(o.result),a.oldVersion,a.newVersion,Ri(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Rx=["get","getKey","getAll","getAllKeys","count"],kx=["put","add","delete","clear"],_u=new Map;function zg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_u.get(e))return _u.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=kx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Rx.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return _u.set(e,r),r}Tx(t=>({...t,get:(e,n,i)=>zg(e,n)||t.get(e,n,i),has:(e,n)=>!!zg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dx(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Dx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cd="@firebase/app",Gg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new sh("@firebase/app"),Nx="@firebase/app-compat",Mx="@firebase/analytics-compat",Ox="@firebase/analytics",Px="@firebase/app-check-compat",Lx="@firebase/app-check",Hx="@firebase/auth",Fx="@firebase/auth-compat",Ux="@firebase/database",Bx="@firebase/data-connect",Vx="@firebase/database-compat",Wx="@firebase/functions",jx="@firebase/functions-compat",$x="@firebase/installations",zx="@firebase/installations-compat",Gx="@firebase/messaging",qx="@firebase/messaging-compat",Yx="@firebase/performance",Kx="@firebase/performance-compat",Qx="@firebase/remote-config",Jx="@firebase/remote-config-compat",Xx="@firebase/storage",Zx="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai-preview",nD="@firebase/firestore-compat",iD="firebase",sD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="[DEFAULT]",rD={[Cd]:"fire-core",[Nx]:"fire-core-compat",[Ox]:"fire-analytics",[Mx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Px]:"fire-app-check-compat",[Hx]:"fire-auth",[Fx]:"fire-auth-compat",[Ux]:"fire-rtdb",[Bx]:"fire-data-connect",[Vx]:"fire-rtdb-compat",[Wx]:"fire-fn",[jx]:"fire-fn-compat",[$x]:"fire-iid",[zx]:"fire-iid-compat",[Gx]:"fire-fcm",[qx]:"fire-fcm-compat",[Yx]:"fire-perf",[Kx]:"fire-perf-compat",[Qx]:"fire-rc",[Jx]:"fire-rc-compat",[Xx]:"fire-gcs",[Zx]:"fire-gcs-compat",[eD]:"fire-fst",[nD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Map,oD=new Map,Id=new Map;function qg(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){const e=t.name;if(Id.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Id.set(e,t);for(const n of Aa.values())qg(n,t);for(const n of oD.values())qg(n,t);return!0}function oh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new Yo("app","Firebase",lD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=sD;function sE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ad,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ki.create("bad-app-name",{appName:String(s)});if(n||(n=Jb()),!n)throw ki.create("no-options");const r=Aa.get(s);if(r){if(Ca(n,r.options)&&Ca(i,r.config))return r;throw ki.create("duplicate-app",{appName:s})}const o=new px(s);for(const a of Id.values())o.addComponent(a);const l=new aD(n,i,o);return Aa.set(s,l),l}function rE(t=Ad){const e=Aa.get(t);if(!e&&t===Ad&&Jb())return sE();if(!e)throw ki.create("no-app",{appName:t});return e}function xi(t,e,n){var i;let s=(i=rD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(l.join(" "));return}pr(new gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebase-heartbeat-database",uD=1,Co="firebase-heartbeat-store";let bu=null;function oE(){return bu||(bu=Ix(cD,uD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Co)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),bu}async function dD(t){try{const n=(await oE()).transaction(Co),i=await n.objectStore(Co).get(lE(t));return await n.done,i}catch(e){if(e instanceof Wi)Kn.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(n.message)}}}async function Yg(t,e){try{const i=(await oE()).transaction(Co,"readwrite");await i.objectStore(Co).put(e,lE(t)),await i.done}catch(n){if(n instanceof Wi)Kn.warn(n.message);else{const i=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(i.message)}}}function lE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1024,hD=30*24*60*60*1e3;class pD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=hD}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kg(),{heartbeatsToSend:i,unsentEntries:s}=gD(this._heartbeatsCache.heartbeats),r=wa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Kn.warn(n),""}}}function Kg(){return new Date().toISOString().substring(0,10)}function gD(t,e=fD){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Qg(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zk()?ex().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qg(t){return wa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){pr(new gs("platform-logger",e=>new xx(e),"PRIVATE")),pr(new gs("heartbeat",e=>new pD(e),"PRIVATE")),xi(Cd,Gg,t),xi(Cd,Gg,"esm2017"),xi("fire-js","")}vD("");var yD="firebase",_D="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(yD,_D,"app");const Jg="@firebase/database",Xg="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE="";function bD(t){aE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:To(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ED(e)}}catch{}return new wD},es=cE("localStorage"),Rd=cE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new sh("@firebase/database"),SD=function(){let t=1;return function(){return t++}}(),uE=function(t){const e=ux(t),n=new ox;n.update(e);const i=n.digest();return th.encodeByteArray(i)},Ko=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ko.apply(null,i):typeof i=="object"?e+=Qe(i):e+=i,e+=" "}return e};let ls=null,Zg=!0;const TD=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Js.logLevel=Ae.VERBOSE,ls=Js.log.bind(Js),e&&Rd.set("logging_enabled",!0)):typeof t=="function"?ls=t:(ls=null,Rd.remove("logging_enabled"))},ft=function(...t){if(Zg===!0&&(Zg=!1,ls===null&&Rd.get("logging_enabled")===!0&&TD(!0)),ls){const e=Ko.apply(null,t);ls(e)}},Qo=function(t){return function(...e){ft(t,...e)}},kd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ko(...t);Js.error(e)},Qn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ko(...t)}`;throw Js.error(e),new Error(e)},Dt=function(...t){const e="FIREBASE WARNING: "+Ko(...t);Js.warn(e)},CD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},AD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ms="[MIN_NAME]",Li="[MAX_NAME]",Ir=function(t,e){if(t===e)return 0;if(t===ms||e===Li)return-1;if(e===ms||t===Li)return 1;{const n=em(t),i=em(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},ID=function(t,e){return t===e?0:t<e?-1:1},Fr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},ah=function(t){if(typeof t!="object"||t===null)return Qe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Qe(e[i]),n+=":",n+=ah(t[e[i]]);return n+="}",n},dE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const fE=function(t){U(!lh(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,a;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(u.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},RD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const DD=new RegExp("^-?(0*)\\d{1,10}$"),ND=-2147483648,MD=2147483647,em=function(t){if(DD.test(t)){const e=Number(t);if(e>=ND&&e<=MD)return e}return null},Rr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},OD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},eo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}}class Xs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="5",hE="v",pE="s",gE="r",mE="f",vE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yE="ls",_E="p",xd="ac",bE="websocket",EE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,i,s,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=es.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&es.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function HD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function SE(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let i;if(e===bE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===EE)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);HD(t)&&(n.ns=t.namespace);const s=[];return Mt(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Wk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu={},wu={};function uh(t){const e=t.toString();return Eu[e]||(Eu[e]=new FD),Eu[e]}function UD(t,e){const n=t.toString();return wu[n]||(wu[n]=e()),wu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Rr(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="start",VD="close",WD="pLPCommand",jD="pRTLPCB",TE="id",CE="pw",AE="ser",$D="cb",zD="seg",GD="ts",qD="d",YD="dframe",IE=1870,RE=30,KD=IE-RE,QD=25e3,JD=3e4;class Bs{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qo(e),this.stats_=uh(n),this.urlFn=a=>(this.appCheckToken&&(a[xd]=this.appCheckToken),SE(n,EE,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(JD)),AD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dh((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tm)this.id=l,this.password=a;else if(o===VD)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[tm]="t",i[AE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[$D]=this.scriptTagHolder.uniqueCallbackIdentifier),i[hE]=ch,this.transportSessionId&&(i[pE]=this.transportSessionId),this.lastSessionId&&(i[yE]=this.lastSessionId),this.applicationId&&(i[_E]=this.applicationId),this.appCheckToken&&(i[xd]=this.appCheckToken),typeof location<"u"&&location.hostname&&vE.test(location.hostname)&&(i[gE]=mE);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bs.forceAllow_=!0}static forceDisallow(){Bs.forceDisallow_=!0}static isAvailable(){return Bs.forceAllow_?!0:!Bs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!RD()&&!kD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Yb(n),s=dE(i,KD);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[YD]="t",i[TE]=e,i[CE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dh{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SD(),window[WD+this.uniqueCallbackIdentifier]=e,window[jD+this.uniqueCallbackIdentifier]=n,this.myIFrame=dh.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ft("frame writing exception"),l.stack&&ft(l.stack),ft(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[TE]=this.myID,e[CE]=this.myPW,e[AE]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RE+i.length<=IE;){const o=this.pendingSegs.shift();i=i+"&"+zD+s+"="+o.seg+"&"+GD+s+"="+o.ts+"&"+qD+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(QD)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=16384,ZD=45e3;let Ia=null;typeof MozWebSocket<"u"?Ia=MozWebSocket:typeof WebSocket<"u"&&(Ia=WebSocket);class sn{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qo(this.connId),this.stats_=uh(n),this.connURL=sn.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[hE]=ch,typeof location<"u"&&location.hostname&&vE.test(location.hostname)&&(o[gE]=mE),n&&(o[pE]=n),i&&(o[yE]=i),s&&(o[xd]=s),r&&(o[_E]=r),SE(e,bE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,es.set("previous_websocket_failure",!0);try{let i;eE(),this.mySock=new Ia(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ia!==null&&!sn.forceDisallow_}static previouslyFailed(){return es.isInMemoryStorage||es.get("previous_websocket_failure")===!0}markConnectionHealthy(){es.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=To(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=dE(n,XD);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bs,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=sn&&sn.isAvailable();let i=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sn];else{const s=this.transports_=[];for(const r of Ao.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Ao.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ao.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6e4,tN=5e3,nN=10*1024,iN=100*1024,Su="t",nm="d",sN="s",im="r",rN="e",sm="o",rm="a",om="n",lm="p",oN="h";class lN{constructor(e,n,i,s,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qo("c:"+this.id+":"),this.transportManager_=new Ao(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=eo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Su in e){const n=e[Su];n===rm?this.upgradeIfSecondaryHealthy_():n===im?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fr("t",e),i=Fr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:om,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fr("t",e),i=Fr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fr(Su,e);if(nm in e){const i=e[nm];if(n===oN){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===om){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===sN?this.onConnectionShutdown_(i):n===im?this.onReset_(i):n===rN?kd("Server Error: "+i):n===sm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ch!==i&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),eo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(es.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends xE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ih()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ra}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=32,cm=768;class Ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new Ie("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Hi(t){return t.pieces_.length-t.pieceNum_}function De(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function DE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function NE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ME(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function Je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ie)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ie(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return bt(De(t),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function OE(t,e){if(Hi(t)!==Hi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function rn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Hi(t)>Hi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class cN{constructor(e,n){this.errorPrefix_=n,this.parts_=NE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Mc(this.parts_[i]);PE(this)}}function uN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mc(e),PE(t)}function dN(t){const e=t.parts_.pop();t.byteLength_-=Mc(e),t.parts_.length>0&&(t.byteLength_-=1)}function PE(t){if(t.byteLength_>cm)throw new Error(t.errorPrefix_+"has a key path longer than "+cm+" bytes ("+t.byteLength_+").");if(t.parts_.length>am)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+am+") or object contains a cycle "+Yi(t))}function Yi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends xE{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new fh}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=1e3,fN=60*5*1e3,um=30*1e3,hN=1.3,pN=3e4,gN="server_kill",dm=3;class Wn extends kE{constructor(e,n,i,s,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Wn.nextPersistentConnectionId_++,this.log_=Qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ur,this.maxReconnectDelay_=fN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!eE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ra.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Qe(r)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Dc,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;Wn.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cn(e,"w")){const i=hr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=um)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sx(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):kd("Unrecognized action received from server: "+Qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ur,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ur,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pN&&(this.reconnectDelay_=Ur),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Wn.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},c=function(d){U(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new lN(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{Dt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(gN)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Dt(d),a())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wd(this.interruptReasons_)&&(this.reconnectDelay_=Ur,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>ah(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ie(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dm&&(this.reconnectDelay_=um,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+aE.replace(/\./g,"-")]=1,ih()?e["framework.cordova"]=1:Zb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ra.getInstance().currentlyOnline();return wd(this.interruptReasons_)&&e}}Wn.nextPersistentConnectionId_=0;Wn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ce(ms,e),s=new ce(ms,n);return this.compare(i,s)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class LE extends Oc{static get __EMPTY_NODE(){return Tl}static set __EMPTY_NODE(e){Tl=e}compare(e,n){return Ir(e.name,n.name)}isDefinedOn(e){throw Tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Li,Tl)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Tl)}toString(){return".key"}}const as=new LE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??tt.RED,this.left=s??kt.EMPTY_NODE,this.right=r??kt.EMPTY_NODE}copy(e,n,i,s,r){return new tt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class mN{copy(e,n,i,s,r){return this}insert(e,n,i){return new tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kt{constructor(e,n=kt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new kt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new kt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cl(this.root_,null,this.comparator_,!0,e)}}kt.EMPTY_NODE=new mN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){return Ir(t.name,e.name)}function hh(t,e){return Ir(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd;function yN(t){Dd=t}const HE=function(t){return typeof t=="number"?"number:"+fE(t):"string:"+t},FE=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else U(t===Dd||t.isEmpty(),"priority of unexpected type.");U(t===Dd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm;class et{constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FE(this.priorityNode_)}static set __childrenNodeConstructor(e){fm=e}static get __childrenNodeConstructor(){return fm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:de(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(U(i!==".priority"||Hi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=fE(this.value_):e+=this.value_,this.lazyHash_=uE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=et.VALUE_TYPE_ORDER.indexOf(n),r=et.VALUE_TYPE_ORDER.indexOf(i);return U(s>=0,"Unknown leaf type: "+n),U(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE,BE;function _N(t){UE=t}function bN(t){BE=t}class EN extends Oc{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Ir(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Li,new et("[PRIORITY-POST]",BE))}makePost(e,n){const i=UE(e);return new ce(n,new et("[PRIORITY-POST]",i))}toString(){return".priority"}}const We=new EN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=Math.log(2);class SN{constructor(e){const n=r=>parseInt(Math.log(r)/wN,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ka=function(t,e,n,i){t.sort(e);const s=function(a,c){const u=c-a;let d,f;if(u===0)return null;if(u===1)return d=t[a],f=n?n(d):d,new tt(f,d.node,tt.BLACK,null,null);{const h=parseInt(u/2,10)+a,p=s(a,h),g=s(h+1,c);return d=t[h],f=n?n(d):d,new tt(f,d.node,tt.BLACK,p,g)}},r=function(a){let c=null,u=null,d=t.length;const f=function(p,g){const y=d-p,_=d;d-=p;const b=s(y+1,_),m=t[y],v=n?n(m):m;h(new tt(v,m.node,g,null,b))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<a.count;++p){const g=a.nextBitIsOne(),y=Math.pow(2,a.count-(p+1));g?f(y,tt.BLACK):(f(y,tt.BLACK),f(y,tt.RED))}return u},o=new SN(t.length),l=r(o);return new kt(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;const Ps={};class Ln{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(Ps&&We,"ChildrenNode.ts has not been loaded"),Tu=Tu||new Ln({".priority":Ps},{".priority":We}),Tu}get(e){const n=hr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kt?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){U(e!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(ce.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=ka(i,e.getCompare()):l=Ps;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new Ln(u,c)}addToIndexes(e,n){const i=Ta(this.indexes_,(s,r)=>{const o=hr(this.indexSet_,r);if(U(o,"Missing index implementation for "+r),s===Ps)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(ce.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),ka(l,o.getCompare())}else return Ps;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new ce(e.name,l))),a.insert(e,e.node)}});return new Ln(i,this.indexSet_)}removeFromIndexes(e,n){const i=Ta(this.indexes_,s=>{if(s===Ps)return s;{const r=n.get(e.name);return r?s.remove(new ce(e.name,r)):s}});return new Ln(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br;class ee{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FE(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Br||(Br=new ee(new kt(hh),null,Ln.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Br}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Br:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(De(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ce(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Br:this.priorityNode_;return new ee(s,o,r)}}updateChild(e,n){const i=de(e);if(i===null)return n;{U(de(e)!==".priority"||Hi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(De(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(We,(o,l)=>{n[o]=l.val(e),i++,r&&ee.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HE(this.getPriority().val())+":"),this.forEachChild(We,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":uE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new ce(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ce.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jo?-1:0}withIndex(e){if(e===as||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===as||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(We),s=n.getIterator(We);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===as?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TN extends ee{constructor(){super(new kt(hh),ee.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const Jo=new TN;Object.defineProperties(ce,{MIN:{value:new ce(ms,ee.EMPTY_NODE)},MAX:{value:new ce(Li,Jo)}});LE.__EMPTY_NODE=ee.EMPTY_NODE;et.__childrenNodeConstructor=ee;yN(Jo);bN(Jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=!0;function nt(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,nt(e))}if(!(t instanceof Array)&&CN){const n=[];let i=!1;if(Mt(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=nt(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new ce(o,a)))}}),n.length===0)return ee.EMPTY_NODE;const r=ka(n,vN,o=>o.name,hh);if(i){const o=ka(n,We.getCompare());return new ee(r,nt(e),new Ln({".priority":o},{".priority":We}))}else return new ee(r,nt(e),Ln.Default)}else{let n=ee.EMPTY_NODE;return Mt(t,(i,s)=>{if(Cn(t,i)&&i.substring(0,1)!=="."){const r=nt(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(nt(e))}}_N(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Oc{constructor(e){super(),this.indexPath_=e,U(!ae(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Ir(e.name,n.name):r}makePost(e,n){const i=nt(e),s=ee.EMPTY_NODE.updateChild(this.indexPath_,i);return new ce(n,s)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,Jo);return new ce(Li,e)}toString(){return NE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends Oc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ir(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const i=nt(e);return new ce(n,i)}toString(){return".value"}}const VE=new AN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){return{type:"value",snapshotNode:t}}function gr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Io(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ro(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function IN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Io(n,l)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(gr(n,i)):o.trackChildChange(Ro(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(We,(s,r)=>{n.hasChild(s)||i.trackChildChange(Io(s,r))}),n.isLeafNode()||n.forEachChild(We,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Ro(s,r,o))}else i.trackChildChange(gr(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.indexedFilter_=new gh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ko.getStartPost_(e),this.endPost_=ko.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new ce(n,i))||(i=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ee.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(ee.EMPTY_NODE);const r=this;return n.forEachChild(We,(o,l)=>{r.matches(new ce(o,l))||(s=s.updateImmediateChild(o,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new ce(n,i))||(i=ee.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=ee.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(ee.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const l=e;U(l.numChildren()===this.limit_,"");const a=new ce(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,a);if(u&&!i.isEmpty()&&h>=0)return r!=null&&r.trackChildChange(Ro(n,i,d)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(Io(n,d));const g=l.updateImmediateChild(n,ee.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(gr(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return i.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(Io(c.name,c.node)),r.trackChildChange(gr(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ms}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new mh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kN(t){return t.loadsAllData()?new gh(t.getIndex()):t.hasLimit()?new RN(t):new ko(t)}function xN(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function DN(t,e){const n=t.copy();return n.index_=e,n}function hm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===VE?n="$value":t.index_===as?n="$key":(U(t.index_ instanceof ph,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Qe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Qe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Qe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends kE{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Qo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=xa.getListenId_(e,i),l={};this.listens_[o]=l;const a=hm(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),hr(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const i=xa.getListenId_(e,n);delete this.listens_[i]}get(e){const n=hm(e._queryParams),i=e._path.toString(),s=new Dc;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cr(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=To(l.responseText)}catch{Dt("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&Dt("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){return{value:null,children:new Map}}function jE(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,Da());const s=t.children.get(i);e=De(e),jE(s,e,n)}}function Nd(t,e,n){t.value!==null?n(e,t.value):MN(t,(i,s)=>{const r=new Ie(e.toString()+"/"+i);Nd(s,r,n)})}function MN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=10*1e3,PN=30*1e3,LN=5*60*1e3;class HN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ON(e);const i=gm+(PN-gm)*Math.random();eo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Mt(e,(s,r)=>{r>0&&Cn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),eo(this.reportStats_.bind(this),Math.floor(Math.random()*2*LN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(on||(on={}));function $E(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=on.ACK_USER_WRITE,this.source=$E()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ie(e));return new Na(_e(),n,this.revert)}}else return U(de(this.path)===e,"operationForChild called for unrelated child."),new Na(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.source=e,this.path=n,this.type=on.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new xo(this.source,_e()):new xo(this.source,De(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=on.OVERWRITE}operationForChild(e){return ae(this.path)?new vs(this.source,_e(),this.snap.getImmediateChild(e)):new vs(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=on.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new vs(this.source,_e(),n.value):new Do(this.source,_e(),n)}else return U(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Do(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function UN(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(IN(o.childName,o.snapshotNode))}),Vr(t,s,"child_removed",e,i,n),Vr(t,s,"child_added",e,i,n),Vr(t,s,"child_moved",r,i,n),Vr(t,s,"child_changed",e,i,n),Vr(t,s,"value",e,i,n),s}function Vr(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,a)=>VN(t,l,a)),o.forEach(l=>{const a=BN(t,l,r);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function BN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VN(t,e,n){if(e.childName==null||n.childName==null)throw Tr("Should only compare child_ events.");const i=new ce(e.childName,e.snapshotNode),s=new ce(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e){return{eventCache:t,serverCache:e}}function to(t,e,n,i){return Pc(new Fi(e,n,i),t.serverCache)}function zE(t,e,n,i){return Pc(t.eventCache,new Fi(e,n,i))}function Ma(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ys(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;const WN=()=>(Cu||(Cu=new kt(ID)),Cu);class Pe{constructor(e,n=WN()){this.value=e,this.children=n}static fromObject(e){let n=new Pe(null);return Mt(e,(i,s)=>{n=n.set(new Ie(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ae(e))return null;{const i=de(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(De(e),n);return r!=null?{path:Je(new Ie(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(De(e)):new Pe(null)}}set(e,n){if(ae(e))return new Pe(n,this.children);{const i=de(e),r=(this.children.get(i)||new Pe(null)).set(De(e),n),o=this.children.insert(i,r);return new Pe(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const s=i.remove(De(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Pe(null):new Pe(this.value,r)}else return this}}get(e){if(ae(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(De(e)):null}}setTree(e,n){if(ae(e))return n;{const i=de(e),r=(this.children.get(i)||new Pe(null)).setTree(De(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Pe(this.value,o)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Je(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ae(e))return null;{const r=de(e),o=this.children.get(r);return o?o.findOnPath_(De(e),Je(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,i){if(ae(e))return this;{this.value&&i(n,this.value);const s=de(e),r=this.children.get(s);return r?r.foreachOnPath_(De(e),Je(n,s),i):new Pe(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.writeTree_=e}static empty(){return new un(new Pe(null))}}function no(t,e,n){if(ae(e))return new un(new Pe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=bt(s,e);return r=r.updateChild(o,n),new un(t.writeTree_.set(s,r))}else{const s=new Pe(n),r=t.writeTree_.setTree(e,s);return new un(r)}}}function mm(t,e,n){let i=t;return Mt(n,(s,r)=>{i=no(i,Je(e,s),r)}),i}function vm(t,e){if(ae(e))return un.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new un(n)}}function Md(t,e){return Is(t,e)!=null}function Is(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function ym(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(i,s)=>{e.push(new ce(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new ce(i,s.value))}),e}function Di(t,e){if(ae(e))return t;{const n=Is(t,e);return n!=null?new un(new Pe(n)):new un(t.writeTree_.subtree(e))}}function Od(t){return t.writeTree_.isEmpty()}function mr(t,e){return GE(_e(),t.writeTree_,e)}function GE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(U(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=GE(Je(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e){return QE(e,t)}function jN(t,e,n,i,s){U(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=no(t.visibleWrites,e,n)),t.lastWriteId=i}function $N(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function zN(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&GN(l,i.path)?s=!1:rn(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return qN(t),!0;if(i.snap)t.visibleWrites=vm(t.visibleWrites,i.path);else{const l=i.children;Mt(l,a=>{t.visibleWrites=vm(t.visibleWrites,Je(i.path,a))})}return!0}else return!1}function GN(t,e){if(t.snap)return rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rn(Je(t.path,n),e))return!0;return!1}function qN(t){t.visibleWrites=qE(t.allWrites,YN,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YN(t){return t.visible}function qE(t,e,n){let i=un.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)rn(n,o)?(l=bt(n,o),i=no(i,l,r.snap)):rn(o,n)&&(l=bt(o,n),i=no(i,_e(),r.snap.getChild(l)));else if(r.children){if(rn(n,o))l=bt(n,o),i=mm(i,l,r.children);else if(rn(o,n))if(l=bt(o,n),ae(l))i=mm(i,_e(),r.children);else{const a=hr(r.children,de(l));if(a){const c=a.getChild(De(l));i=no(i,_e(),c)}}}else throw Tr("WriteRecord should have .snap or .children")}}return i}function YE(t,e,n,i,s){if(!i&&!s){const r=Is(t.visibleWrites,e);if(r!=null)return r;{const o=Di(t.visibleWrites,e);if(Od(o))return n;if(n==null&&!Md(o,_e()))return null;{const l=n||ee.EMPTY_NODE;return mr(o,l)}}}else{const r=Di(t.visibleWrites,e);if(!s&&Od(r))return n;if(!s&&n==null&&!Md(r,_e()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(rn(c.path,e)||rn(e,c.path))},l=qE(t.allWrites,o,e),a=n||ee.EMPTY_NODE;return mr(l,a)}}}function KN(t,e,n){let i=ee.EMPTY_NODE;const s=Is(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(We,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Di(t.visibleWrites,e);return n.forEachChild(We,(o,l)=>{const a=mr(Di(r,new Ie(o)),l);i=i.updateImmediateChild(o,a)}),ym(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Di(t.visibleWrites,e);return ym(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function QN(t,e,n,i,s){U(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Je(e,n);if(Md(t.visibleWrites,r))return null;{const o=Di(t.visibleWrites,r);return Od(o)?s.getChild(n):mr(o,s.getChild(n))}}function JN(t,e,n,i){const s=Je(e,n),r=Is(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Di(t.visibleWrites,s);return mr(o,i.getNode().getImmediateChild(n))}else return null}function XN(t,e){return Is(t.visibleWrites,e)}function ZN(t,e,n,i,s,r,o){let l;const a=Di(t.visibleWrites,e),c=Is(a,_e());if(c!=null)l=c;else if(n!=null)l=mr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],d=o.getCompare(),f=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let h=f.getNext();for(;h&&u.length<s;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function eM(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}function Oa(t,e,n,i){return YE(t.writeTree,t.treePath,e,n,i)}function _h(t,e){return KN(t.writeTree,t.treePath,e)}function _m(t,e,n,i){return QN(t.writeTree,t.treePath,e,n,i)}function Pa(t,e){return XN(t.writeTree,Je(t.treePath,e))}function tM(t,e,n,i,s,r){return ZN(t.writeTree,t.treePath,e,n,i,s,r)}function bh(t,e,n){return JN(t.writeTree,t.treePath,e,n)}function KE(t,e){return QE(Je(t.treePath,e),t.writeTree)}function QE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,Ro(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,Io(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,gr(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,Ro(i,e.snapshotNode,s.oldSnap));else throw Tr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const JE=new iM;class Eh{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bh(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ys(this.viewCache_),r=tM(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){return{filter:t}}function rM(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function oM(t,e,n,i,s){const r=new nM;let o,l;if(n.type===on.OVERWRITE){const c=n;c.source.fromUser?o=Pd(t,e,c.path,c.snap,i,s,r):(U(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!ae(c.path),o=La(t,e,c.path,c.snap,i,s,l,r))}else if(n.type===on.MERGE){const c=n;c.source.fromUser?o=aM(t,e,c.path,c.children,i,s,r):(U(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Ld(t,e,c.path,c.children,i,s,l,r))}else if(n.type===on.ACK_USER_WRITE){const c=n;c.revert?o=dM(t,e,c.path,i,s,r):o=cM(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===on.LISTEN_COMPLETE)o=uM(t,e,n.path,i,r);else throw Tr("Unknown operation type: "+n.type);const a=r.getChanges();return lM(e,o,a),{viewCache:o,changes:a}}function lM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Ma(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(WE(Ma(e)))}}function XE(t,e,n,i,s,r){const o=e.eventCache;if(Pa(i,n)!=null)return e;{let l,a;if(ae(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ys(e),u=c instanceof ee?c:ee.EMPTY_NODE,d=_h(i,u);l=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Oa(i,ys(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=de(n);if(c===".priority"){U(Hi(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const d=_m(i,n,u,a);d!=null?l=t.filter.updatePriority(u,d):l=o.getNode()}else{const u=De(n);let d;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=_m(i,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=bh(i,c,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),c,d,u,s,r):l=o.getNode()}}return to(e,l,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function La(t,e,n,i,s,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ae(n))c=u.updateFullNode(a.getNode(),i,null);else if(u.filtersNodes()&&!a.isFiltered()){const h=a.getNode().updateChild(n,i);c=u.updateFullNode(a.getNode(),h,null)}else{const h=de(n);if(!a.isCompleteForPath(n)&&Hi(n)>1)return e;const p=De(n),y=a.getNode().getImmediateChild(h).updateChild(p,i);h===".priority"?c=u.updatePriority(a.getNode(),y):c=u.updateChild(a.getNode(),h,y,p,JE,null)}const d=zE(e,c,a.isFullyInitialized()||ae(n),u.filtersNodes()),f=new Eh(s,d,r);return XE(t,d,n,s,f,l)}function Pd(t,e,n,i,s,r,o){const l=e.eventCache;let a,c;const u=new Eh(s,e,r);if(ae(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=to(e,c,!0,t.filter.filtersNodes());else{const d=de(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),a=to(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=De(n),h=l.getNode().getImmediateChild(d);let p;if(ae(f))p=i;else{const g=u.getCompleteChild(d);g!=null?DE(f)===".priority"&&g.getChild(ME(f)).isEmpty()?p=g:p=g.updateChild(f,i):p=ee.EMPTY_NODE}if(h.equals(p))a=e;else{const g=t.filter.updateChild(l.getNode(),d,p,f,u,o);a=to(e,g,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function bm(t,e){return t.eventCache.isCompleteForChild(e)}function aM(t,e,n,i,s,r,o){let l=e;return i.foreach((a,c)=>{const u=Je(n,a);bm(e,de(u))&&(l=Pd(t,l,u,c,s,r,o))}),i.foreach((a,c)=>{const u=Je(n,a);bm(e,de(u))||(l=Pd(t,l,u,c,s,r,o))}),l}function Em(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Ld(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;ae(n)?c=i:c=new Pe(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=Em(t,h,f);a=La(t,a,new Ie(d),p,s,r,o,l)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),g=Em(t,p,f);a=La(t,a,new Ie(d),g,s,r,o,l)}}),a}function cM(t,e,n,i,s,r,o){if(Pa(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(ae(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return La(t,e,n,a.getNode().getChild(n),s,r,l,o);if(ae(n)){let c=new Pe(null);return a.getNode().forEachChild(as,(u,d)=>{c=c.set(new Ie(u),d)}),Ld(t,e,n,c,s,r,l,o)}else return e}else{let c=new Pe(null);return i.foreach((u,d)=>{const f=Je(n,u);a.isCompleteForPath(f)&&(c=c.set(u,a.getNode().getChild(f)))}),Ld(t,e,n,c,s,r,l,o)}}function uM(t,e,n,i,s){const r=e.serverCache,o=zE(e,r.getNode(),r.isFullyInitialized()||ae(n),r.isFiltered());return XE(t,o,n,i,JE,s)}function dM(t,e,n,i,s,r){let o;if(Pa(i,n)!=null)return e;{const l=new Eh(i,e,s),a=e.eventCache.getNode();let c;if(ae(n)||de(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Oa(i,ys(e));else{const d=e.serverCache.getNode();U(d instanceof ee,"serverChildren would be complete if leaf node"),u=_h(i,d)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=de(n);let d=bh(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=a.getImmediateChild(u)),d!=null?c=t.filter.updateChild(a,u,d,De(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,ee.EMPTY_NODE,De(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Oa(i,ys(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Pa(i,_e())!=null,to(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new gh(i.getIndex()),r=kN(i);this.processor_=sM(r);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(ee.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(ee.EMPTY_NODE,l.getNode(),null),u=new Fi(a,o.isFullyInitialized(),s.filtersNodes()),d=new Fi(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Pc(d,u),this.eventGenerator_=new FN(this.query_)}get query(){return this.query_}}function hM(t){return t.viewCache_.serverCache.getNode()}function pM(t){return Ma(t.viewCache_)}function gM(t,e){const n=ys(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function wm(t){return t.eventRegistrations_.length===0}function mM(t,e){t.eventRegistrations_.push(e)}function Sm(t,e,n){const i=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Tm(t,e,n,i){e.type===on.MERGE&&e.source.queryId!==null&&(U(ys(t.viewCache_),"We should always have a full cache before handling merges"),U(Ma(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=oM(t.processor_,s,e,n,i);return rM(t.processor_,r.viewCache),U(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,ZE(t,r.changes,r.viewCache.eventCache.getNode(),null)}function vM(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(r,o)=>{i.push(gr(r,o))}),n.isFullyInitialized()&&i.push(WE(n.getNode())),ZE(t,i,n.getNode(),e)}function ZE(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return UN(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class ew{constructor(){this.views=new Map}}function yM(t){U(!Ha,"__referenceConstructor has already been defined"),Ha=t}function _M(){return U(Ha,"Reference.ts has not been loaded"),Ha}function bM(t){return t.views.size===0}function wh(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return U(r!=null,"SyncTree gave us an op for an invalid query."),Tm(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Tm(o,e,n,i));return r}}function tw(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Oa(n,s?i:null),a=!1;l?a=!0:i instanceof ee?(l=_h(n,i),a=!1):(l=ee.EMPTY_NODE,a=!1);const c=Pc(new Fi(l,a,!1),new Fi(i,s,!1));return new fM(e,c)}return o}function EM(t,e,n,i,s,r){const o=tw(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),mM(o,n),vM(o,n)}function wM(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const l=Ui(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(Sm(c,n,i)),wm(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(Sm(a,n,i)),wm(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Ui(t)&&r.push(new(_M())(e._repo,e._path)),{removed:r,events:o}}function nw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ni(t,e){let n=null;for(const i of t.views.values())n=n||gM(i,e);return n}function iw(t,e){if(e._queryParams.loadsAllData())return Hc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function sw(t,e){return iw(t,e)!=null}function Ui(t){return Hc(t)!=null}function Hc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa;function SM(t){U(!Fa,"__referenceConstructor has already been defined"),Fa=t}function TM(){return U(Fa,"Reference.ts has not been loaded"),Fa}let CM=1;class Cm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=eM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rw(t,e,n,i,s){return jN(t.pendingWriteTree_,e,n,i,s),s?Zo(t,new vs($E(),e,n)):[]}function ts(t,e,n=!1){const i=$N(t.pendingWriteTree_,e);if(zN(t.pendingWriteTree_,e)){let r=new Pe(null);return i.snap!=null?r=r.set(_e(),!0):Mt(i.children,o=>{r=r.set(new Ie(o),!0)}),Zo(t,new Na(i.path,r,n))}else return[]}function Xo(t,e,n){return Zo(t,new vs(vh(),e,n))}function AM(t,e,n){const i=Pe.fromObject(n);return Zo(t,new Do(vh(),e,i))}function IM(t,e){return Zo(t,new xo(vh(),e))}function RM(t,e,n){const i=Th(t,n);if(i){const s=Ch(i),r=s.path,o=s.queryId,l=bt(r,e),a=new xo(yh(o),l);return Ah(t,r,a)}else return[]}function ow(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||sw(o,e))){const a=wM(o,e,n,i);bM(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(f,h)=>Ui(h));if(u&&!d){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const h=NM(f);for(let p=0;p<h.length;++p){const g=h[p],y=g.query,_=uw(t,g);t.listenProvider_.startListening(io(y),No(t,y),_.hashFn,_.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(io(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Fc(f));t.listenProvider_.stopListening(io(f),h)}))}MM(t,c)}return l}function lw(t,e,n,i){const s=Th(t,i);if(s!=null){const r=Ch(s),o=r.path,l=r.queryId,a=bt(o,e),c=new vs(yh(l),a,n);return Ah(t,o,c)}else return[]}function kM(t,e,n,i){const s=Th(t,i);if(s){const r=Ch(s),o=r.path,l=r.queryId,a=bt(o,e),c=Pe.fromObject(n),u=new Do(yh(l),a,c);return Ah(t,o,u)}else return[]}function xM(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,h)=>{const p=bt(f,s);r=r||Ni(h,p),o=o||Ui(h)});let l=t.syncPointTree_.get(s);l?(o=o||Ui(l),r=r||Ni(l,_e())):(l=new ew,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;r!=null?a=!0:(a=!1,r=ee.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((h,p)=>{const g=Ni(p,_e());g&&(r=r.updateImmediateChild(h,g))}));const c=sw(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=Fc(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=OM();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=Lc(t.pendingWriteTree_,s);let d=EM(l,e,n,u,r,a);if(!c&&!o&&!i){const f=iw(l,e);d=d.concat(PM(t,e,f))}return d}function Sh(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=bt(o,e),c=Ni(l,a);if(c)return c});return YE(s,e,r,n,!0)}function DM(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=bt(c,n);i=i||Ni(u,d)});let s=t.syncPointTree_.get(n);s?i=i||Ni(s,_e()):(s=new ew,t.syncPointTree_=t.syncPointTree_.set(n,s));const r=i!=null,o=r?new Fi(i,!0,!1):null,l=Lc(t.pendingWriteTree_,e._path),a=tw(s,e,l,r?o.getNode():ee.EMPTY_NODE,r);return pM(a)}function Zo(t,e){return aw(e,t.syncPointTree_,null,Lc(t.pendingWriteTree_,_e()))}function aw(t,e,n,i){if(ae(t.path))return cw(t,e,n,i);{const s=e.get(_e());n==null&&s!=null&&(n=Ni(s,_e()));let r=[];const o=de(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=KE(i,o);r=r.concat(aw(l,a,c,u))}return s&&(r=r.concat(wh(s,t,i,n))),r}}function cw(t,e,n,i){const s=e.get(_e());n==null&&s!=null&&(n=Ni(s,_e()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=KE(i,o),u=t.operationForChild(o);u&&(r=r.concat(cw(u,l,a,c)))}),s&&(r=r.concat(wh(s,t,i,n))),r}function uw(t,e){const n=e.query,i=No(t,n);return{hashFn:()=>(hM(e)||ee.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?RM(t,n._path,i):IM(t,n._path);{const r=xD(s,n);return ow(t,n,null,r)}}}}function No(t,e){const n=Fc(e);return t.queryToTagMap.get(n)}function Fc(t){return t._path.toString()+"$"+t._queryIdentifier}function Th(t,e){return t.tagToQueryMap.get(e)}function Ch(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function Ah(t,e,n){const i=t.syncPointTree_.get(e);U(i,"Missing sync point for query tag that we're tracking");const s=Lc(t.pendingWriteTree_,e);return wh(i,n,s,null)}function NM(t){return t.fold((e,n,i)=>{if(n&&Ui(n))return[Hc(n)];{let s=[];return n&&(s=nw(n)),Mt(i,(r,o)=>{s=s.concat(o)}),s}})}function io(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(TM())(t._repo,t._path):t}function MM(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Fc(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function OM(){return CM++}function PM(t,e,n){const i=e._path,s=No(t,e),r=uw(t,n),o=t.listenProvider_.startListening(io(e),s,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(i);if(s)U(!Ui(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,d)=>{if(!ae(c)&&u&&Ui(u))return[Hc(u).query];{let f=[];return u&&(f=f.concat(nw(u).map(h=>h.query))),Mt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(io(u),No(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ih(n)}node(){return this.node_}}class Rh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new Rh(this.syncTree_,n)}node(){return Sh(this.syncTree_,this.path_)}}const LM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Am=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return FM(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},FM=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&U(!1,"Unexpected increment value: "+i);const s=e.node();if(U(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},UM=function(t,e,n,i){return kh(e,new Rh(n,t),i)},dw=function(t,e,n){return kh(t,new Ih(e),n)};function kh(t,e,n){const i=t.getPriority().val(),s=Am(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=Am(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new et(l,nt(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new et(s))),o.forEachChild(We,(l,a)=>{const c=kh(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Dh(t,e){let n=e instanceof Ie?e:new Ie(e),i=t,s=de(n);for(;s!==null;){const r=hr(i.node.children,s)||{children:{},childCount:0};i=new xh(s,i,r),n=De(n),s=de(n)}return i}function kr(t){return t.node.value}function fw(t,e){t.node.value=e,Hd(t)}function hw(t){return t.node.childCount>0}function BM(t){return kr(t)===void 0&&!hw(t)}function Uc(t,e){Mt(t.node.children,(n,i)=>{e(new xh(n,t,i))})}function pw(t,e,n,i){n&&!i&&e(t),Uc(t,s=>{pw(s,e,!0,i)}),n&&i&&e(t)}function VM(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function el(t){return new Ie(t.parent===null?t.name:el(t.parent)+"/"+t.name)}function Hd(t){t.parent!==null&&WM(t.parent,t.name,t)}function WM(t,e,n){const i=BM(n),s=Cn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Hd(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Hd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=/[\[\].#$\/\u0000-\u001F\u007F]/,$M=/[\[\].#$\u0000-\u001F\u007F]/,Au=10*1024*1024,Nh=function(t){return typeof t=="string"&&t.length!==0&&!jM.test(t)},gw=function(t){return typeof t=="string"&&t.length!==0&&!$M.test(t)},zM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gw(t)},Im=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!lh(t)||t&&typeof t=="object"&&Cn(t,".sv")},Mh=function(t,e,n,i){i&&e===void 0||Oh(Nc(t,"value"),e,n)},Oh=function(t,e,n){const i=n instanceof Ie?new cN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Yi(i)+" with contents = "+e.toString());if(lh(e))throw new Error(t+"contains "+e.toString()+" "+Yi(i));if(typeof e=="string"&&e.length>Au/3&&Mc(e)>Au)throw new Error(t+"contains a string greater than "+Au+" utf8 bytes "+Yi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Mt(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Nh(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uN(i,o),Oh(t,l,i),dN(i)}),s&&r)throw new Error(t+' contains ".value" child '+Yi(i)+" in addition to actual children.")}},GM=function(t,e,n,i){if(!(i&&n===void 0)&&!Nh(n))throw new Error(Nc(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ph=function(t,e,n,i){if(!(i&&n===void 0)&&!gw(n))throw new Error(Nc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qM=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ph(t,e,n,i)},Lh=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},YM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Nh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!zM(n))throw new Error(Nc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mw(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!OE(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function wn(t,e,n){mw(t,n),QM(t,i=>rn(i,e)||rn(e,i))}function QM(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(JM(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function JM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ls&&ft("event: "+n.toString()),Rr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="repo_interrupt",ZM=25;class eO{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Da(),this.transactionQueueTree_=new xh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tO(t,e,n){if(t.stats_=uh(t.repoInfo_),t.forceRestClient_||OD())t.server_=new xa(t.repoInfo_,(i,s,r,o)=>{Rm(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>km(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Wn(t.repoInfo_,e,(i,s,r,o)=>{Rm(t,i,s,r,o)},i=>{km(t,i)},i=>{nO(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=UD(t.repoInfo_,()=>new HN(t.stats_,t.server_)),t.infoData_=new NN,t.infoSyncTree_=new Cm({startListening:(i,s,r,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=Xo(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Fh(t,"connected",!1),t.serverSyncTree_=new Cm({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,a)=>{const c=o(l,a);wn(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function vw(t){const n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Hh(t){return LM({timestamp:vw(t)})}function Rm(t,e,n,i,s){t.dataUpdateCount++;const r=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const a=Ta(n,c=>nt(c));o=kM(t.serverSyncTree_,r,a,s)}else{const a=nt(n);o=lw(t.serverSyncTree_,r,a,s)}else if(i){const a=Ta(n,c=>nt(c));o=AM(t.serverSyncTree_,r,a)}else{const a=nt(n);o=Xo(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Vc(t,r)),wn(t.eventQueue_,l,o)}function km(t,e){Fh(t,"connected",e),e===!1&&rO(t)}function nO(t,e){Mt(e,(n,i)=>{Fh(t,n,i)})}function Fh(t,e,n){const i=new Ie("/.info/"+e),s=nt(n);t.infoData_.updateSnapshot(i,s);const r=Xo(t.infoSyncTree_,i,s);wn(t.eventQueue_,i,r)}function yw(t){return t.nextWriteId_++}function iO(t,e,n){const i=DM(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const r=nt(s).withIndex(e._queryParams.getIndex());xM(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Xo(t.serverSyncTree_,e._path,r);else{const l=No(t.serverSyncTree_,e);o=lw(t.serverSyncTree_,e._path,r,l)}return wn(t.eventQueue_,e._path,o),ow(t.serverSyncTree_,e,n,null,!0),r},s=>(Bc(t,"get for query "+Qe(e)+" failed: "+s),Promise.reject(new Error(s))))}function sO(t,e,n,i,s){Bc(t,"set",{path:e.toString(),value:n,priority:i});const r=Hh(t),o=nt(n,i),l=Sh(t.serverSyncTree_,e),a=dw(o,l,r),c=yw(t),u=rw(t.serverSyncTree_,e,a,c,!0);mw(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const p=f==="ok";p||Dt("set at "+e+" failed: "+f);const g=ts(t.serverSyncTree_,c,!p);wn(t.eventQueue_,e,g),lO(t,s,f,h)});const d=Sw(t,e);Vc(t,d),wn(t.eventQueue_,d,[])}function rO(t){Bc(t,"onDisconnectEvents");const e=Hh(t),n=Da();Nd(t.onDisconnect_,_e(),(s,r)=>{const o=UM(s,r,t.serverSyncTree_,e);jE(n,s,o)});let i=[];Nd(n,_e(),(s,r)=>{i=i.concat(Xo(t.serverSyncTree_,s,r));const o=Sw(t,s);Vc(t,o)}),t.onDisconnect_=Da(),wn(t.eventQueue_,_e(),i)}function oO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(XM)}function Bc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ft(n,...e)}function lO(t,e,n,i){e&&Rr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function _w(t,e,n){return Sh(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function Uh(t,e=t.transactionQueueTree_){if(e||Wc(t,e),kr(e)){const n=Ew(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&aO(t,el(e),n)}else hw(e)&&Uc(e,n=>{Uh(t,n)})}function aO(t,e,n){const i=n.map(c=>c.currentWriteId),s=_w(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];U(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=bt(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Bc(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ts(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Wc(t,Dh(t.transactionQueueTree_,e)),Uh(t,t.transactionQueueTree_),wn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Rr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Dt("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Vc(t,e)}},o)}function Vc(t,e){const n=bw(t,e),i=el(n),s=Ew(t,n);return cO(t,s,i),i}function cO(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=bt(n,a.path);let u=!1,d;if(U(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,d=a.abortReason,s=s.concat(ts(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=ZM)u=!0,d="maxretry",s=s.concat(ts(t.serverSyncTree_,a.currentWriteId,!0));else{const f=_w(t,a.path,o);a.currentInputSnapshot=f;const h=e[l].update(f.val());if(h!==void 0){Oh("transaction failed: Data returned ",h,a.path);let p=nt(h);typeof h=="object"&&h!=null&&Cn(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=a.currentWriteId,_=Hh(t),b=dw(p,f,_);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=b,a.currentWriteId=yw(t),o.splice(o.indexOf(y),1),s=s.concat(rw(t.serverSyncTree_,a.path,b,a.currentWriteId,a.applyLocally)),s=s.concat(ts(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",s=s.concat(ts(t.serverSyncTree_,a.currentWriteId,!0))}wn(t.eventQueue_,n,s),s=[],u&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(d),!1,null))))}Wc(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Rr(i[l]);Uh(t,t.transactionQueueTree_)}function bw(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&kr(i)===void 0;)i=Dh(i,n),e=De(e),n=de(e);return i}function Ew(t,e){const n=[];return ww(t,e,n),n.sort((i,s)=>i.order-s.order),n}function ww(t,e,n){const i=kr(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Uc(e,s=>{ww(t,s,n)})}function Wc(t,e){const n=kr(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,fw(e,n.length>0?n:void 0)}Uc(e,i=>{Wc(t,i)})}function Sw(t,e){const n=el(bw(t,e)),i=Dh(t.transactionQueueTree_,e);return VM(i,s=>{Iu(t,s)}),Iu(t,i),pw(i,s=>{Iu(t,s)}),n}function Iu(t,e){const n=kr(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ts(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?fw(e,void 0):n.length=r+1,wn(t.eventQueue_,el(e),s);for(let o=0;o<i.length;o++)Rr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function dO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const xm=function(t,e){const n=fO(t),i=n.namespace;n.domain==="firebase.com"&&Qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CD();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wE(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ie(n.pathString)}},fO=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=uO(t.substring(u,d)));const f=dO(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hO=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let s;const r=new Array(8);for(s=7;s>=0;s--)r[s]=Dm.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=r.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Dm.charAt(e[s]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class gO{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ae(this._path)?null:DE(this._path)}get ref(){return new ni(this._repo,this._path)}get _queryIdentifier(){const e=pm(this._queryParams),n=ah(e);return n==="{}"?"default":n}get _queryObject(){return pm(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof tl))return!1;const n=this._repo===e._repo,i=OE(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+aN(this._path)}}function vO(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Tw(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===as){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ms)throw new Error(i);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==Li)throw new Error(i);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===We){if(e!=null&&!Im(e)||n!=null&&!Im(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(U(t.getIndex()instanceof ph||t.getIndex()===VE,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yO(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ni extends tl{constructor(e,n){super(e,n,new mh,!1)}get parent(){const e=ME(this._path);return e===null?null:new ni(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Mo{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ie(e),i=Oo(this.ref,e);return new Mo(this._node.getChild(n),i,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Mo(s,Oo(this.ref,i),We)))}hasChild(e){const n=new Ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ut(t,e){return t=Ot(t),t._checkNotDeleted("ref"),e!==void 0?Oo(t._root,e):t._root}function Oo(t,e){return t=Ot(t),de(t._path)===null?qM("child","path",e,!1):Ph("child","path",e,!1),new ni(t._repo,Je(t._path,e))}function Bh(t,e){t=Ot(t),Lh("push",t._path),Mh("push",e,t._path,!0);const n=vw(t._repo),i=hO(n),s=Oo(t,i),r=Oo(t,i);let o;return e!=null?o=Vh(r,e).then(()=>r):o=Promise.resolve(r),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Fd(t){return Lh("remove",t._path),Vh(t,null)}function Vh(t,e){t=Ot(t),Lh("set",t._path),Mh("set",e,t._path,!1);const n=new Dc;return sO(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function vr(t){t=Ot(t);const e=new mO(()=>{}),n=new Wh(e);return iO(t._repo,t,n).then(i=>new Mo(i,new ni(t._repo,t._path),t._queryParams.getIndex()))}class Wh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new pO("value",this,new Mo(e.snapshotNode,new ni(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gO(this,e,n):null}matches(e){return e instanceof Wh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Cw{}class _O extends Cw{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Mh("startAt",this._value,e._path,!0);const n=xN(e._queryParams,this._value,this._key);if(yO(n),Tw(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new tl(e._repo,e._path,n,e._orderByCalled)}}function Ud(t=null,e){return GM("startAt","key",e,!0),new _O(t,e)}class bO extends Cw{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){vO(e,"orderByChild");const n=new Ie(this._path);if(ae(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ph(n),s=DN(e._queryParams,i);return Tw(s),new tl(e._repo,e._path,s,!0)}}function Bd(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ph("orderByChild","path",t,!1),new bO(t)}function Vd(t,...e){let n=Ot(t);for(const i of e)n=i._apply(n);return n}yM(ni);SM(ni);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="FIREBASE_DATABASE_EMULATOR_HOST",Wd={};let wO=!1;function SO(t,e,n,i){t.repoInfo_=new wE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function TO(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=xm(r,s),l=o.repoInfo,a,c;typeof process<"u"&&process.env&&(c=process.env[EO]),c?(a=!0,r=`http://${c}?ns=${l.namespace}`,o=xm(r,s),l=o.repoInfo):a=!o.repoInfo.secure;const u=s&&a?new Xs(Xs.OWNER):new LD(t.name,t.options,e);YM("Invalid Firebase Database URL",o),ae(o.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=AO(l,t,u,new PD(t.name,n));return new IO(d,t)}function CO(t,e){const n=Wd[e];(!n||n[t.key]!==t)&&Qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oO(t),delete n[t.key]}function AO(t,e,n,i){let s=Wd[e.name];s||(s={},Wd[e.name]=s);let r=s[t.toURLString()];return r&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new eO(t,wO,n,i),s[t.toURLString()]=r,r}class IO{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ni(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qn("Cannot call "+e+" on a deleted database.")}}function nl(t=rE(),e){const n=oh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Yk("database");i&&RO(n,...i)}return n}function RO(t,e,n,i={}){t=Ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Qn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Xs(Xs.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:Kk(i.mockUserToken,t.app.options.projectId);r=new Xs(o)}SO(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){bD(Ar),pr(new gs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return TO(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),xi(Jg,Xg,t),xi(Jg,Xg,"esm2017")}Wn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Wn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kO();function jh(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xO=Aw,Iw=new Yo("auth","Firebase",Aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new sh("@firebase/auth");function DO(t,...e){Ua.logLevel<=Ae.WARN&&Ua.warn(`Auth (${Ar}): ${t}`,...e)}function jl(t,...e){Ua.logLevel<=Ae.ERROR&&Ua.error(`Auth (${Ar}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw $h(t,...e)}function _n(t,...e){return $h(t,...e)}function Rw(t,e,n){const i=Object.assign(Object.assign({},xO()),{[e]:n});return new Yo("auth","Firebase",i).create(e,{appName:t.name})}function cs(t){return Rw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $h(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Iw.create(t,...e)}function ie(t,e,...n){if(!t)throw $h(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jl(e),new Error(e)}function Xn(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NO(){return Nm()==="http:"||Nm()==="https:"}function Nm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NO()||Jk()||"connection"in navigator)?navigator.onLine:!0}function OO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=ih()||Zb()}get(){return MO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new il(3e4,6e4);function Gh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xr(t,e,n,i,s={}){return xw(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const l=Cr(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:a},r);return Qk()||(c.referrerPolicy="no-referrer"),kw.fetch()(Dw(t,t.config.apiHost,n,l),c)})}async function xw(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},PO),e);try{const s=new FO(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Al(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Al(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Al(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Al(t,"user-disabled",o);const u=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rw(t,u,c);Jn(t,u)}}catch(s){if(s instanceof Wi)throw s;Jn(t,"network-request-failed",{message:String(s)})}}async function HO(t,e,n,i,s={}){const r=await xr(t,e,n,i,s);return"mfaPendingCredential"in r&&Jn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Dw(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?zh(t.config,s):`${t.config.apiScheme}://${s}`}class FO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_n(this.auth,"network-request-failed")),LO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Al(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=_n(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return xr(t,"POST","/v1/accounts:delete",e)}async function Nw(t,e){return xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BO(t,e=!1){const n=Ot(t),i=await n.getIdToken(e),s=qh(i);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:so(Ru(s.auth_time)),issuedAtTime:so(Ru(s.iat)),expirationTime:so(Ru(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ru(t){return Number(t)*1e3}function qh(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{const s=Sa(n);return s?JSON.parse(s):(jl("Failed to decode base64 JWT payload"),null)}catch(s){return jl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Mm(t){const e=qh(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Wi&&VO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function VO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=so(this.lastLoginAt),this.creationTime=so(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Po(t,Nw(n,{idToken:i}));ie(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?Mw(r.providerUserInfo):[],l=$O(t.providerData,o),a=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),u=a?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new $d(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function jO(t){const e=Ot(t);await Ba(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $O(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Mw(t){return t.map(e=>{var{providerId:n}=e,i=jh(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){const n=await xw(t,{},async()=>{const i=Cr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=Dw(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",kw.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GO(t,e){return xr(t,"POST","/v2/accounts:revokeToken",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=Mm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await zO(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Zs;return i&&(ie(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(ie(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new $d(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BO(this,e)}reload(){return jO(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ba(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Po(this,UO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,l,a,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:m,emailVerified:v,isAnonymous:T,providerData:I,stsTokenManager:M}=n;ie(m&&M,e,"internal-error");const k=Zs.fromJSON(this.name,M);ie(typeof m=="string",e,"internal-error"),li(d,e.name),li(f,e.name),ie(typeof v=="boolean",e,"internal-error"),ie(typeof T=="boolean",e,"internal-error"),li(h,e.name),li(p,e.name),li(g,e.name),li(y,e.name),li(_,e.name),li(b,e.name);const C=new Fn({uid:m,auth:e,email:f,emailVerified:v,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:k,createdAt:_,lastLoginAt:b});return I&&Array.isArray(I)&&(C.providerData=I.map(x=>Object.assign({},x))),y&&(C._redirectEventId=y),C}static async _fromIdTokenResponse(e,n,i=!1){const s=new Zs;s.updateFromServerResponse(n);const r=new Fn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ba(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?Mw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Zs;l.updateFromIdToken(i);const a=new Fn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new $d(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Map;function Un(t){Xn(t instanceof Function,"Expected a class definition");let e=Om.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Om.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ow.type="NONE";const Pm=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t,e,n){return`firebase:${t}:${e}:${n}`}class er{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=$l(this.userKey,s.apiKey,r),this.fullPersistenceKey=$l("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new er(Un(Pm),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Un(Pm);const o=$l(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Fn._fromJSON(e,u);c!==r&&(l=d),r=c;break}}catch{}const a=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!a.length?new er(r,e,i):(r=a[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new er(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bw(e))return"Blackberry";if(Vw(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||Hw(e))&&!e.includes("edge/"))return"Chrome";if(Uw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Pw(t=wt()){return/firefox\//i.test(t)}function Lw(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hw(t=wt()){return/crios\//i.test(t)}function Fw(t=wt()){return/iemobile/i.test(t)}function Uw(t=wt()){return/android/i.test(t)}function Bw(t=wt()){return/blackberry/i.test(t)}function Vw(t=wt()){return/webos/i.test(t)}function Yh(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qO(t=wt()){var e;return Yh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YO(){return Xk()&&document.documentMode===10}function Ww(t=wt()){return Yh(t)||Uw(t)||Vw(t)||Bw(t)||/windows phone/i.test(t)||Fw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e=[]){let n;switch(t){case"Browser":n=Lm(wt());break;case"Worker":n=`${Lm(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ar}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,l)=>{try{const a=e(r);o(a)}catch(a){l(a)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e={}){return xr(t,"GET","/v2/passwordPolicy",Gh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=6;class XO{constructor(e){var n,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(i=a.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsLowercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(r=a.containsUppercaseLetter)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hm(this),this.idTokenSubscription=new Hm(this),this.beforeStateQueue=new KO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await er.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nw(this,{idToken:e}),i=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(s=a.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ba(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(cs(this));const n=e?Ot(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QO(this),n=new XO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await GO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await er.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,i,s);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Kh(t){return Ot(t)}class Hm{constructor(e){this.auth=e,this.observer=null,this.addObserver=lx(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eP(t){Qh=t}function tP(t){return Qh.loadJS(t)}function nP(){return Qh.gapiScript}function iP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){const n=oh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Ca(r,e??{}))return s;Jn(s,"already-initialized")}return n.initialize({options:e})}function rP(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function oP(t,e,n){const i=Kh(t);ie(i._canInitEmulator,i,"emulator-config-failed"),ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=$w(e),{host:o,port:l}=lP(e),a=l===null?"":`:${l}`;i.config.emulator={url:`${r}//${o}${a}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||aP()}function $w(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lP(t){const e=$w(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Fm(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:Fm(o)}}}function Fm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tr(t,e){return HO(t,"POST","/v1/accounts:signInWithIdp",Gh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="http://localhost";class _s extends zw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=jh(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new _s(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,tr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tr(e,n)}buildRequest(){const e={requestUri:cP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends sl{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return gi.credential(n,i)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends sl{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends sl{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Fn._fromIdTokenResponse(e,i,s),o=Um(i);return new yr({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Um(i);return new yr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Um(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Wi{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Va.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Va(e,n,i,s)}}function qw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Va._fromErrorAndOperation(t,r,e,i):r})}async function uP(t,e,n=!1){const i=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e,n=!1){const{auth:i}=t;if(yi(i.app))return Promise.reject(cs(i));const s="reauthenticate";try{const r=await Po(t,qw(i,s,e,t),n);ie(r.idToken,i,"internal-error");const o=qh(r.idToken);ie(o,i,"internal-error");const{sub:l}=o;return ie(t.uid===l,i,"user-mismatch"),yr._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Jn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e,n=!1){if(yi(t.app))return Promise.reject(cs(t));const i="signIn",s=await qw(t,i,e),r=await yr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}function hP(t,e,n,i){return Ot(t).onIdTokenChanged(e,n,i)}function pP(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}const Wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wa,"1"),this.storage.removeItem(Wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1e3,mP=10;class Kw extends Yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ww(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);YO()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mP):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},gP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kw.type="LOCAL";const vP=Kw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qw.type="SESSION";const Jw=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(o).map(async c=>c(n.origin,r)),a=await yP(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((l,a)=>{const c=Jh("",20);s.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(f.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function bP(t){bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function EP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SP(){return Xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="firebaseLocalStorageDb",TP=1,ja="firebaseLocalStorage",eS="fbase_key";class rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $c(t,e){return t.transaction([ja],e?"readwrite":"readonly").objectStore(ja)}function CP(){const t=indexedDB.deleteDatabase(Zw);return new rl(t).toPromise()}function zd(){const t=indexedDB.open(Zw,TP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ja,{keyPath:eS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ja)?e(i):(i.close(),await CP(),e(await zd()))})})}async function Bm(t,e,n){const i=$c(t,!0).put({[eS]:e,value:n});return new rl(i).toPromise()}async function AP(t,e){const n=$c(t,!1).get(e),i=await new rl(n).toPromise();return i===void 0?null:i.value}function Vm(t,e){const n=$c(t,!0).delete(e);return new rl(n).toPromise()}const IP=800,RP=3;class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>RP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(SP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EP(),!this.activeServiceWorker)return;this.sender=new _P(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zd();return await Bm(e,Wa,"1"),await Vm(e,Wa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bm(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AP(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=$c(s,!1).getAll();return new rl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tS.type="LOCAL";const kP=tS;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e){return e?Un(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends zw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DP(t){return fP(t.auth,new Xh(t),t.bypassAuthState)}function NP(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),dP(n,new Xh(t),t.bypassAuthState)}async function MP(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),uP(n,new Xh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DP;case"linkViaPopup":case"linkViaRedirect":return MP;case"reauthViaPopup":case"reauthViaRedirect":return NP;default:Jn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new il(2e3,1e4);class Vs extends nS{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=Jh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OP.get())};e()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="pendingRedirect",zl=new Map;class LP extends nS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=zl.get(this.auth._key());if(!e){try{const i=await HP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}zl.set(this.auth._key(),e)}return this.bypassAuthState||zl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HP(t,e){const n=BP(e),i=UP(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function FP(t,e){zl.set(t._key(),e)}function UP(t){return Un(t._redirectPersistence)}function BP(t){return $l(PP,t.config.apiKey,t.name)}async function VP(t,e,n=!1){if(yi(t.app))return Promise.reject(cs(t));const i=Kh(t),s=xP(i,e),o=await new LP(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=10*60*1e3;class jP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$P(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!iS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wm(e))}saveEventToCache(e){this.cachedEventUids.add(Wm(e)),this.lastProcessedEventTime=Date.now()}}function Wm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $P(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e={}){return xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qP=/^https?/;async function YP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zP(t);for(const n of e)try{if(KP(n))return}catch{}Jn(t,"unauthorized-domain")}function KP(t){const e=jd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!qP.test(n))return!1;if(GP.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new il(3e4,6e4);function jm(){const t=bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JP(t){return new Promise((e,n)=>{var i,s,r;function o(){jm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jm(),n(_n(t,"network-request-failed"))},timeout:QP.get()})}if(!((s=(i=bn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=bn().gapi)===null||r===void 0)&&r.load)o();else{const l=iP("iframefcb");return bn()[l]=()=>{gapi.load?o():n(_n(t,"network-request-failed"))},tP(`${nP()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw Gl=null,e})}let Gl=null;function XP(t){return Gl=Gl||JP(t),Gl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new il(5e3,15e3),e1="__/auth/iframe",t1="emulator/auth/iframe",n1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s1(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zh(e,t1):`https://${t.config.authDomain}/${e1}`,i={apiKey:e.apiKey,appName:t.name,v:Ar},s=i1.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Cr(i).slice(1)}`}async function r1(t){const e=await XP(t),n=bn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:s1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n1,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=_n(t,"network-request-failed"),l=bn().setTimeout(()=>{r(o)},ZP.get());function a(){bn().clearTimeout(l),s(i)}i.ping(a).then(a,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l1=500,a1=600,c1="_blank",u1="http://localhost";class $m{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d1(t,e,n,i=l1,s=a1){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const a=Object.assign(Object.assign({},o1),{width:i.toString(),height:s.toString(),top:r,left:o}),c=wt().toLowerCase();n&&(l=Hw(c)?c1:n),Pw(c)&&(e=e||u1,a.scrollbars="yes");const u=Object.entries(a).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(qO(c)&&l!=="_self")return f1(e||"",l),new $m(null);const d=window.open(e||"",l,u);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new $m(d)}function f1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="__/auth/handler",p1="emulator/auth/handler",g1=encodeURIComponent("fac");async function zm(t,e,n,i,s,r){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ar,eventId:s};if(e instanceof Gw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wd(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(r||{}))o[u]=d}if(e instanceof sl){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const a=await t._getAppCheckToken(),c=a?`#${g1}=${encodeURIComponent(a)}`:"";return`${m1(t)}?${Cr(l).slice(1)}${c}`}function m1({config:t}){return t.emulator?zh(t,p1):`https://${t.authDomain}/${h1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="webStorageSupport";class v1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jw,this._completeRedirectFn=VP,this._overrideRedirectResult=FP}async _openPopup(e,n,i,s){var r;Xn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await zm(e,n,i,jd(),s);return d1(e,o,Jh())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await zm(e,n,i,jd(),s);return bP(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Xn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await r1(e),i=new jP(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ku,{type:ku},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[ku];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ww()||Lw()||Yh()}}const y1=v1;var Gm="@firebase/auth",qm="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E1(t){pr(new gs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(t)},c=new ZO(i,s,r,a);return rP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),pr(new gs("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(i=>new _1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(Gm,qm,b1(t)),xi(Gm,qm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=5*60,S1=Xb("authIdTokenMaxAge")||w1;let Ym=null;const T1=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>S1)return;const s=n==null?void 0:n.token;Ym!==s&&(Ym=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function C1(t=rE()){const e=oh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sP(t,{popupRedirectResolver:y1,persistence:[kP,vP,Jw]}),i=Xb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=T1(r.toString());pP(n,o,()=>o(n.currentUser)),hP(n,l=>o(l))}}const s=Qb("auth");return s&&oP(n,`http://${s}`),n}function A1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=_n("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",A1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E1("Browser");const ol=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},I1={id:"orders",class:"tab-content active"},R1={class:"item-form"},k1={class:"flex-row"},x1={class:"flex-row"},D1={class:"flex-row"},N1={id:"items-list"},M1=["value"],O1={class:"order-items",id:"orderItemsList"},P1={class:"order-item-details"},L1={class:"order-item-actions"},H1=["onClick"],F1={class:"summary",id:"orderSummary"},U1={__name:"OrdersTab",setup(t){const e=nl(),n=Re({customerName:"",customerPhone:"",customerAddress:"",deliveryDate:""}),i=Re([]),s=Re(""),r=Re([]),o=Re([]),l=async()=>{try{const h=await vr(Ut(e,"flower_items"));h.exists()&&(r.value=Object.entries(h.val()).map(([p,g])=>({id:p,...g})))}catch(h){console.error("Error loading items:",h)}},a=()=>{if(!s.value){o.value=[];return}o.value=r.value.filter(h=>h.name.includes(s.value))},c=()=>{const h=r.value.find(p=>p.name===s.value);h&&(i.value.push({id:h.id,name:h.name,price:h.price}),s.value="",o.value=[])},u=h=>{i.value.splice(h,1)},d=Ai(()=>i.value.reduce((h,p)=>h+p.price,0)),f=async()=>{try{const h=Ut(e,"orders");await Bh(h,{...n.value,items:i.value,totalPrice:d.value,createdAt:new Date().toISOString()}),n.value={customerName:"",customerPhone:"",customerAddress:"",deliveryDate:""},i.value=[],alert("  !")}catch(h){console.error("Error submitting order:",h),alert("  ")}};return l(),(h,p)=>(le(),ve("div",I1,[R("div",R1,[p[6]||(p[6]=R("h2",null," ",-1)),R("div",k1,[Ct(R("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value.customerName=g),placeholder:" "},null,512),[[ot,n.value.customerName]]),Ct(R("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>n.value.customerPhone=g),placeholder:"",type:"tel"},null,512),[[ot,n.value.customerPhone]])]),R("div",x1,[Ct(R("input",{"onUpdate:modelValue":p[2]||(p[2]=g=>n.value.customerAddress=g),placeholder:" "},null,512),[[ot,n.value.customerAddress]]),Ct(R("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>n.value.deliveryDate=g),type:"datetime-local",placeholder:"  "},null,512),[[ot,n.value.deliveryDate]])]),R("div",D1,[Ct(R("input",{"onUpdate:modelValue":p[4]||(p[4]=g=>s.value=g),onInput:a,placeholder:"  ",list:"items-list"},null,544),[[ot,s.value]]),R("button",{onClick:c}," ")]),R("datalist",N1,[(le(!0),ve(we,null,Kt(o.value,g=>(le(),ve("option",{key:g.id,value:g.name},ye(g.name)+" - "+ye(g.price)+" ",9,M1))),128))]),R("div",O1,[(le(!0),ve(we,null,Kt(i.value,(g,y)=>(le(),ve("div",{key:y,class:"order-item"},[R("div",P1,[R("span",null,ye(g.name),1),R("span",null,ye(g.price)+"",1)]),R("div",L1,[R("button",{onClick:_=>u(y),class:"remove-button"},p[5]||(p[5]=[R("i",{class:"fas fa-trash"},null,-1)]),8,H1)])]))),128))]),R("div",F1,' ": '+ye(d.value)+" ",1),R("button",{onClick:f}," ")])]))}},B1=ol(U1,[["__scopeId","data-v-93f290ee"]]);const V1={id:"expenses",class:"tab-content"},W1={class:"item-form"},j1={class:"flex-row"},$1={class:"report-section"},z1={id:"expensesList"},G1={class:"expense-details"},q1={class:"expense-name"},Y1={class:"expense-amount"},K1={class:"expense-date"},Q1={class:"expense-actions"},J1=["onClick"],X1={class:"expenses-summary"},Z1={__name:"ExpensesTab",setup(t){const e=nl(),n=Re({name:"",amount:null}),i=Re([]),s=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),p=new Date(d.setDate(h));return p.setHours(0,0,0,0),p.toISOString()},r=d=>{const f=new Date(d);return new Intl.DateTimeFormat("he-IL",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(f)},o=async()=>{try{const d=s(),f=Ut(e,"expenses"),h=Vd(f,Bd("createdAt"),Ud(d)),p=await vr(h);p.exists()?i.value=Object.entries(p.val()).map(([g,y])=>({id:g,...y})):i.value=[]}catch(d){console.error("Error loading expenses:",d)}},l=Ai(()=>i.value.sort((d,f)=>new Date(f.createdAt)-new Date(d.createdAt))),a=Ai(()=>l.value.reduce((d,f)=>d+f.amount,0)),c=async()=>{if(!n.value.name||!n.value.amount){alert("    ");return}try{const d=Ut(e,"expenses");await Bh(d,{...n.value,createdAt:new Date().toISOString()}),n.value={name:"",amount:null},await o(),alert("  !")}catch(d){console.error("Error saving expense:",d),alert("  ")}},u=async d=>{if(confirm("      ?"))try{await Fd(Ut(e,`expenses/${d}`)),await o(),alert("  !")}catch(f){console.error("Error deleting expense:",f),alert("  ")}};return Tn(()=>{o()}),(d,f)=>(le(),ve("div",V1,[R("div",W1,[f[2]||(f[2]=R("h2",null," ",-1)),R("div",j1,[Ct(R("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>n.value.name=h),placeholder:" "},null,512),[[ot,n.value.name]]),Ct(R("input",{"onUpdate:modelValue":f[1]||(f[1]=h=>n.value.amount=h),type:"number",placeholder:""},null,512),[[ot,n.value.amount,void 0,{number:!0}]])]),R("button",{onClick:c}," ")]),R("div",$1,[f[4]||(f[4]=R("h3",null," ",-1)),R("div",z1,[(le(!0),ve(we,null,Kt(l.value,h=>(le(),ve("div",{key:h.id,class:"expense-item"},[R("div",G1,[R("span",q1,ye(h.name),1),R("span",Y1,ye(h.amount)+"",1),R("span",K1,ye(r(h.createdAt)),1)]),R("div",Q1,[R("button",{onClick:p=>u(h.id),class:"delete-button"},f[3]||(f[3]=[R("i",{class:"fas fa-trash"},null,-1)]),8,J1)])]))),128)),R("div",X1,' "  : '+ye(a.value)+" ",1)])])]))}},eL=ol(Z1,[["__scopeId","data-v-63f01178"]]);const tL={id:"reports",class:"tab-content"},nL={class:"report-section"},iL={id:"reportOutput"},sL={class:"report-summary"},rL={class:"summary-grid"},oL={class:"summary-item"},lL={class:"summary-item"},aL={class:"summary-item"},cL={class:"summary-item profit"},uL={class:"orders-list"},dL={class:"order-header"},fL={class:"order-total"},hL={class:"expenses-list"},pL={__name:"ReportsTab",setup(t){const e=nl(),n=Re([]),i=Re([]),s=()=>{const d=new Date,f=d.getDay(),h=d.getDate()-f+(f===0?-6:1),p=new Date(d.setDate(h));return p.setHours(0,0,0,0),p.toISOString()},r=d=>new Intl.DateTimeFormat("he-IL",{year:"numeric",month:"numeric",day:"numeric"}).format(new Date(d)),o=async()=>{const d=s();try{const f=await vr(Vd(Ut(e,"orders"),Bd("createdAt"),Ud(d)));f.exists()&&(n.value=Object.entries(f.val()).map(([p,g])=>({id:p,...g})));const h=await vr(Vd(Ut(e,"expenses"),Bd("createdAt"),Ud(d)));h.exists()&&(i.value=Object.entries(h.val()).map(([p,g])=>({id:p,...g})))}catch(f){console.error("Error loading data:",f)}},l=Ai(()=>n.value.reduce((d,f)=>d+f.totalPrice,0)),a=Ai(()=>i.value.reduce((d,f)=>d+f.amount,0)),c=Ai(()=>l.value-a.value),u=()=>window.print();return Tn(o),(d,f)=>(le(),ve("div",tL,[R("div",nL,[R("div",{class:"report-header"},[f[1]||(f[1]=R("h2",null," ",-1)),R("div",{class:"button-group"},[R("button",{onClick:u,class:"print-button"},f[0]||(f[0]=[R("i",{class:"fas fa-print"},null,-1)]))])]),R("div",iL,[R("div",sL,[f[6]||(f[6]=R("h3",null," ",-1)),R("div",rL,[R("div",oL,[f[2]||(f[2]=R("span",null,"",-1)),R("strong",null,ye(n.value.length),1)]),R("div",lL,[f[3]||(f[3]=R("span",null,"",-1)),R("strong",null,""+ye(l.value),1)]),R("div",aL,[f[4]||(f[4]=R("span",null,"",-1)),R("strong",null,""+ye(a.value),1)]),R("div",cL,[f[5]||(f[5]=R("span",null," ",-1)),R("strong",null,""+ye(c.value),1)])])]),R("div",uL,[f[7]||(f[7]=R("h3",null,"",-1)),(le(!0),ve(we,null,Kt(n.value,h=>(le(),ve("div",{key:h.id,class:"order-item"},[R("div",dL,[R("h4",null,ye(h.customerName),1),R("span",null,ye(r(h.createdAt)),1)]),R("div",fL,""+ye(h.totalPrice),1)]))),128))]),R("div",hL,[f[8]||(f[8]=R("h3",null,"",-1)),(le(!0),ve(we,null,Kt(i.value,h=>(le(),ve("div",{key:h.id,class:"expense-item"},[R("span",null,ye(h.name),1),R("span",null,""+ye(h.amount),1)]))),128))])])])]))}},gL=ol(pL,[["__scopeId","data-v-4c3326cb"]]);const mL={class:"modal"},vL={class:"modal-content"},yL={class:"settings-tabs"},_L={key:0,class:"tab-content"},bL={class:"flex-row"},EL={id:"flowerTypeList"},wL=["onClick"],SL={key:1,class:"tab-content"},TL={class:"flex-row"},CL={class:"flex-row"},AL={id:"flowers-list"},IL=["value"],RL={id:"ingredientsList"},kL=["onClick"],xL={class:"items-list"},DL={class:"item-details"},NL={class:"ingredients-list"},ML={class:"item-actions"},OL=["onClick"],PL={__name:"SettingsModal",emits:["close"],setup(t){const e=nl(),n=Re("flowers"),i=Re({}),s=Re({name:"",price:null}),r=Re({name:"",price:null,ingredients:[]}),o=Re(""),l=Re(null),a=Re([]),c=async()=>{try{const _=await vr(Ut(e,"flower_types"));_.exists()&&(i.value=_.val())}catch(_){console.error("Error loading flower types:",_)}},u=async()=>{if(!s.value.name||!s.value.price){alert("    ");return}try{await Vh(Ut(e,`flower_types/${s.value.name}`),s.value.price),s.value={name:"",price:null},await c()}catch(_){console.error("Error adding flower type:",_),alert("   ")}},d=async _=>{if(confirm("       ?"))try{await Fd(Ut(e,`flower_types/${_}`)),await c()}catch(b){console.error("Error deleting flower type:",b),alert("   ")}},f=async()=>{try{const _=await vr(Ut(e,"flower_items"));_.exists()&&(a.value=Object.entries(_.val()).map(([b,m])=>({id:b,...m})))}catch(_){console.error("Error loading items:",_)}},h=()=>{o.value&&l.value>0&&(r.value.ingredients.push({name:o.value,quantity:l.value}),o.value="",l.value=null)},p=_=>{r.value.ingredients.splice(_,1)},g=async()=>{if(!r.value.name||!r.value.price){alert("    ");return}try{const _=Ut(e,"flower_items");await Bh(_,r.value),r.value={name:"",price:null,ingredients:[]},await f(),alert("  !")}catch(_){console.error("Error saving item:",_),alert("  ")}},y=async _=>{if(confirm("      ?"))try{await Fd(Ut(e,`flower_items/${_}`)),await f(),alert("  !")}catch(b){console.error("Error deleting item:",b),alert("  ")}};return Tn(()=>{c(),f()}),(_,b)=>(le(),ve("div",mL,[R("div",vL,[R("span",{class:"close",onClick:b[0]||(b[0]=m=>_.$emit("close"))},""),R("div",yL,[R("button",{class:yn(["tab-button",{active:n.value==="flowers"}]),onClick:b[1]||(b[1]=m=>n.value="flowers")},"    ",2),R("button",{class:yn(["tab-button",{active:n.value==="items"}]),onClick:b[2]||(b[2]=m=>n.value="items")},"   ",2)]),n.value==="flowers"?(le(),ve("div",_L,[b[11]||(b[11]=R("h2",null,"  ",-1)),R("div",bL,[Ct(R("input",{"onUpdate:modelValue":b[3]||(b[3]=m=>s.value.name=m),placeholder:"   "},null,512),[[ot,s.value.name]]),Ct(R("input",{"onUpdate:modelValue":b[4]||(b[4]=m=>s.value.price=m),type:"number",placeholder:" "},null,512),[[ot,s.value.price,void 0,{number:!0}]]),R("button",{onClick:u},"")]),R("table",EL,[b[10]||(b[10]=R("thead",null,[R("tr",null,[R("th",null," "),R("th",null," "),R("th",null,"")])],-1)),R("tbody",null,[(le(!0),ve(we,null,Kt(i.value,(m,v)=>(le(),ve("tr",{key:v},[R("td",null,ye(v),1),R("td",null,""+ye(m),1),R("td",null,[R("button",{onClick:T=>d(v),class:"delete-button"},b[9]||(b[9]=[R("i",{class:"fas fa-trash"},null,-1)]),8,wL)])]))),128))])])])):Dn("",!0),n.value==="items"?(le(),ve("div",SL,[b[15]||(b[15]=R("h2",null," ",-1)),R("div",TL,[Ct(R("input",{"onUpdate:modelValue":b[5]||(b[5]=m=>r.value.name=m),placeholder:"  (:  )"},null,512),[[ot,r.value.name]]),Ct(R("input",{"onUpdate:modelValue":b[6]||(b[6]=m=>r.value.price=m),type:"number",placeholder:""},null,512),[[ot,r.value.price,void 0,{number:!0}]])]),R("div",CL,[Ct(R("input",{"onUpdate:modelValue":b[7]||(b[7]=m=>o.value=m),placeholder:"  ",list:"flowers-list"},null,512),[[ot,o.value]]),Ct(R("input",{"onUpdate:modelValue":b[8]||(b[8]=m=>l.value=m),type:"number",placeholder:""},null,512),[[ot,l.value,void 0,{number:!0}]]),R("button",{onClick:h}," ")]),R("datalist",AL,[(le(!0),ve(we,null,Kt(i.value,(m,v)=>(le(),ve("option",{key:v,value:v},ye(v)+" - "+ye(m)+" ",9,IL))),128))]),R("ul",RL,[(le(!0),ve(we,null,Kt(r.value.ingredients,(m,v)=>(le(),ve("li",{key:v},[Cc(ye(m.name)+" - "+ye(m.quantity)+"  ",1),R("button",{onClick:T=>p(v)},b[12]||(b[12]=[R("i",{class:"fas fa-times"},null,-1)]),8,kL)]))),128))]),R("button",{onClick:g}," "),R("div",xL,[b[14]||(b[14]=R("h3",null," ",-1)),(le(!0),ve(we,null,Kt(a.value,m=>(le(),ve("div",{key:m.id,class:"item-entry"},[R("div",DL,[R("h4",null,ye(m.name),1),R("p",null,": "+ye(m.price)+"",1),R("div",NL,[(le(!0),ve(we,null,Kt(m.ingredients,v=>(le(),ve("p",{key:v.name},ye(v.name)+": "+ye(v.quantity)+"  ",1))),128))])]),R("div",ML,[R("button",{onClick:v=>y(m.id),class:"delete-button"},b[13]||(b[13]=[R("i",{class:"fas fa-trash"},null,-1)]),8,OL)])]))),128))])])):Dn("",!0)])]))}},LL=ol(PL,[["__scopeId","data-v-15d050d4"]]);var zc,J,sS,rS,_r,Ji,Km,oS,lS,$a={},aS=[],HL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _i(t,e){for(var n in e)t[n]=e[n];return t}function cS(t){var e=t.parentNode;e&&e.removeChild(t)}function w(t,e,n){var i,s,r,o={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?zc.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return ql(t,o,i,s,null)}function ql(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++sS};return s==null&&J.vnode!=null&&J.vnode(r),r}function Et(){return{current:null}}function Ne(t){return t.children}function FL(t,e,n,i,s){var r;for(r in n)r==="children"||r==="key"||r in e||za(t,r,null,n[r],i);for(r in e)s&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||za(t,r,e[r],n[r],i)}function Qm(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||HL.test(e)?n:n+"px"}function za(t,e,n,i,s){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||Qm(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||Qm(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i||t.addEventListener(e,r?Xm:Jm,r):t.removeEventListener(e,r?Xm:Jm,r);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Jm(t){_r=!0;try{return this.l[t.type+!1](J.event?J.event(t):t)}finally{_r=!1}}function Xm(t){_r=!0;try{return this.l[t.type+!0](J.event?J.event(t):t)}finally{_r=!1}}function Wt(t,e){this.props=t,this.context=e}function Lo(t,e){if(e==null)return t.__?Lo(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Lo(t):null}function uS(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return uS(t)}}function UL(t){_r?setTimeout(t):oS(t)}function Gd(t){(!t.__d&&(t.__d=!0)&&Ji.push(t)&&!Ga.__r++||Km!==J.debounceRendering)&&((Km=J.debounceRendering)||UL)(Ga)}function Ga(){var t,e,n,i,s,r,o,l;for(Ji.sort(function(a,c){return a.__v.__b-c.__v.__b});t=Ji.shift();)t.__d&&(e=Ji.length,i=void 0,s=void 0,o=(r=(n=t).__v).__e,(l=n.__P)&&(i=[],(s=_i({},r)).__v=r.__v+1,Zh(l,r,s,n.__n,l.ownerSVGElement!==void 0,r.__h!=null?[o]:null,i,o??Lo(r),r.__h),gS(i,r),r.__e!=o&&uS(r)),Ji.length>e&&Ji.sort(function(a,c){return a.__v.__b-c.__v.__b}));Ga.__r=0}function dS(t,e,n,i,s,r,o,l,a,c){var u,d,f,h,p,g,y,_=i&&i.__k||aS,b=_.length;for(n.__k=[],u=0;u<e.length;u++)if((h=n.__k[u]=(h=e[u])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?ql(null,h,null,null,h):Array.isArray(h)?ql(Ne,{children:h},null,null,null):h.__b>0?ql(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=_[u])===null||f&&h.key==f.key&&h.type===f.type)_[u]=void 0;else for(d=0;d<b;d++){if((f=_[d])&&h.key==f.key&&h.type===f.type){_[d]=void 0;break}f=null}Zh(t,h,f=f||$a,s,r,o,l,a,c),p=h.__e,(d=h.ref)&&f.ref!=d&&(y||(y=[]),f.ref&&y.push(f.ref,null,h),y.push(d,h.__c||p,h)),p!=null?(g==null&&(g=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=a=fS(h,a,t):a=hS(t,h,f,_,p,a),typeof n.type=="function"&&(n.__d=a)):a&&f.__e==a&&a.parentNode!=t&&(a=Lo(f))}for(n.__e=g,u=b;u--;)_[u]!=null&&(typeof n.type=="function"&&_[u].__e!=null&&_[u].__e==n.__d&&(n.__d=pS(i).nextSibling),vS(_[u],_[u]));if(y)for(u=0;u<y.length;u++)mS(y[u],y[++u],y[++u])}function fS(t,e,n){for(var i,s=t.__k,r=0;s&&r<s.length;r++)(i=s[r])&&(i.__=t,e=typeof i.type=="function"?fS(i,e,n):hS(n,i,i,s,i.__e,e));return e}function qa(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){qa(n,e)}):e.push(t)),e}function hS(t,e,n,i,s,r){var o,l,a;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||s!=r||s.parentNode==null)e:if(r==null||r.parentNode!==t)t.appendChild(s),o=null;else{for(l=r,a=0;(l=l.nextSibling)&&a<i.length;a+=1)if(l==s)break e;t.insertBefore(s,r),o=r}return o!==void 0?o:s.nextSibling}function pS(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=pS(n)))return i}return null}function Zh(t,e,n,i,s,r,o,l,a){var c,u,d,f,h,p,g,y,_,b,m,v,T,I,M,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,l=e.__e=n.__e,e.__h=null,r=[l]),(c=J.__b)&&c(e);try{e:if(typeof k=="function"){if(y=e.props,_=(c=k.contextType)&&i[c.__c],b=c?_?_.props.value:c.__:i,n.__c?g=(u=e.__c=n.__c).__=u.__E:("prototype"in k&&k.prototype.render?e.__c=u=new k(y,b):(e.__c=u=new Wt(y,b),u.constructor=k,u.render=VL),_&&_.sub(u),u.props=y,u.state||(u.state={}),u.context=b,u.__n=i,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),k.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=_i({},u.__s)),_i(u.__s,k.getDerivedStateFromProps(y,u.__s))),f=u.props,h=u.state,u.__v=e,d)k.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(k.getDerivedStateFromProps==null&&y!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,b)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=y,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(C){C&&(C.__=e)}),m=0;m<u._sb.length;m++)u.__h.push(u._sb[m]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,b),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,h,p)})}if(u.context=b,u.props=y,u.__P=t,v=J.__r,T=0,"prototype"in k&&k.prototype.render){for(u.state=u.__s,u.__d=!1,v&&v(e),c=u.render(u.props,u.state,u.context),I=0;I<u._sb.length;I++)u.__h.push(u._sb[I]);u._sb=[]}else do u.__d=!1,v&&v(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++T<25);u.state=u.__s,u.getChildContext!=null&&(i=_i(_i({},i),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(f,h)),M=c!=null&&c.type===Ne&&c.key==null?c.props.children:c,dS(t,Array.isArray(M)?M:[M],e,n,i,s,r,o,l,a),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),g&&(u.__E=u.__=null),u.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=BL(n.__e,e,n,i,s,r,o,a);(c=J.diffed)&&c(e)}catch(C){e.__v=null,(a||r!=null)&&(e.__e=l,e.__h=!!a,r[r.indexOf(l)]=null),J.__e(C,e,n)}}function gS(t,e){J.__c&&J.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){J.__e(i,n.__v)}})}function BL(t,e,n,i,s,r,o,l){var a,c,u,d=n.props,f=e.props,h=e.type,p=0;if(h==="svg"&&(s=!0),r!=null){for(;p<r.length;p++)if((a=r[p])&&"setAttribute"in a==!!h&&(h?a.localName===h:a.nodeType===3)){t=a,r[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=s?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),r=null,l=!1}if(h===null)d===f||l&&t.data===f||(t.data=f);else{if(r=r&&zc.call(t.childNodes),c=(d=n.props||$a).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!l){if(r!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(FL(t,f,d,s,l),u)e.__k=[];else if(p=e.props.children,dS(t,Array.isArray(p)?p:[p],e,n,i,s&&h!=="foreignObject",r,o,r?r[0]:n.__k&&Lo(n,0),l),r!=null)for(p=r.length;p--;)r[p]!=null&&cS(r[p]);l||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==d.value)&&za(t,"value",p,d.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&za(t,"checked",p,d.checked,!1))}return t}function mS(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){J.__e(i,n)}}function vS(t,e,n){var i,s;if(J.unmount&&J.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||mS(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){J.__e(r,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&vS(i[s],e,n||typeof t.type!="function");n||t.__e==null||cS(t.__e),t.__=t.__e=t.__d=void 0}function VL(t,e,n){return this.constructor(t,n)}function Ho(t,e,n){var i,s,r;J.__&&J.__(t,e),s=(i=typeof n=="function")?null:n&&n.__k||e.__k,r=[],Zh(e,t=(!i&&n||e).__k=w(Ne,null,[t]),s||$a,$a,e.ownerSVGElement!==void 0,!i&&n?[n]:s?null:e.firstChild?zc.call(e.childNodes):null,r,!i&&n?n:s?s.__e:e.firstChild,i),gS(r,t)}function WL(t,e){var n={__c:e="__cC"+lS++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(l){l.__e=!0,Gd(l)})},this.sub=function(o){s.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),l&&l.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}zc=aS.slice,J={__e:function(t,e,n,i){for(var s,r,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),o=s.__d),o)return s.__E=s}catch(l){t=l}throw t}},sS=0,rS=function(t){return t!=null&&t.constructor===void 0},_r=!1,Wt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_i({},this.state),typeof t=="function"&&(t=t(_i({},n),this.props)),t&&_i(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Gd(this))},Wt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Gd(this))},Wt.prototype.render=Ne,Ji=[],oS=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ga.__r=0,lS=0;var vn,xu,Zm,yS=[],Du=[],ev=J.__b,tv=J.__r,nv=J.diffed,iv=J.__c,sv=J.unmount;function jL(){for(var t;t=yS.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Yl),t.__H.__h.forEach(qd),t.__H.__h=[]}catch(e){t.__H.__h=[],J.__e(e,t.__v)}}J.__b=function(t){vn=null,ev&&ev(t)},J.__r=function(t){tv&&tv(t);var e=(vn=t.__c).__H;e&&(xu===vn?(e.__h=[],vn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Du,n.__N=n.i=void 0})):(e.__h.forEach(Yl),e.__h.forEach(qd),e.__h=[])),xu=vn},J.diffed=function(t){nv&&nv(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(yS.push(e)!==1&&Zm===J.requestAnimationFrame||((Zm=J.requestAnimationFrame)||$L)(jL)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Du&&(n.__=n.__V),n.i=void 0,n.__V=Du})),xu=vn=null},J.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Yl),n.__h=n.__h.filter(function(i){return!i.__||qd(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],J.__e(i,n.__v)}}),iv&&iv(t,e)},J.unmount=function(t){sv&&sv(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Yl(i)}catch(s){e=s}}),n.__H=void 0,e&&J.__e(e,n.__v))};var rv=typeof requestAnimationFrame=="function";function $L(t){var e,n=function(){clearTimeout(i),rv&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);rv&&(e=requestAnimationFrame(n))}function Yl(t){var e=vn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),vn=e}function qd(t){var e=vn;t.__c=t.__(),vn=e}function zL(t,e){for(var n in e)t[n]=e[n];return t}function ov(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function lv(t){this.props=t}(lv.prototype=new Wt).isPureReactComponent=!0,lv.prototype.shouldComponentUpdate=function(t,e){return ov(this.props,t)||ov(this.state,e)};var av=J.__b;J.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),av&&av(t)};var GL=J.__e;J.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}GL(t,e,n,i)};var cv=J.unmount;function _S(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=zL({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return _S(i,e,n)})),t}function bS(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return bS(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Nu(){this.__u=0,this.t=null,this.__b=null}function ES(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Il(){this.u=null,this.o=null}J.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),cv&&cv(t)},(Nu.prototype=new Wt).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var s=ES(i.__v),r=!1,o=function(){r||(r=!0,n.__R=null,s?s(l):l())};n.__R=o;var l=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=bS(c,c.__c.__P,c.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}},a=e.__h===!0;i.__u++||a||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(o,o)},Nu.prototype.componentWillUnmount=function(){this.t=[]},Nu.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=_S(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&w(Ne,null,t.fallback);return s&&(s.__h=null),[w(Ne,null,e.__a?null:t.children),s]};var uv=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function qL(t){return this.getChildContext=function(){return t.context},t.children}function YL(t){var e=this,n=t.i;e.componentWillUnmount=function(){Ho(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Ho(w(qL,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function KL(t,e){var n=w(YL,{__v:t,i:e});return n.containerInfo=e,n}(Il.prototype=new Wt).__a=function(t){var e=this,n=ES(e.__v),i=e.o.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),uv(e,t,i)):s()};n?n(r):r()}},Il.prototype.render=function(t){this.u=null,this.o=new Map;var e=qa(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Il.prototype.componentDidUpdate=Il.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){uv(t,n,e)})};var QL=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,JL=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,XL=typeof document<"u",ZL=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Wt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Wt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var dv=J.event;function eH(){}function tH(){return this.cancelBubble}function nH(){return this.defaultPrevented}J.event=function(t){return dv&&(t=dv(t)),t.persist=eH,t.isPropagationStopped=tH,t.isDefaultPrevented=nH,t.nativeEvent=t};var fv={configurable:!0,get:function(){return this.class}},hv=J.vnode;J.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var r in i={},n){var o=n[r];XL&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in n&&o==null||(r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&o===!0?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!ZL(n.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():s&&JL.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),i[r]&&(r="oninputCapture")),i[r]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=qa(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=qa(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),t.props=i,n.class!=n.className&&(fv.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",fv))}t.$$typeof=QL,hv&&hv(t)};var pv=J.__r;J.__r=function(t){pv&&pv(t),t.__c};const wS=[],Yd=new Map;function ep(t){wS.push(t),Yd.forEach(e=>{TS(e,t)})}function iH(t){t.isConnected&&t.getRootNode&&SS(t.getRootNode())}function SS(t){let e=Yd.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=rH();n&&(e.nonce=n);const i=t===document?document.head:t,s=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,s)}Yd.set(t,e),sH(e)}}function sH(t){for(const e of wS)TS(t,e)}function TS(t,e){const{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((s,r)=>{s=s.trim(),s&&n.insertRule(s+"}",i+r)})}let Mu;function rH(){return Mu===void 0&&(Mu=oH()),Mu}function oH(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&SS(document);var lH=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';ep(lH);class tp{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function np(t){t.parentNode&&t.parentNode.removeChild(t)}function ht(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(aH(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function aH(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function cH(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let s=0;s<n.length;s+=1){let r=n[s].querySelectorAll(e);for(let o=0;o<r.length;o+=1)i.push(r[o])}return i}const uH=/(top|left|right|bottom|width|height)$/i;function ro(t,e){for(let n in e)CS(t,n,e[n])}function CS(t,e,n){n==null?t.style[e]="":typeof n=="number"&&uH.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function AS(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let gv=0;function Gc(){return gv+=1,"fc-dom-"+gv}function qc(t){t.preventDefault()}function dH(t,e){return n=>{let i=ht(n.target,t);i&&e.call(i,n,i)}}function IS(t,e,n,i){let s=dH(n,i);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}function fH(t,e,n,i){let s;return IS(t,"mouseover",e,(r,o)=>{if(o!==s){s=o,n(r,o);let l=a=>{s=null,i(a,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const mv=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function hH(t,e){let n=i=>{e(i),mv.forEach(s=>{t.removeEventListener(s,n)})};mv.forEach(i=>{t.addEventListener(i,n)})}function RS(t){return Object.assign({onClick:t},kS(t))}function kS(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let vv=0;function Rs(){return vv+=1,String(vv)}function ip(){document.body.classList.add("fc-not-allowed")}function sp(){document.body.classList.remove("fc-not-allowed")}function pH(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",qc)}function gH(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",qc)}function mH(t){t.addEventListener("contextmenu",qc)}function vH(t){t.removeEventListener("contextmenu",qc)}function yH(t){let e=[],n=[],i,s;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)s=n[i],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function _H(t,e,n){let i,s;for(i=0;i<n.length;i+=1)if(s=bH(t,e,n[i]),s)return s;return 0}function bH(t,e,n){return n.func?n.func(t,e):EH(t[n.field],e[n.field])*(n.order||1)}function EH(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function nr(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function oo(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,s,r)=>i.replace("$"+r,s||""),t):n}function wH(t,e){return t-e}function Kl(t){return t%1===0}function SH(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const yv=["years","months","days","milliseconds"],TH=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function he(t,e){return typeof t=="string"?CH(t):typeof t=="object"&&t?_v(t):typeof t=="number"?_v({[e||"milliseconds"]:t}):null}function CH(t){let e=TH.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function _v(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function AH(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Kd(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function IH(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function RH(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function kH(t){return ir(t)/365}function xH(t){return ir(t)/30}function ir(t){return ln(t)/864e5}function ln(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function rp(t,e){let n=null;for(let i=0;i<yv.length;i+=1){let s=yv[i];if(e[s]){let r=t[s]/e[s];if(!Kl(r)||n!==null&&n!==r)return null;n=r}else if(t[s])return null}return n}function Qd(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Bi(t,e,n){if(t===e)return!0;let i=t.length,s;if(i!==e.length)return!1;for(s=0;s<i;s+=1)if(!(n?n(t[s],e[s]):t[s]===e[s]))return!1;return!0}const DH=["sun","mon","tue","wed","thu","fri","sat"];function bv(t,e){let n=bi(t);return n[2]+=e*7,xt(n)}function mt(t,e){let n=bi(t);return n[2]+=e,xt(n)}function Vi(t,e){let n=bi(t);return n[6]+=e,xt(n)}function NH(t,e){return ks(t,e)/7}function ks(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function MH(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function OH(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function PH(t,e){return(e.valueOf()-t.valueOf())/1e3}function LH(t,e){let n=Oe(t),i=Oe(e);return{years:0,months:0,days:Math.round(ks(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function HH(t,e){let n=Ya(t,e);return n!==null&&n%7===0?n/7:null}function Ya(t,e){return Ei(t)===Ei(e)?Math.round(ks(t,e)):null}function Oe(t){return xt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function FH(t){return xt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function UH(t){return xt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function BH(t){return xt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function VH(t,e,n){let i=t.getUTCFullYear(),s=Ou(t,i,e,n);if(s<1)return Ou(t,i-1,e,n);let r=Ou(t,i+1,e,n);return r>=1?Math.min(s,r):s}function Ou(t,e,n,i){let s=xt([e,0,1+WH(e,n,i)]),r=Oe(t),o=Math.round(ks(s,r));return Math.floor(o/7)+1}function WH(t,e,n){let i=7+e-n;return-((7+xt([t,0,i]).getUTCDay()-e)%7)+i-1}function Ev(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function wv(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function bi(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function xt(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function xS(t){return!isNaN(t.valueOf())}function Ei(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function DS(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",lp(e,!0)))),i}function op(t){return t.toISOString().replace(/T.*$/,"")}function jH(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function $H(t){return nr(t.getUTCHours(),2)+":"+nr(t.getUTCMinutes(),2)+":"+nr(t.getUTCSeconds(),2)}function lp(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),s=Math.floor(i/60),r=Math.round(i%60);return e?`${n+nr(s,2)}:${nr(r,2)}`:`GMT${n}${s}${r?`:${nr(r,2)}`:""}`}function X(t,e,n){let i,s;return function(...r){if(!i)s=t.apply(this,r);else if(!Bi(i,r)){n&&n(s);let o=t.apply(this,r);(!e||!e(o,s))&&(s=o)}return i=r,s}}function Ql(t,e,n){let i,s;return r=>{if(!i)s=t.call(this,r);else if(!Sn(i,r)){n&&n(s);let o=t.call(this,r);(!e||!e(o,s))&&(s=o)}return i=r,s}}const Pu={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Ka={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Rl=/\s*([ap])\.?m\.?/i,zH=/,/g,GH=/\s+/g,qH=/\u200e/g,YH=/UTC|GMT/;class KH{constructor(e){let n={},i={},s=9;for(let r in e)r in Pu?(i[r]=e[r],Pu[r]<9&&(s=Math.min(Pu[r],s))):(n[r]=e[r],r in Ka&&(s=Math.min(Ka[r],s)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=s,this.buildFormattingFunc=X(Sv)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,s){let{standardDateProps:r,extendedSettings:o}=this,l=tF(e.marker,n.marker,i.calendarSystem);if(!l)return this.format(e,i);let a=l;a>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(a=1);let c=this.format(e,i),u=this.format(n,i);if(c===u)return c;let d=nF(r,a),f=Sv(d,o,i),h=f(e),p=f(n),g=iF(c,h,u,p),y=o.separator||s||i.defaultSeparator||"";return g?g.before+h+y+p+g.after:c+y+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Sv(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?s=>lp(s.timeZoneOffset):i===0&&e.week?s=>eF(n.computeWeekNumber(s.marker),n.weekText,n.weekTextLong,n.locale,e.week):QH(t,e,n)}function QH(t,e,n){t=Object.assign({},t),e=Object.assign({},e),JH(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),s;if(e.omitZeroMinute){let r=Object.assign({},t);delete r.minute,s=new Intl.DateTimeFormat(n.locale.codes,r)}return r=>{let{marker:o}=r,l;s&&!o.getUTCMinutes()?l=s:l=i;let a=l.format(o);return XH(a,r,t,e,n)}}function JH(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function XH(t,e,n,i,s){return t=t.replace(qH,""),n.timeZoneName==="short"&&(t=ZH(t,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":lp(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(zH,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace(Rl,"").trim():i.meridiem==="narrow"?t=t.replace(Rl,(r,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace(Rl,(r,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace(Rl,r=>r.toLocaleLowerCase())),t=t.replace(GH," "),t=t.trim(),t}function ZH(t,e){let n=!1;return t=t.replace(YH,()=>(n=!0,e)),n||(t+=` ${e}`),t}function eF(t,e,n,i,s){let r=[];return s==="long"?r.push(n):(s==="short"||s==="narrow")&&r.push(e),(s==="long"||s==="short")&&r.push(" "),r.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&r.reverse(),r.join("")}function tF(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ei(t)!==Ei(e)?1:0}function nF(t,e){let n={};for(let i in t)(!(i in Ka)||Ka[i]<=e)&&(n[i]=t[i]);return n}function iF(t,e,n,i){let s=0;for(;s<t.length;){let r=t.indexOf(e,s);if(r===-1)break;let o=t.substr(0,r);s=r+e.length;let l=t.substr(s),a=0;for(;a<n.length;){let c=n.indexOf(i,a);if(c===-1)break;let u=n.substr(0,c);a=c+i.length;let d=n.substr(a);if(o===u&&l===d)return{before:o,after:l}}}return null}function Tv(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Qa(t,e,n,i){let s=Tv(t,n.calendarSystem),r=e?Tv(e,n.calendarSystem):null;return{date:s,start:s,end:r,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class sF{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,Qa(e,null,n,i))}formatRange(e,n,i,s){return i.cmdFormatter(this.cmdStr,Qa(e,n,i,s))}}class rF{constructor(e){this.func=e}format(e,n,i){return this.func(Qa(e,null,n,i))}formatRange(e,n,i,s){return this.func(Qa(e,n,i,s))}}function Ve(t){return typeof t=="object"&&t?new KH(t):typeof t=="string"?new sF(t):typeof t=="function"?new rF(t):null}const Cv={navLinkDayClick:A,navLinkWeekClick:A,duration:he,bootstrapFontAwesome:A,buttonIcons:A,customButtons:A,defaultAllDayEventDuration:he,defaultTimedEventDuration:he,nextDayThreshold:he,scrollTime:he,scrollTimeReset:Boolean,slotMinTime:he,slotMaxTime:he,dayPopoverFormat:Ve,slotDuration:he,snapDuration:he,headerToolbar:A,footerToolbar:A,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ve,dayHeaderClassNames:A,dayHeaderContent:A,dayHeaderDidMount:A,dayHeaderWillUnmount:A,dayCellClassNames:A,dayCellContent:A,dayCellDidMount:A,dayCellWillUnmount:A,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:A,weekNumbers:Boolean,weekNumberClassNames:A,weekNumberContent:A,weekNumberDidMount:A,weekNumberWillUnmount:A,editable:Boolean,viewClassNames:A,viewDidMount:A,viewWillUnmount:A,nowIndicator:Boolean,nowIndicatorClassNames:A,nowIndicatorContent:A,nowIndicatorDidMount:A,nowIndicatorWillUnmount:A,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:A,locale:A,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:A,eventOrder:yH,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:A,contentHeight:A,direction:String,weekNumberFormat:Ve,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:A,initialDate:A,now:A,eventDataTransform:A,stickyHeaderDates:A,stickyFooterScrollbar:A,viewHeight:A,defaultAllDay:Boolean,eventSourceFailure:A,eventSourceSuccess:A,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:A,eventConstraint:A,eventAllow:A,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:A,eventContent:A,eventDidMount:A,eventWillUnmount:A,selectConstraint:A,selectOverlap:A,selectAllow:A,droppable:Boolean,unselectCancel:String,slotLabelFormat:A,slotLaneClassNames:A,slotLaneContent:A,slotLaneDidMount:A,slotLaneWillUnmount:A,slotLabelClassNames:A,slotLabelContent:A,slotLabelDidMount:A,slotLabelWillUnmount:A,dayMaxEvents:A,dayMaxEventRows:A,dayMinWidth:Number,slotLabelInterval:he,allDayText:String,allDayClassNames:A,allDayContent:A,allDayDidMount:A,allDayWillUnmount:A,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ve,rerenderDelay:Number,moreLinkText:A,moreLinkHint:A,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:A,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:he,hiddenDays:A,fixedWeekCount:Boolean,validRange:A,visibleRange:A,titleFormat:A,eventInteractive:Boolean,noEventsText:String,viewHint:A,navLinkHint:A,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:A,moreLinkClassNames:A,moreLinkContent:A,moreLinkDidMount:A,moreLinkWillUnmount:A,monthStartFormat:Ve,handleCustomRendering:A,customRenderingMetaMap:A,customRenderingReplaces:Boolean},lo={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Av={datesSet:A,eventsSet:A,eventAdd:A,eventChange:A,eventRemove:A,windowResize:A,eventClick:A,eventMouseEnter:A,eventMouseLeave:A,select:A,unselect:A,loading:A,_unmount:A,_beforeprint:A,_afterprint:A,_noEventDrop:A,_noEventResize:A,_resize:A,_scrollRequest:A},Iv={buttonText:A,buttonHints:A,views:A,plugins:A,initialEvents:A,events:A,eventSources:A},Ki={headerToolbar:Qi,footerToolbar:Qi,buttonText:Qi,buttonHints:Qi,buttonIcons:Qi,dateIncrement:Qi,plugins:kl,events:kl,eventSources:kl,resources:kl};function Qi(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Sn(t,e):t===e}function kl(t,e){return Array.isArray(t)&&Array.isArray(e)?Bi(t,e):t===e}const oF={type:String,component:A,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:A,usesMinMaxTime:Boolean,classNames:A,content:A,didMount:A,willUnmount:A};function Lu(t){return cp(t,Ki)}function ap(t,e){let n={},i={};for(let s in e)s in t&&(n[s]=e[s](t[s]));for(let s in t)s in e||(i[s]=t[s]);return{refined:n,extra:i}}function A(t){return t}const{hasOwnProperty:Ja}=Object.prototype;function cp(t,e){let n={};if(e){for(let i in e)if(e[i]===Qi){let s=[];for(let r=t.length-1;r>=0;r-=1){let o=t[r][i];if(typeof o=="object"&&o)s.unshift(o);else if(o!==void 0){n[i]=o;break}}s.length&&(n[i]=cp(s))}}for(let i=t.length-1;i>=0;i-=1){let s=t[i];for(let r in s)r in n||(n[r]=s[r])}return n}function bs(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function Zn(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function NS(t){let e={};for(let n of t)e[n]=!0;return e}function up(t){let e=[];for(let n in t)e.push(t[n]);return e}function Sn(t,e){if(t===e)return!0;for(let n in t)if(Ja.call(t,n)&&!(n in e))return!1;for(let n in e)if(Ja.call(e,n)&&t[n]!==e[n])return!1;return!0}const lF=/^on[A-Z]/;function aF(t,e){const n=Jd(t,e);for(let i of n)if(!lF.test(i))return!1;return!0}function Jd(t,e){let n=[];for(let i in t)Ja.call(t,i)&&(i in e||n.push(i));for(let i in e)Ja.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function Hu(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&cF(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function cF(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function uF(t,e=0,n,i=1){let s=[];n==null&&(n=Object.keys(t).length);for(let r=e;r<n;r+=i){let o=t[r];o!==void 0&&s.push(o)}return s}let MS={};function dF(t,e){MS[t]=e}function fF(t){return new MS[t]}class hF{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return xt(e)}markerToArray(e){return bi(e)}}dF("gregory",hF);const pF=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function gF(t){let e=pF.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(xS(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}class mF{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=fF(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):xt(Ev(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=xt(e)),n===null||!xS(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=gF(e);if(n===null)return null;let{marker:i}=n,s=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):s=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return Ei(e)===Ei(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return Ei(e)===Ei(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=HH(e,n),i!==null?{unit:"week",value:i}:(i=Ya(e,n),i!==null?{unit:"day",value:i}:(i=MH(e,n),Kl(i)?{unit:"hour",value:i}:(i=OH(e,n),Kl(i)?{unit:"minute",value:i}:(i=PH(e,n),Kl(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let s;return i.years&&(s=this.diffWholeYears(e,n),s!==null)?s/kH(i):i.months&&(s=this.diffWholeMonths(e,n),s!==null)?s/xH(i):i.days&&(s=Ya(e,n),s!==null)?s/ir(i):(n.valueOf()-e.valueOf())/ln(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Oe(e):n==="hour"?FH(e):n==="minute"?UH(e):n==="second"?BH(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):VH(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,s={}){return s.isEndExclusive&&(n=Vi(n,-1)),i.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(n)},this,s.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),DS(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?xt(Ev(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):xt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-wv(bi(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(bi(e)):null}toDate(e,n){return this.timeZone==="local"?wv(bi(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(bi(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class ll{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}ll.prototype.classes={};ll.prototype.iconClasses={};ll.prototype.baseIconClass="";ll.prototype.iconOverridePrefix="";function Xa(t){t();let e=J.debounceRendering,n=[];function i(s){n.push(s)}for(J.debounceRendering=i,Ho(w(vF,{}),document.createElement("div"));n.length;)n.shift()();J.debounceRendering=e}class vF extends Wt{render(){return w("div",{})}componentDidMount(){this.setState({})}}function OS(t){let e=WL(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,s=n.apply(this,arguments);if(i){let r=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&r.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{r.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{r.splice(r.indexOf(o),1),l&&l.call(o)}}}return s},e}class yF{constructor(e,n,i,s){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=s,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ii=OS({});function _F(t,e,n,i,s,r,o,l,a,c,u,d,f,h){return{dateEnv:s,nowManager:r,options:n,pluginHooks:l,emitter:u,dispatch:a,getCurrentData:c,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:o,isRtl:n.direction==="rtl",addResizeHandler(p){u.on("_resize",p)},removeResizeHandler(p){u.off("_resize",p)},createScrollResponder(p){return new yF(p,u,he(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:f,unregisterInteractiveComponent:h}}class xs extends Wt{shouldComponentUpdate(e,n){return this.debug&&console.log(Jd(e,this.props),Jd(n,this.state)),!Hu(this.props,e,this.propEquality)||!Hu(this.state,n,this.stateEquality)}safeSetState(e){Hu(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}xs.addPropsEquality=bF;xs.addStateEquality=EF;xs.contextType=ii;xs.prototype.propEquality={};xs.prototype.stateEquality={};class Se extends xs{}Se.contextType=ii;function bF(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function EF(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ei(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class dp extends Se{constructor(){super(...arguments),this.id=Rs(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!Xd(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ei(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:i}=n,{customGenerator:s,defaultGenerator:r,renderProps:o}=e,l=PS(e,[],this.handleEl);let a=!1,c,u=[],d;if(s!=null){const f=typeof s=="function"?s(o,w):s;if(f===!0)a=!0;else{const h=f&&typeof f=="object";h&&"html"in f?l.dangerouslySetInnerHTML={__html:f.html}:h&&"domNodes"in f?u=Array.prototype.slice.call(f.domNodes):(h?rS(f):typeof f!="function")?c=f:d=f}}else a=!Xd(e.generatorName,i);return a&&r&&(c=r(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,w(e.elTag,l,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:i,context:s}=this,{handleCustomRendering:r,customRenderingMetaMap:o}=s.options;if(r){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[i.generatorName];l&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},i),{elClasses:(i.elClasses||[]).filter(wF)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!Bi(e,n)){n.forEach(np);for(let s of e)i.appendChild(s);this.currentDomNodes=e}}}dp.addPropsEquality({elClasses:Bi,elStyle:Sn,elAttrs:aF,renderProps:Sn});function Xd(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function PS(t,e,n){const i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function wF(t){return!!t}const LS=OS(0);class Gt extends Wt{constructor(){super(...arguments),this.InnerContent=SF.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ei(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=TF(e.classNameGenerator,e.renderProps);if(e.children){const i=PS(e,n,this.handleEl),s=e.children(this.InnerContent,e.renderProps,i);return e.elTag?w(e.elTag,i,s):s}else return w(dp,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Gt.contextType=LS;function SF(t,e){const n=t.props;return w(dp,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function TF(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Za extends Se{render(){let{props:e,context:n}=this,{options:i}=n,s={view:n.viewApi};return w(Gt,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...HS(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}}function HS(t){return[`fc-${t.type}-view`,"fc-view"]}function CF(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function Rv(t,e){let n=[],{start:i}=e,s,r;for(t.sort(AF),s=0;s<t.length;s+=1)r=t[s],r.start>i&&n.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<e.end&&n.push({start:i,end:e.end}),n}function AF(t,e){return t.start.valueOf()-e.start.valueOf()}function Es(t,e){let{start:n,end:i}=t,s=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(s={start:n,end:i}),s}function IF(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function fp(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Yc(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function jn(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function RF(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function FS(t){let e=Math.floor(ks(t.start,t.end))||1,n=Oe(t.start),i=mt(n,e);return{start:n,end:i}}function US(t,e=he(0)){let n=null,i=null;if(t.end){i=Oe(t.end);let s=t.end.valueOf()-i.valueOf();s&&s>=ln(e)&&(i=mt(i,1))}return t.start&&(n=Oe(t.start),i&&i<=n&&(i=mt(n,1))),{start:n,end:i}}function Ws(t,e,n,i){return i==="year"?he(n.diffWholeYears(t,e),"year"):i==="month"?he(n.diffWholeMonths(t,e),"month"):LH(t,e)}class BS{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:s}=this.props,r=s.subtract(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,i)}buildNext(e,n,i){let{dateEnv:s}=this.props,r=s.add(s.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,i)}build(e,n,i=!0){let{props:s}=this,r,o,l,a,c,u;return r=this.buildValidRange(),r=this.trimHiddenDays(r),i&&(e=RF(e,r)),o=this.buildCurrentRangeInfo(e,n),l=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),a=this.trimHiddenDays(a),c=a,s.showNonCurrentDates||(c=Es(c,o.range)),c=this.adjustActiveRange(c),c=Es(c,r),u=fp(o.range,r),jn(a,e)||(e=a.start),{currentDate:e,validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:c,renderRange:a,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,s=null,r=null,o=null,l;return i.duration?(s=i.duration,r=i.durationUnit,o=this.buildRangeFromDuration(e,n,s,r)):(l=this.props.dayCount)?(r="day",o=this.buildRangeFromDayCount(e,n,l)):(o=this.buildCustomVisibleRange(e))?r=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),r=Qd(s).unit,o=this.buildRangeFromDuration(e,n,s,r)),{duration:s,unit:r,range:o}}getFallbackDuration(){return he({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:s,slotMaxTime:r}=this.props,{start:o,end:l}=e;return i&&(ir(s)<0&&(o=Oe(o),o=n.add(o,s)),ir(r)>1&&(l=Oe(l),l=mt(l,-1),l=n.add(l,r))),{start:o,end:l}}buildRangeFromDuration(e,n,i,s){let{dateEnv:r,dateAlignment:o}=this.props,l,a,c;if(!o){let{dateIncrement:d}=this.props;d&&ln(d)<ln(i)?o=Qd(d).unit:o=s}ir(i)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=Oe(l));function u(){l=r.startOf(e,o),a=r.add(l,i),c={start:l,end:a}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,i){let{dateEnv:s,dateAlignment:r}=this.props,o=0,l=e,a;r&&(l=s.startOf(l,r)),l=Oe(l),l=this.skipHiddenDays(l,n),a=l;do a=mt(a,1),this.isHiddenDay(a)||(o+=1);while(o<i);return{start:l,end:a}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,s=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,r=this.refineRange(s);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?he(1,i):e||he({days:1}))}refineRange(e){if(e){let n=CF(e,this.props.dateEnv);return n&&(n=US(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(n[s]=e.indexOf(s)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=mt(e,n);return e}}function hp(t,e,n,i){return{instanceId:Rs(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:i??null}}function kF(t,e,n,i){for(let s=0;s<i.length;s+=1){let r=i[s].parse(t,n);if(r){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=r.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:r.duration,typeData:r.typeData,typeId:s}}}return null}function ws(t,e,n){let{dateEnv:i,pluginHooks:s,options:r}=n,{defs:o,instances:l}=t;l=bs(l,a=>!o[a.defId].recurringDef);for(let a in o){let c=o[a];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let d=xF(c,u,e,i,s.recurringTypes);for(let f of d){let h=hp(a,{start:f,end:i.add(f,u)});l[h.instanceId]=h}}}return{defs:o,instances:l}}function xF(t,e,n,i,s){let o=s[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(o=o.map(Oe)),o}const Jl={id:String,groupId:String,title:String,url:String,interactive:Boolean},VS={start:A,end:A,date:A,allDay:Boolean},DF=Object.assign(Object.assign(Object.assign({},Jl),VS),{extendedProps:A});function WS(t,e,n,i,s=pp(n),r,o){let{refined:l,extra:a}=jS(t,n,s),c=MF(e,n),u=kF(l,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let f=Zd(l,a,e?e.sourceId:"",u.allDay,!!u.duration,n,r);return f.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:f,instance:null}}let d=NF(l,c,n,i);if(d){let f=Zd(l,a,e?e.sourceId:"",d.allDay,d.hasEnd,n,r),h=hp(f.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&f.publicId&&o[f.publicId]&&(h.instanceId=o[f.publicId]),{def:f,instance:h}}return null}function jS(t,e,n=pp(e)){return ap(t,n)}function pp(t){return Object.assign(Object.assign(Object.assign({},ec),DF),t.pluginHooks.eventRefiners)}function Zd(t,e,n,i,s,r,o){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Rs(),sourceId:n,allDay:i,hasEnd:s,interactive:t.interactive,ui:tc(t,r),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let a of r.pluginHooks.eventDefMemberAdders)Object.assign(l,a(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function NF(t,e,n,i){let{allDay:s}=t,r,o=null,l=!1,a,c=null,u=t.start!=null?t.start:t.date;if(r=n.dateEnv.createMarkerMeta(u),r)o=r.marker;else if(!i)return null;return t.end!=null&&(a=n.dateEnv.createMarkerMeta(t.end)),s==null&&(e!=null?s=e:s=(!r||r.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),s&&o&&(o=Oe(o)),a&&(c=a.marker,s&&(c=Oe(c)),o&&c<=o&&(c=null)),c?l=!0:i||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:l,range:{start:o,end:c},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}function MF(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Fo(t,e,n,i,s,r){let o=jt(),l=pp(n);for(let a of t){let c=WS(a,e,n,i,l,s,r);c&&ef(c,o)}return o}function ef(t,e=jt()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function gp(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],s=Kc(t,r=>OF(i,r));return s.defs[i.defId]=i,s.instances[n.instanceId]=n,s}return jt()}function OF(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function jt(){return{defs:{},instances:{}}}function mp(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Kc(t,e){let n=bs(t.defs,e),i=bs(t.instances,s=>n[s.defId]);return{defs:n,instances:i}}function PF(t,e){let{defs:n,instances:i}=t,s={},r={};for(let o in n)e.defs[o]||(s[o]=n[o]);for(let o in i)!e.instances[o]&&s[i[o].defId]&&(r[o]=i[o]);return{defs:s,instances:r}}function LF(t,e){return Array.isArray(t)?Fo(t,null,e,!0):typeof t=="object"&&t?Fo([t],null,e,!0):t!=null?String(t):null}function kv(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const ec={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:A,overlap:A,allow:A,className:kv,classNames:kv,color:String,backgroundColor:String,borderColor:String,textColor:String},HF={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function tc(t,e){let n=LF(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function $S(t){return t.reduce(FF,HF)}function FF(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const UF={id:String,defaultAllDay:Boolean,url:String,format:String,events:A,eventDataTransform:A,success:A,failure:A};function zS(t,e,n=GS(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:s,extra:r}=ap(i,n),o=BF(s,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Rs(),sourceDefId:o.sourceDefId,meta:o.meta,ui:tc(s,e),extendedProps:r}}return null}function GS(t){return Object.assign(Object.assign(Object.assign({},ec),UF),t.pluginHooks.eventSourceRefiners)}function BF(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let r=n[i].parseMeta(t);if(r)return{sourceDefId:i,meta:r}}return null}function VF(t,e,n,i,s){switch(e.type){case"RECEIVE_EVENTS":return WF(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return jF(t,n[e.sourceId],e.rawEvents,i.activeRange,s);case"ADD_EVENTS":return $F(t,e.eventStore,i?i.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return mp(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?ws(t,i.activeRange,s):t;case"REMOVE_EVENTS":return PF(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return YS(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Kc(t,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return jt();default:return t}}function WF(t,e,n,i,s,r){if(e&&n===e.latestFetchId){let o=Fo(qS(s,e,r),e,r);return i&&(o=ws(o,i,r)),mp(YS(t,e.sourceId),o)}return t}function jF(t,e,n,i,s){const{defIdMap:r,instanceIdMap:o}=GF(t);let l=Fo(qS(n,e,s),e,s,!1,r,o);return ws(l,i,s)}function qS(t,e,n){let i=n.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(t=xv(t,s)),i&&(t=xv(t,i)),t}function xv(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let s=e(i);s?n.push(s):s==null&&n.push(i)}}return n}function $F(t,e,n,i){return n&&(e=ws(e,n,i)),mp(t,e)}function Dv(t,e,n){let{defs:i}=t,s=Zn(t.instances,r=>i[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:n.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:n.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:r.forcedEndTzo}));return{defs:i,instances:s}}function YS(t,e){return Kc(t,n=>n.sourceId!==e)}function zF(t,e){return{defs:t.defs,instances:bs(t.instances,n=>!e[n.instanceId])}}function GF(t){const{defs:e,instances:n}=t,i={},s={};for(let r in e){const o=e[r],{publicId:l}=o;l&&(i[l]=r)}for(let r in n){const o=n[r],l=e[o.defId],{publicId:a}=l;a&&(s[a]=r)}return{defIdMap:i,instanceIdMap:s}}class Qc{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){qF(this.handlers,e,n)}off(e,n){YF(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],s=this.options&&this.options[e],r=[].concat(s||[],i);for(let o of r)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function qF(t,e,n){(t[e]||(t[e]=[])).push(n)}function YF(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}const KF={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function QF(t,e){return Fo(JF(t),null,e)}function JF(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},KF),n)),e}function KS(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},vp(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function XF(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function vp(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,fU(t,e.dateEnv)),n}function Nv(t,e,n){let{dateEnv:i,options:s}=n,r=e;return t?(r=Oe(r),r=i.add(r,s.defaultAllDayEventDuration)):r=i.add(r,s.defaultTimedEventDuration),r}function yp(t,e,n,i){let s=nc(t.defs,e),r=jt();for(let o in t.defs){let l=t.defs[o];r.defs[o]=ZF(l,s[o],n,i)}for(let o in t.instances){let l=t.instances[o],a=r.defs[l.defId];r.instances[o]=eU(l,a,s[l.defId],n,i)}return r}function ZF(t,e,n,i){let s=n.standardProps||{};s.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},t),s),{ui:Object.assign(Object.assign({},t.ui),s.ui)});n.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),n.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(r,n,i);return!r.hasEnd&&i.options.forceEventDuration&&(r.hasEnd=!0),r}function eU(t,e,n,i,s){let{dateEnv:r}=s,o=i.standardProps&&i.standardProps.allDay===!0,l=i.standardProps&&i.standardProps.hasEnd===!1,a=Object.assign({},t);return o&&(a.range=FS(a.range)),i.datesDelta&&n.startEditable&&(a.range={start:r.add(a.range.start,i.datesDelta),end:r.add(a.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(a.range={start:r.add(a.range.start,i.startDelta),end:a.range.end}),i.endDelta&&n.durationEditable&&(a.range={start:a.range.start,end:r.add(a.range.end,i.endDelta)}),l&&(a.range={start:a.range.start,end:Nv(e.allDay,a.range.start,s)}),e.allDay&&(a.range={start:Oe(a.range.start),end:Oe(a.range.end)}),a.range.end<a.range.start&&(a.range.end=Nv(e.allDay,a.range.start,s)),a}class Fs{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ue{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in VS)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Jl[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Jl)n=Jl[e](n),this.mutate({standardProps:{[e]:n}});else if(e in ec){let i=ec[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,s=i.createMarker(e);if(s&&this._instance){let r=this._instance.range,o=Ws(r.start,s,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:i}=this._context,s;if(!(e!=null&&(s=i.createMarker(e),!s))&&this._instance)if(s){let r=Ws(this._instance.range.end,s,i,n.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:s}=this._context,r={allDay:i.allDay},o=s.createMarker(e),l;if(o&&!(n!=null&&(l=s.createMarker(n),!l))&&this._instance){let a=this._instance.range;i.allDay===!0&&(a=FS(a));let c=Ws(a.start,o,s,i.granularity);if(l){let u=Ws(a.end,l,s,i.granularity);AH(c,u)?this.mutate({datesDelta:c,standardProps:r}):this.mutate({startDelta:c,endDelta:u,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:c,standardProps:r})}}moveStart(e){let n=he(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=he(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=he(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:s}=n;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=s),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,s=Ve(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,s,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,s,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,s=this._context,{eventStore:r}=s.getCurrentData(),o=gp(r,n.instanceId);o=yp(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let a=new Ue(s,i,n);this._def=o.defs[i.defId],this._instance=o.instances[n.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:o}),s.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:us(o,s,n),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,n=QS(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Fs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:s,endStr:r}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),s&&(o.start=s),r&&(o.end=r),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function QS(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function us(t,e,n){let{defs:i,instances:s}=t,r=[],o=n?n.instanceId:"";for(let l in s){let a=s[l],c=i[a.defId];a.instanceId!==o&&r.push(new Ue(e,c,a))}return r}function Mv(t,e,n,i){let s={},r={},o={},l=[],a=[],c=nc(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(s[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):r[u]=[])}for(let u in t.instances){let d=t.instances[u],f=t.defs[d.defId],h=c[f.defId],p=d.range,g=!f.allDay&&i?US(p,i):p,y=Es(g,n);y&&(h.display==="inverse-background"?f.groupId?s[f.groupId].push(y):r[d.defId].push(y):h.display!=="none"&&(h.display==="background"?l:a).push({def:f,ui:h,instance:d,range:y,isStart:g.start&&g.start.valueOf()===y.start.valueOf(),isEnd:g.end&&g.end.valueOf()===y.end.valueOf()}))}for(let u in s){let d=s[u],f=Rv(d,n);for(let h of f){let p=o[u],g=c[p.defId];l.push({def:p,ui:g,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let u in r){let d=r[u],f=Rv(d,n);for(let h of f)l.push({def:t.defs[u],ui:c[u],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:l,fg:a}}function tU(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function Ov(t,e){t.fcSeg=e}function br(t){return t.fcSeg||t.parentNode.fcSeg||null}function nc(t,e){return Zn(t,n=>JS(n,e))}function JS(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),$S(n)}function XS(t,e){let n=t.map(nU);return n.sort((i,s)=>_H(i,s,e)),n.map(i=>i._seg)}function nU(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,s=i.start?i.start.valueOf():0,r=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:r,duration:r-s,allDay:Number(n.allDay),_seg:t})}function iU(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:s,ui:r}=t.eventRange,o=r.startEditable;for(let l of i)o=l(o,s,r,e);return o}function sU(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function rU(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function ZS(t,e,n,i,s,r,o){let{dateEnv:l,options:a}=n,{displayEventTime:c,displayEventEnd:u}=a,d=t.eventRange.def,f=t.eventRange.instance;c==null&&(c=i!==!1),u==null&&(u=s!==!1);let h=f.range.start,p=f.range.end,g=r||t.start||t.eventRange.range.start,y=o||t.end||t.eventRange.range.end,_=Oe(h).valueOf()===Oe(g).valueOf(),b=Oe(Vi(p,-1)).valueOf()===Oe(Vi(y,-1)).valueOf();return c&&!d.allDay&&(_||b)?(g=_?h:g,y=b?p:y,u&&d.hasEnd?l.formatRange(g,y,e,{forcedStartTzo:r?null:f.forcedStartTzo,forcedEndTzo:o?null:f.forcedEndTzo}):l.format(g,e,{forcedTzo:r?null:f.forcedStartTzo})):""}function Mi(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&jn(e,i.start)}}function oU(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function eT(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function tT(t,e){let{def:n,instance:i}=t.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:r,options:o}=e,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!r.hasHandlers("eventClick"))),l?kS(a=>{r.trigger("eventClick",{el:a.target,event:new Ue(e,n,i),jsEvent:a,view:e.viewApi})}):{}}const lU={start:A,end:A,allDay:Boolean};function aU(t,e,n){let i=cU(t,e),{range:s}=i;if(!s.start)return null;if(!s.end){if(n==null)return null;s.end=e.add(s.start,n)}return i}function cU(t,e){let{refined:n,extra:i}=ap(t,lU),s=n.start?e.createMarkerMeta(n.start):null,r=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=s&&s.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:r?r.marker:null},allDay:o},i)}function uU(t,e){return IF(t.range,e.range)&&t.allDay===e.allDay&&dU(t,e)}function dU(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function fU(t,e){return Object.assign(Object.assign({},iT(t.range,e,t.allDay)),{allDay:t.allDay})}function nT(t,e,n){return Object.assign(Object.assign({},iT(t,e,n)),{timeZone:e.timeZone})}function iT(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function hU(t,e,n){let i=jS({editable:!1},n),s=Zd(i.refined,i.extra,"",t.allDay,!0,n);return{def:s,ui:JS(s,e),instance:hp(s.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function pU(t,e,n){let i=!1,s=function(l){i||(i=!0,e(l))},r=function(l){i||(i=!0,n(l))},o=t(s,r);o&&typeof o.then=="function"&&o.then(s,r)}class Pv extends Error{constructor(e,n){super(e),this.response=n}}function gU(t,e,n){t=t.toUpperCase();const i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(s=>{if(s.ok)return s.json().then(r=>[r,s],()=>{throw new Pv("Failure parsing JSON",s)});throw new Pv("Request failed",s)})}let Fu;function sT(){return Fu==null&&(Fu=mU()),Fu}function mU(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class vU extends Se{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Xa(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Xa(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,s=i||n.height==="auto"||n.contentHeight==="auto",r=!s&&n.height!=null?n.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return sT()||o.push("fc-liquid-hack"),e.children(o,r,s,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Dr{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function yU(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function _p(t){return{[t.component.uid]:t}}const tf={};class Nr extends Wt{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),s=n.dateEnv.startOf(i,e.unit),o=n.dateEnv.add(s,he(1,e.unit)).valueOf()-i.valueOf();return o=Math.min(1e3*60*60*24,o),{state:{nowDate:s,todayRange:_U(s)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Nr.contextType=ii;function _U(t){let e=Oe(t),n=mt(e,1);return{start:e,end:n}}class bU{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),s;n=n||"day",s=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),r,o;for(let l in n)s.push(l);for(r=0;r<s.length;r+=1)if(o=n[s[r]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=he(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),Ve(n))}formatRange(e,n,i){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(n),Ve(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let s=this.getCurrentData(),r=aU(i,s.dateEnv,he({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),KS(r,null,s))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),XF(e,n))}addEvent(e,n){if(e instanceof Ue){let o=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ef({def:o,instance:l})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),s;if(n instanceof Fs)s=n.internalEventSource;else if(typeof n=="boolean")n&&([s]=up(i.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;s=o.internalEventSource}let r=WS(e,s,i,!1);if(r){let o=new Ue(i,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ef(r)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:QS(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:s}=n.eventStore;e=String(e);for(let r in i){let o=i[r];if(o.publicId===e){if(o.recurringDef)return new Ue(n,o,null);for(let l in s){let a=s[l];if(a.defId===o.defId)return new Ue(n,o,a)}}}return null}getEvents(){let e=this.getCurrentData();return us(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let s in n)i.push(new Fs(e,n[s]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let s in i)if(i[s].publicId===e)return new Fs(n,i[s]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Fs)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=zS(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Fs(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=he(e);n&&this.trigger("_scrollRequest",{time:n})}}function EU(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function rT(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function wU(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function SU(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function TU(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Uu=jt();class CU{constructor(){this.getKeysForEventDefs=X(this._getKeysForEventDefs),this.splitDateSelection=X(this._splitDateSpan),this.splitEventStore=X(this._splitEventStore),this.splitIndividualUi=X(this._splitIndividualUi),this.splitEventDrag=X(this._splitInteraction),this.splitEventResize=X(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),s=this.splitDateSelection(e.dateSelection),r=this.splitIndividualUi(e.eventUiBases,i),o=this.splitEventStore(e.eventStore,i),l=this.splitEventDrag(e.eventDrag),a=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Zn(n,(u,d)=>this.eventUiBuilders[d]||X(AU));for(let u in n){let d=n[u],f=o[u]||Uu,h=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:s[u]||null,eventStore:f,eventUiBases:h(e.eventUiBases[""],d.ui,r[u]),eventSelection:f.instances[e.eventSelection]?e.eventSelection:"",eventDrag:l[u]||null,eventResize:a[u]||null}}return c}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let s of i)n[s]=e}return n}_getKeysForEventDefs(e){return Zn(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:s}=e,r={};for(let o in i)for(let l of n[o])r[l]||(r[l]=jt()),r[l].defs[o]=i[o];for(let o in s){let l=s[o];for(let a of n[l.defId])r[a]&&(r[a].instances[o]=l)}return r}_splitIndividualUi(e,n){let i={};for(let s in e)if(s)for(let r of n[s])i[r]||(i[r]={}),i[r][s]=e[s];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),s=this._getKeysForEventDefs(e.mutatedEvents),r=this._splitEventStore(e.mutatedEvents,s),o=l=>{n[l]||(n[l]={affectedEvents:i[l]||Uu,mutatedEvents:r[l]||Uu,isEvent:e.isEvent})};for(let l in i)o(l);for(let l in r)o(l)}return n}}function AU(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let s={"":$S(i)};return n&&Object.assign(s,n),s}function oT(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!jn(i.activeRange,t))),isOther:!!(i&&!jn(i.currentRange,t)),isToday:!!(e&&jn(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function bp(t,e){let n=["fc-day",`fc-day-${DH[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const IU=Ve({year:"numeric",month:"long",day:"numeric"}),RU=Ve({week:"long"});function ic(t,e,n="day",i=!0){const{dateEnv:s,options:r,calendarApi:o}=t;let l=s.format(e,n==="week"?RU:IU);if(r.navLinks){let a=s.toDate(e);const c=u=>{let d=n==="day"?r.navLinkDayClick:n==="week"?r.navLinkWeekClick:null;typeof d=="function"?d.call(o,s.toDate(e),u):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:oo(r.navLinkHint,[l,a],l),"data-navlink":""},i?RS(c):{onClick:c})}return{"aria-label":l}}let Bu=null;function kU(){return Bu===null&&(Bu=xU()),Bu}function xU(){let t=document.createElement("div");ro(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return np(t),n}let Vu;function DU(){return Vu||(Vu=NU()),Vu}function NU(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=lT(t);return document.body.removeChild(t),e}function lT(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function MU(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,r=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=lT(t),a=l.y-i-s,c=l.x-r-o,u={borderLeft:i,borderRight:s,borderTop:r,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return kU()&&n.direction==="rtl"?u.scrollbarLeft=a:u.scrollbarRight=a,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function OU(t,e=!1,n){let i=n?t.getBoundingClientRect():Ep(t),s=MU(t,e),r={left:i.left+s.borderLeft+s.scrollbarLeft,right:i.right-s.borderRight-s.scrollbarRight,top:i.top+s.borderTop,bottom:i.bottom-s.borderBottom-s.scrollbarBottom};return e&&(r.left+=s.paddingLeft,r.right-=s.paddingRight,r.top+=s.paddingTop,r.bottom-=s.paddingBottom),r}function Ep(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function PU(t){let e=aT(t),n=t.getBoundingClientRect();for(let i of e){let s=rT(n,i.getBoundingClientRect());if(s)n=s;else return null}return n}function aT(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Er{constructor(e,n,i,s){this.els=n;let r=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(r.left),s&&this.buildElVerticals(r.top)}buildElHorizontals(e){let n=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();n.push(r.left-e),i.push(r.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let s of this.els){let r=s.getBoundingClientRect();n.push(r.top-e),i.push(r.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,s=n.length,r;for(r=0;r<s;r+=1)if(e>=n[r]&&e<i[r])return r}topToIndex(e){let{tops:n,bottoms:i}=this,s=n.length,r;for(r=0;r<s;r+=1)if(e>=n[r]&&e<i[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return xl(this.tops||[],e.tops||[])&&xl(this.bottoms||[],e.bottoms||[])&&xl(this.lefts||[],e.lefts||[])&&xl(this.rights||[],e.rights||[])}}function xl(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}class wp{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class LU extends wp{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class HU extends wp{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class An extends Se{constructor(){super(...arguments),this.uid=Rs()}prepareHits(){}queryHit(e,n,i,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ht(e,".fc-event-mirror")}isValidDateDownEl(e){return!ht(e,".fc-event:not(.fc-bg-event)")&&!ht(e,".fc-more-link")&&!ht(e,"a[data-navlink]")&&!ht(e,".fc-popover")}}class cT{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},n),{span:Sp(n.span,e.touchingEntry.span)});i.push(s),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let s=e.span,r=n.span;s.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:r.start}},i),s.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:s.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:s}=this;n.lateral===-1?(Wu(s,n.level,n.levelCoord),Wu(i,n.level,[e])):Wu(i[n.level],n.lateral,e),this.stackCnts[ds(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:s,stackCnts:r}=this,o=n.length,l=0,a=-1,c=-1,u=null,d=0;for(let p=0;p<o;p+=1){const g=n[p];if(!s&&g>=l+this.getEntryThickness(e))break;let y=i[p],_,b=sf(y,e.span.start,nf),m=b[0]+b[1];for(;(_=y[m])&&_.span.start<e.span.end;){let v=g+this.getEntryThickness(_);v>l&&(l=v,u=_,a=p,c=m),v===l&&(d=Math.max(d,r[ds(_)]+1)),m+=1}}let f=0;if(u)for(f=a+1;f<o&&n[f]<l;)f+=1;let h=-1;return f<o&&n[f]===l&&(h=sf(i[f],e.span.end,nf)[0]),{touchingLevel:a,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:l,level:f,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,s=[];for(let r=0;r<i;r+=1){let o=e[r],l=n[r];for(let a of o)s.push(Object.assign(Object.assign({},a),{thickness:this.getEntryThickness(a),levelCoord:l}))}return s}}function nf(t){return t.span.end}function ds(t){return t.index+":"+t.span.start}function FU(t){let e=[];for(let n of t){let i=[],s={span:n.span,entries:[n]};for(let r of e)Sp(r.span,s.span)?s={entries:r.entries.concat(s.entries),span:UU(r.span,s.span)}:i.push(r);i.push(s),e=i}return e}function UU(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Sp(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function Wu(t,e,n){t.splice(e,0,n)}function sf(t,e,n){let i=0,s=t.length;if(!s||e<n(t[i]))return[0,0];if(e>n(t[s-1]))return[s,0];for(;i<s;){let r=Math.floor(i+(s-i)/2),o=n(t[r]);if(e<o)s=r;else if(e>o)i=r+1;else return[r,1]}return[i,0]}class BU{constructor(e,n){this.emitter=new Qc}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Tp={};function VU(t,e){return!t||e>10?Ve({weekday:"short"}):e>1?Ve({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ve({weekday:"long"})}const uT="fc-col-header-cell";function dT(t){return t.text}class WU extends Se{render(){let{dateEnv:e,options:n,theme:i,viewApi:s}=this.context,{props:r}=this,{date:o,dateProfile:l}=r,a=oT(o,r.todayRange,null,l),c=[uT].concat(bp(a,i)),u=e.format(o,r.dayHeaderFormat),d=!a.isDisabled&&r.colCnt>1?ic(this.context,o):{},f=e.toDate(o);e.namedTimeZoneImpl&&(f=Vi(f,36e5));let h=Object.assign(Object.assign(Object.assign({date:f,view:s},r.extraRenderProps),{text:u}),a);return w(Gt,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":a.isDisabled?void 0:op(o)},r.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:dT,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>w("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&w(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}}const jU=Ve({weekday:"long"});class $U extends Se{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:s,options:r}=this.context,o=mt(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:s}),e.extraRenderProps),{text:a});return w(Gt,{elTag:"th",elClasses:[uT,...bp(l,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:dT,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},u=>w("div",{className:"fc-scrollgrid-sync-inner"},w(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,jU)}})))}}class fT extends Se{constructor(){super(...arguments),this.createDayHeaderFormatter=X(zU)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:s,renderIntro:r}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,n.length);return w(Nr,{unit:"day"},(l,a)=>w("tr",{role:"row"},r&&r("day"),n.map(c=>s?w(WU,{key:c.toISOString(),date:c,dateProfile:i,todayRange:a,colCnt:n.length,dayHeaderFormat:o}):w($U,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function zU(t,e,n){return t||VU(e,n)}class hT{constructor(e,n){let i=e.start,{end:s}=e,r=[],o=[],l=-1;for(;i<s;)n.isHiddenDay(i)?r.push(l+.5):(l+=1,r.push(l),o.push(i)),i=mt(i,1);this.dates=o,this.indices=r,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(mt(e.end,-1)),s=Math.max(0,n),r=Math.min(this.cnt-1,i);return s=Math.ceil(s),r=Math.floor(r),s<=r?{firstIndex:s,lastIndex:r,isStart:n===s,isEnd:i===r}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(ks(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class pT{constructor(e,n){let{dates:i}=e,s,r,o;if(n){for(r=i[0].getUTCDay(),s=1;s<i.length&&i[s].getUTCDay()!==r;s+=1);o=Math.ceil(i.length/s)}else o=1,s=i.length;this.rowCnt=o,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let s=0;s<this.colCnt;s+=1)i.push(this.buildCell(n,s));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),s=[];if(i){let{firstIndex:r,lastIndex:o}=i,l=r;for(;l<=o;){let a=Math.floor(l/n),c=Math.min((a+1)*n,o+1);s.push({row:a,firstCol:l%n,lastCol:(c-1)%n,isStart:i.isStart&&l===r,isEnd:i.isEnd&&c-1===o}),l=c}}return s}}class gT{constructor(){this.sliceBusinessHours=X(this._sliceBusinessHours),this.sliceDateSelection=X(this._sliceDateSpan),this.sliceEventStore=X(this._sliceEventStore),this.sliceEventDrag=X(this._sliceInteraction),this.sliceEventResize=X(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,s,...r){let{eventUiBases:o}=e,l=this.sliceEventStore(e.eventStore,o,n,i,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,o,s,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,s,...r),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,i,...r),eventResize:this.sliceEventResize(e.eventResize,o,n,i,...r),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,s,...r){return this._sliceDateSpan({range:{start:e,end:Vi(e,1)},allDay:!1},n,i,{},s,...r)}_sliceBusinessHours(e,n,i,s,...r){return e?this._sliceEventStore(ws(e,Dl(n,!!i),s),{},n,i,...r).bg:[]}_sliceEventStore(e,n,i,s,...r){if(e){let o=Mv(e,n,Dl(i,!!s),s);return{bg:this.sliceEventRanges(o.bg,r),fg:this.sliceEventRanges(o.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,s,...r){if(!e)return null;let o=Mv(e.mutatedEvents,n,Dl(i,!!s),s);return{segs:this.sliceEventRanges(o.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,s,r,...o){if(!e)return[];let l=Dl(n,!!i),a=Es(e.range,l);if(a){e=Object.assign(Object.assign({},e),{range:a});let c=hU(e,s,r),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let i=[];for(let s of e)i.push(...this.sliceEventRange(s,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:mt(i.start,1)});let s=this.sliceRange(i,...n);for(let r of s)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return s}}function Dl(t,e){let n=t.activeRange;return e?n:{start:Vi(n.start,t.slotMinTime.milliseconds),end:Vi(n.end,t.slotMaxTime.milliseconds-864e5)}}function mT(t,e,n){let{instances:i}=t.mutatedEvents;for(let s in i)if(!Yc(e.validRange,i[s].range))return!1;return vT({eventDrag:t},n)}function GU(t,e,n){return Yc(e.validRange,t.range)?vT({dateSelection:t},n):!1}function vT(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||qU)(i,e)}function qU(t,e,n={},i){return!(t.eventDrag&&!YU(t,e,n,i)||t.dateSelection&&!KU(t,e,n,i))}function YU(t,e,n,i){let s=e.getCurrentData(),r=t.eventDrag,o=r.mutatedEvents,l=o.defs,a=o.instances,c=nc(l,r.isEvent?t.eventUiBases:{"":s.selectionConfig});i&&(c=Zn(c,i));let u=zF(t.eventStore,r.affectedEvents.instances),d=u.defs,f=u.instances,h=nc(d,t.eventUiBases);for(let p in a){let g=a[p],y=g.range,_=c[g.defId],b=l[g.defId];if(!yT(_.constraints,y,u,t.businessHours,e))return!1;let{eventOverlap:m}=e.options,v=typeof m=="function"?m:null;for(let I in f){let M=f[I];if(fp(y,M.range)&&(h[M.defId].overlap===!1&&r.isEvent||_.overlap===!1||v&&!v(new Ue(e,d[M.defId],M),new Ue(e,b,g))))return!1}let T=s.eventStore;for(let I of _.allows){let M=Object.assign(Object.assign({},n),{range:g.range,allDay:b.allDay}),k=T.defs[b.defId],C=T.instances[p],x;if(k?x=new Ue(e,k,C):x=new Ue(e,b),!I(vp(M,e),x))return!1}}return!0}function KU(t,e,n,i){let s=t.eventStore,r=s.defs,o=s.instances,l=t.dateSelection,a=l.range,{selectionConfig:c}=e.getCurrentData();if(i&&(c=i(c)),!yT(c.constraints,a,s,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let f in o){let h=o[f];if(fp(a,h.range)&&(c.overlap===!1||d&&!d(new Ue(e,r[h.defId],h),null)))return!1}for(let f of c.allows){let h=Object.assign(Object.assign({},n),l);if(!f(vp(h,e),null))return!1}return!0}function yT(t,e,n,i,s){for(let r of t)if(!JU(QU(r,e,n,i,s),e))return!1;return!0}function QU(t,e,n,i,s){return t==="businessHours"?ju(ws(i,e,s)):typeof t=="string"?ju(Kc(n,r=>r.groupId===t)):typeof t=="object"&&t?ju(ws(t,e,s)):[]}function ju(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function JU(t,e){for(let n of t)if(Yc(n,e))return!0;return!1}const Nl=/^(visible|hidden)$/;class XU extends Se{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ei(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,s=n&&i,r=["fc-scroller"];return n&&(i?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),w("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Nl.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Nl.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let s=0;s<i.length;s+=1)if(i[s].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Nl.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Nl.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Bn{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:s,currentMap:r}=this,o=!1,l=!1;n!==null?(o=i in r,r[i]=n,s[i]=(s[i]||0)+1,l=!0):(s[i]-=1,s[i]||(delete r[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),l&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return uF(this.currentMap,e,n,i)}getAll(){return up(this.currentMap)}}function ZU(t){let e=cH(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,SH(i));return Math.ceil(n)}function _T(t,e){return t.liquid&&e.liquid}function eB(t,e){return e.maxHeight!=null||_T(t,e)}function tB(t,e,n,i){let{expandRows:s}=n;return typeof e.content=="function"?e.content(n):w("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,w(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function nB(t,e){return Bi(t,e,Sn)}function iB(t,e){let n=[];for(let i of t){let s=i.span||1;for(let r=0;r<s;r+=1)n.push(w("col",{style:{width:i.width==="shrink"?sB(e):i.width||"",minWidth:i.minWidth||""}}))}return w("colgroup",{},...n)}function sB(t){return t??4}function rB(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function oB(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function lB(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function rf(t){return w("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function sc(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function bT(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Cp extends Se{constructor(){super(...arguments),this.processCols=X(e=>e,nB),this.renderMicroColGroup=X(iB),this.scrollerRefs=new Bn,this.scrollerElRefs=new Bn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,s=e.sections||[],r=this.processCols(e.cols),o=this.renderMicroColGroup(r,n.shrinkWidth),l=oB(e.liquid,i);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let a=s.length,c=0,u,d=[],f=[],h=[];for(;c<a&&(u=s[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<a&&(u=s[c]).type==="body";)f.push(this.renderSection(u,o,!1)),c+=1;for(;c<a&&(u=s[c]).type==="footer";)h.push(this.renderSection(u,o,!0)),c+=1;let p=!sT();const g={role:"rowgroup"};return w("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!p&&d.length)&&w("thead",g,...d),!!(!p&&f.length)&&w("tbody",g,...f),!!(!p&&h.length)&&w("tfoot",g,...h),p&&w("tbody",g,...d,...f,...h))}renderSection(e,n,i){return"outerContent"in e?w(Ne,{key:e.key},e.outerContent):w("tr",{key:e.key,role:"presentation",className:lB(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,s){if("outerContent"in i)return i.outerContent;let{props:r}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:a}=this.state,c=eB(r,e),u=_T(r,e),d=r.liquid?o?"scroll":c?"auto":"hidden":"visible",f=e.key,h=tB(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&l[f]!==void 0?l[f]:null,clientHeight:a[f]!==void 0?a[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return w(s?"th":"td",{ref:i.elRef,role:"presentation"},w("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},w(XU,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:d,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,n){let i=aB(this.props.sections,n);i&&ei(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return rB(this.props.cols)?ZU(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=DU(),{scrollerRefs:n,scrollerElRefs:i}=this,s=!1,r={},o={};for(let l in n.currentMap){let a=n.currentMap[l];if(a&&a.needsYScrolling()){s=!0;break}}for(let l of this.props.sections){let a=l.key,c=i.currentMap[a];if(c){let u=c.parentNode;r[a]=Math.floor(u.getBoundingClientRect().width-(s?e.y:0)),o[a]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:r,scrollerClientHeights:o}}}Cp.addStateEquality({scrollerClientWidths:Sn,scrollerClientHeights:Sn});function aB(t,e){for(let n of t)if(n.key===e)return n;return null}class Ap extends Se{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Ov(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:i}=n,{seg:s}=e,{eventRange:r}=s,{ui:o}=r,l={event:new Ue(n,r.def,r.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&iU(s,n),isStartResizable:!e.disableResizing&&sU(s,n),isEndResizable:!e.disableResizing&&rU(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return w(Gt,Object.assign({},e,{elRef:this.handleEl,elClasses:[...oU(l),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Ov(this.el,this.props.seg)}}class ET extends Se{render(){let{props:e,context:n}=this,{options:i}=n,{seg:s}=e,{ui:r}=s.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,l=ZS(s,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return w(Ap,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:tT(s,n),defaultGenerator:cB,timeText:l}),(a,c)=>w(Ne,null,w(a,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&w("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&w("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function cB(t){return w("div",{className:"fc-event-main-frame"},t.timeText&&w("div",{className:"fc-event-time"},t.timeText),w("div",{className:"fc-event-title-container"},w("div",{className:"fc-event-title fc-sticky"},t.event.title||w(Ne,null,""))))}const Ip=t=>w(ii.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return w(Gt,Object.assign({},t,{elTag:t.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),uB=Ve({day:"numeric"});class Rp extends Se{constructor(){super(...arguments),this.refineRenderProps=Ql(dB)}render(){let{props:e,context:n}=this,{options:i}=n,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return w(Gt,Object.assign({},e,{elClasses:[...bp(s,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":op(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function kp(t){return!!(t.dayCellContent||Xd("dayCellContent",t))}function dB(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:s}=t,r=oT(e,t.todayRange,null,i),o=t.showDayNumber?n.format(e,s?t.monthStartFormat:uB):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},r),{isMonthStart:s,dayNumberText:o}),t.extraRenderProps)}class wT extends Se{render(){let{props:e}=this,{seg:n}=e;return w(Ap,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:fB,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function fB(t){let{title:e}=t.event;return e&&w("div",{className:"fc-event-title"},t.event.title)}function ST(t){return w("div",{className:`fc-${t}`})}const TT=t=>w(ii.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:s}=t,r=i.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(s),l=n.format(s,r);return w(Gt,Object.assign({},t,{renderProps:{num:o,text:l,date:s},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:hB,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function hB(t){return t.text}const $u=10;class pB extends Se{constructor(){super(...arguments),this.state={titleId:Gc()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ei(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=AS(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:s}=this,r=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return KL(w("div",Object.assign({},i.extraAttrs,{id:i.id,className:r.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),w("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},w("span",{className:"fc-popover-title",id:s.titleId},i.title),w("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),w("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:s}=this,r=PU(n);if(r){let o=s.getBoundingClientRect(),l=i?ht(n,".fc-scrollgrid").getBoundingClientRect().top:r.top,a=e?r.right-o.width:r.left;l=Math.max(l,$u),a=Math.min(a,document.documentElement.clientWidth-$u-o.width),a=Math.max(a,$u);let c=s.offsetParent.getBoundingClientRect();ro(s,{top:l-c.top,left:a-c.left})}}}class gB extends An{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:s,todayRange:r,dateProfile:o}=i,l=n.format(s,e.dayPopoverFormat);return w(Rp,{elRef:this.handleRootEl,date:s,dateProfile:o,todayRange:r},(a,c,u)=>w(pB,{elRef:u.ref,id:i.id,title:l,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},kp(e)&&w(a,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,s){let{rootEl:r,props:o}=this;return e>=0&&e<i&&n>=0&&n<s?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:i,bottom:s},layer:1}:null}}class CT extends Se{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Gc()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ei(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:s}=i.options,r=Lv(n).start;function o(l){let{def:a,instance:c,range:u}=l.eventRange;return{event:new Ue(i,a,c),start:i.dateEnv.toDate(u.start),end:i.dateEnv.toDate(u.end),isStart:l.isStart,isEnd:l.isEnd}}typeof s=="function"&&(s=s({date:r,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&i.calendarApi.zoomTo(r,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return w(ii.Consumer,null,i=>{let{viewApi:s,options:r,calendarApi:o}=i,{moreLinkText:l}=r,{moreCnt:a}=e,c=Lv(e),u=typeof l=="function"?l.call(o,a):`+${a} ${l}`,d=oo(r.moreLinkHint,[a],u),f={num:a,shortText:`+${a}`,text:u,view:s};return w(Ne,null,!!e.moreCnt&&w(Gt,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),RS(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||mB,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),n.isPopoverOpen&&w(gB,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ht(this.linkEl,".fc-view-harness"))}}function mB(t){return t.text}function Lv(t){if(t.allDayDate)return{start:t.allDayDate,end:mt(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:AT(e),end:yB(e)}}function AT(t){return t.reduce(vB).eventRange.range.start}function vB(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function yB(t){return t.reduce(_B).eventRange.range.end}function _B(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class bB{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class EB extends bB{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}}const wB=[],IT={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},RT=Object.assign(Object.assign({},IT),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function SB(t){let e=t.length>0?t[0].code:"en",n=wB.concat(t),i={en:RT};for(let s of n)i[s.code]=s;return{map:i,defaultCode:e}}function kT(t,e){return typeof t=="object"&&!Array.isArray(t)?xT(t.code,[t.code],t):TB(t,e)}function TB(t,e){let n=[].concat(t||[]),i=CB(n,e)||RT;return xT(t,n,i)}function CB(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let s=i.length;s>0;s-=1){let r=i.slice(0,s).join("-");if(e[r])return e[r]}}return null}function xT(t,e,n){let i=cp([IT,n],["buttonText"]);delete i.code;let{week:s}=i;return delete i.week,{codeArg:t,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function si(t){return{id:Rs(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function AB(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(r){for(let o of r){const l=o.name,a=n[l];a===void 0?(n[l]=o.id,s(o.deps),i=RB(i,o)):a!==o.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&s(t),s(e),i}function IB(){let t=[],e=[],n;return(i,s)=>((!n||!Bi(i,t)||!Bi(s,e))&&(n=AB(i,s)),t=i,e=s,n)}function RB(t,e){return{premiumReleaseDate:kB(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function kB(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class ji extends ll{}ji.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ji.prototype.baseIconClass="fc-icon";ji.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ji.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ji.prototype.iconOverrideOption="buttonIcons";ji.prototype.iconOverrideCustomButtonOption="icon";ji.prototype.iconOverridePrefix="fc-icon-";function xB(t,e){let n={},i;for(i in t)of(i,n,t,e);for(i in e)of(i,n,t,e);return n}function of(t,e,n,i){if(e[t])return e[t];let s=DB(t,e,n,i);return s&&(e[t]=s),s}function DB(t,e,n,i){let s=n[t],r=i[t],o=u=>s&&s[u]!==null?s[u]:r&&r[u]!==null?r[u]:null,l=o("component"),a=o("superType"),c=null;if(a){if(a===t)throw new Error("Can't have a custom view type that references itself");c=of(a,e,n,i)}return!l&&c&&(l=c.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),r?r.rawOptions:{})}:null}function Hv(t){return Zn(t,NB)}function NB(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=Fv(e):n&&!(n.prototype instanceof Se)&&(n=Fv(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function Fv(t){return e=>w(ii.Consumer,null,n=>w(Gt,{elTag:"div",elClasses:HS(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function MB(t,e,n,i){let s=Hv(t),r=Hv(e.views),o=xB(s,r);return Zn(o,l=>OB(l,r,e,n,i))}function OB(t,e,n,i,s){let r=t.overrides.duration||t.defaults.duration||i.duration||n.duration,o=null,l="",a="",c={};if(r&&(o=PB(r),o)){let f=Qd(o);l=f.unit,f.value===1&&(a=l,c=e[l]?e[l].rawOptions:{})}let u=f=>{let h=f.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[a]!=null?h[a]:null},d=f=>{let h=f.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&h[p]!=null?h[p]:h[t.type]!=null?h[t.type]:h[a]!=null?h[a]:null};return{type:t.type,component:t.component,duration:o,durationUnit:l,singleUnit:a,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(i)||u(n)||t.overrides.buttonText,buttonTextDefault:u(s)||t.defaults.buttonText||u(lo)||t.type,buttonTitleOverride:d(i)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(s)||t.defaults.buttonHint||d(lo)}}let Uv={};function PB(t){let e=JSON.stringify(t),n=Uv[e];return n===void 0&&(n=he(t),Uv[e]=n),n}function LB(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function HB(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function FB(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function UB(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function BB(t,e,n,i){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(s=i.buildPrev(t,n),s.isValid)return s;break;case"NEXT":if(s=i.buildNext(t,n),s.isValid)return s;break}return t}function VB(t,e,n){let i=e?e.activeRange:null;return NT({},YB(t,n),i,n)}function WB(t,e,n,i){let s=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return NT(t,e.sources,s,i);case"REMOVE_EVENT_SOURCE":return $B(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?MT(t,s,i):t;case"FETCH_EVENT_SOURCES":return xp(t,e.sourceIds?NS(e.sourceIds):OT(t,i),s,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return qB(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function jB(t,e,n){let i=e?e.activeRange:null;return xp(t,OT(t,n),i,!0,n)}function DT(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function NT(t,e,n,i){let s={};for(let r of e)s[r.sourceId]=r;return n&&(s=MT(s,n,i)),Object.assign(Object.assign({},t),s)}function $B(t,e){return bs(t,n=>n.sourceId!==e)}function MT(t,e,n){return xp(t,bs(t,i=>zB(i,e,n)),e,!1,n)}function zB(t,e,n){return PT(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function xp(t,e,n,i,s){let r={};for(let o in t){let l=t[o];e[o]?r[o]=GB(l,n,i,s):r[o]=l}return r}function GB(t,e,n,i){let{options:s,calendarApi:r}=i,o=i.pluginHooks.eventSourceDefs[t.sourceDefId],l=Rs();return o.fetch({eventSource:t,range:e,isRefetch:n,context:i},a=>{let{rawEvents:c}=a;s.eventSourceSuccess&&(c=s.eventSourceSuccess.call(r,c,a.response)||c),t.success&&(c=t.success.call(r,c,a.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:c})},a=>{let c=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(r,a),c=!0),t.failure&&(t.failure(a),c=!0),c||console.warn(a.message,a),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:a})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function qB(t,e,n,i){let s=t[e];return s&&n===s.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i})}):t}function OT(t,e){return bs(t,n=>PT(n,e))}function YB(t,e){let n=GS(e),i=[].concat(t.eventSources||[]),s=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let r of i){let o=zS(r,e,n);o&&s.push(o)}return s}function PT(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function KB(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function QB(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function JB(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function XB(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function ZB(t,e,n,i,s){let r=t.headerToolbar?Bv(t.headerToolbar,t,e,n,i,s):null,o=t.footerToolbar?Bv(t.footerToolbar,t,e,n,i,s):null;return{header:r,footer:o}}function Bv(t,e,n,i,s,r){let o={},l=[],a=!1;for(let c in t){let u=t[c],d=eV(u,e,n,i,s,r);o[c]=d.widgets,l.push(...d.viewsWithButtons),a=a||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:a}}function eV(t,e,n,i,s,r){let o=e.direction==="rtl",l=e.customButtons||{},a=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},f=t?t.split(" "):[],h=[],p=!1;return{widgets:f.map(y=>y.split(",").map(_=>{if(_==="title")return p=!0,{buttonName:_};let b,m,v,T,I,M;if(b=l[_])v=k=>{b.click&&b.click.call(k.target,k,k.target)},(T=i.getCustomButtonIconClass(b))||(T=i.getIconClass(_,o))||(I=b.text),M=b.hint||b.text;else if(m=s[_]){h.push(_),v=()=>{r.changeView(_)},(I=m.buttonTextOverride)||(T=i.getIconClass(_,o))||(I=m.buttonTextDefault);let k=m.buttonTextOverride||m.buttonTextDefault;M=oo(m.buttonTitleOverride||m.buttonTitleDefault||e.viewHint,[k,_],k)}else if(r[_])if(v=()=>{r[_]()},(I=a[_])||(T=i.getIconClass(_,o))||(I=c[_]),_==="prevYear"||_==="nextYear"){let k=_==="prevYear"?"prev":"next";M=oo(u[k]||d[k],[c.year||"year","year"],c[_])}else M=k=>oo(u[_]||d[_],[c[k]||k,k],c[_]);return{buttonName:_,buttonClick:v,buttonIcon:T,buttonText:I,buttonHint:M}})),viewsWithButtons:h,hasTitle:p}}class tV{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let nV={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const iV=si({name:"array-event-source",eventSourceDefs:[nV]});let sV={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:i}=t.context,s=t.eventSource.meta;pU(s.bind(null,nT(t.range,i)),r=>e({rawEvents:r}),n)}};const rV=si({name:"func-event-source",eventSourceDefs:[sV]}),oV={method:String,extraParams:A,startParam:String,endParam:String,timeZoneParam:String};let lV={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:i}=t.eventSource,s=cV(i,t.range,t.context);gU(i.method,i.url,s).then(([r,o])=>{e({rawEvents:r,response:o})},n)}};const aV=si({name:"json-event-source",eventSourceRefiners:oV,eventSourceDefs:[lV]});function cV(t,e,n){let{dateEnv:i,options:s}=n,r,o,l,a,c={};return r=t.startParam,r==null&&(r=s.startParam),o=t.endParam,o==null&&(o=s.endParam),l=t.timeZoneParam,l==null&&(l=s.timeZoneParam),typeof t.extraParams=="function"?a=t.extraParams():a=t.extraParams||{},Object.assign(c,a),c[r]=i.formatIso(e.start),c[o]=i.formatIso(e.end),i.timeZone!=="local"&&(c[l]=i.timeZone),c}const uV={daysOfWeek:A,startTime:he,endTime:he,duration:he,startRecur:A,endRecur:A};let dV={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=IH(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:i,typeData:n}}return null},expand(t,e,n){let i=Es(e,{start:t.startRecur,end:t.endRecur});return i?hV(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}};const fV=si({name:"simple-recurring-event",recurringTypes:[dV],eventRefiners:uV});function hV(t,e,n,i,s){let r=t?NS(t):null,o=Oe(s.start),l=s.end,a=[];for(;o<l;){let c;(!r||r[o.getUTCDay()])&&(e?c=i.add(o,e):c=o,a.push(i.createMarker(n.toDate(c)))),o=mt(o,1)}return a}const pV=si({name:"change-handler",optionChangeHandlers:{events(t,e){Vv([t],e)},eventSources:Vv}});function Vv(t,e){let n=up(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let s of t){let r=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===s){n.splice(o,1),r=!0;break}r||i.push(s)}for(let s of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of i)e.calendarApi.addEventSource(s)}function gV(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},nT(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function mV(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",us(t,e))}const vV=[iV,rV,aV,fV,pV,si({name:"misc",isLoadingFuncs:[t=>DT(t.eventSources)],propSetHandlers:{dateProfile:gV,eventStore:mV}})];class yV{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new tp(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function _V(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,Ve(e.titleFormat||bV(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function bV(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Ya(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Wv{constructor(){this.resetListeners=new Set}handleInput(e,n){const i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class EV{constructor(e){this.computeCurrentViewData=X(this._computeCurrentViewData),this.organizeRawLocales=X(SB),this.buildLocale=X(kT),this.buildPluginHooks=IB(),this.buildDateEnv=X(wV),this.buildTheme=X(SV),this.parseToolbars=X(ZB),this.buildViewSpecs=X(MB),this.buildDateProfileGenerator=Ql(TV),this.buildViewApi=X(CV),this.buildViewUiProps=Ql(RV),this.buildEventUiBySource=X(AV,Sn),this.buildEventUiBases=X(IV),this.parseContextBusinessHours=Ql(kV),this.buildTitle=X(_V),this.nowManager=new Wv,this.emitter=new Qc,this.actionRunner=new yV(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause(),this.nowManager=new Wv;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),s=i.calendarOptions.initialView||i.pluginHooks.initialView,r=this.computeCurrentViewData(s,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=FB(i.calendarOptions,i.dateEnv,this.nowManager),a=r.dateProfileGenerator.build(l);jn(a.activeRange,l)||(l=a.currentRange.start);for(let f of i.pluginHooks.contextInit)f(o);let c=VB(i.calendarOptions,a,o),u={dynamicOptionOverrides:n,currentViewType:s,currentDate:l,dateProfile:a,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:jt(),renderableEventStore:jt(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},d=Object.assign(Object.assign({},o),u);for(let f of i.pluginHooks.reducers)Object.assign(u,f(null,null,d));zu(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:s}=this,r=UB(i.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,r,n.calendarApi),l=LB(i.currentViewType,e),a=this.computeCurrentViewData(l,o,n.optionOverrides,r);n.calendarApi.currentDataManager=this,s.setThisContext(n.calendarApi),s.setOptions(a.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=i;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(d=a.dateProfileGenerator.build(u)),u=HB(u,e),d=BB(d,e,u,a.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!jn(d.currentRange,u))&&(u=d.currentRange.start);let f=WB(i.eventSources,e,d,c),h=VF(i.eventStore,e,f,d,c),g=DT(f)&&!a.options.progressiveEventRendering&&i.renderableEventStore||h,{eventUiSingleBase:y,selectionConfig:_}=this.buildViewUiProps(c),b=this.buildEventUiBySource(f),m=this.buildEventUiBases(g.defs,y,b),v={dynamicOptionOverrides:r,currentViewType:l,currentDate:u,dateProfile:d,eventSources:f,eventStore:h,renderableEventStore:g,selectionConfig:_,eventUiBases:m,businessHours:this.parseContextBusinessHours(c),dateSelection:KB(i.dateSelection,e),eventSelection:QB(i.eventSelection,e),eventDrag:JB(i.eventDrag,e),eventResize:XB(i.eventResize,e)},T=Object.assign(Object.assign({},c),v);for(let k of o.pluginHooks.reducers)Object.assign(v,k(i,e,T));let I=zu(i,c),M=zu(v,c);!I&&M?s.trigger("loading",!0):I&&!M&&s.trigger("loading",!1),this.state=v,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,s=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(n.currentViewType,s,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,r.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),r),n),l=s.pluginHooks.optionChangeHandlers,a=i&&i.calendarOptions,c=s.calendarOptions;if(a&&a!==c){a.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=jB(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Dv(o.eventStore,i.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Dv(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let u in l)(this.optionsForHandling.indexOf(u)!==-1||a[u]!==c[u])&&l[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:r,localeDefaults:o,availableLocaleData:l,extra:a}=this.processRawCalendarOptions(e,n);jv(a);let c=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,r,l,s.defaultRangeSeparator),u=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(s,r),f=this.parseToolbars(s,this.stableOptionOverrides,d,u,i);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:r,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:f,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(e,n){let{locales:i,locale:s}=Lu([lo,e,n]),r=this.organizeRawLocales(i),o=r.map,l=this.buildLocale(s||r.defaultCode,o).options,a=this.buildPluginHooks(e.plugins||[],vV),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Cv),Av),Iv),a.listenerRefiners),a.optionRefiners),u={},d=Lu([lo,l,e,n]),f={},h=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let y in d)this.optionsForRefining.indexOf(y)===-1&&(d[y]===h[y]||Ki[y]&&y in h&&Ki[y](h[y],d[y]))?f[y]=p[y]:c[y]?(f[y]=c[y](d[y]),g=!0):u[y]=h[y];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:r,localeDefaults:l,extra:u}}_computeCurrentViewData(e,n,i,s){let r=n.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(r,n.pluginHooks,n.localeDefaults,i,s);jv(l),this.nowManager.handleInput(n.dateEnv,o.now);let a=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:r,options:o,dateProfileGenerator:a,viewApi:c}}processRawViewOptions(e,n,i,s,r){let o=Lu([lo,e.optionDefaults,i,s,e.optionOverrides,r]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Cv),Av),Iv),oF),n.listenerRefiners),n.optionRefiners),a={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,f={};for(let h in o)o[h]===c[h]||Ki[h]&&Ki[h](o[h],c[h])?a[h]=u[h]:(o[h]===this.currentCalendarOptionsInput[h]||Ki[h]&&Ki[h](o[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(a[h]=this.currentCalendarOptionsRefined[h]):l[h]?a[h]=l[h](o[h]):f[h]=o[h],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}}function wV(t,e,n,i,s,r,o,l){let a=kT(e||o.defaultCode,o.map);return new mF({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:a,weekNumberCalculation:n,firstDay:i,weekText:s,cmdFormatter:r.cmdFormatter,defaultSeparator:l})}function SV(t,e){let n=e.themeClasses[t.themeSystem]||ji;return new n(t)}function TV(t){let e=t.dateProfileGeneratorClass||BS;return new e(t)}function CV(t,e,n){return new tV(t,e,n)}function AV(t){return Zn(t,e=>e.ui)}function IV(t,e,n){let i={"":e};for(let s in t){let r=t[s];r.sourceId&&n[r.sourceId]&&(i[s]=n[r.sourceId])}return i}function RV(t){let{options:e}=t;return{eventUiSingleBase:tc({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:tc({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function zu(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function kV(t){return QF(t.options.businessHours,t)}function jv(t,e){for(let n in t)console.warn(`Unknown option '${n}'`+(e?` for view '${e}'`:""))}class xV extends Se{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return w("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,s=[],r=!0;for(let o of e){let{buttonName:l,buttonClick:a,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(l==="title")r=!1,s.push(w("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=l===n.activeButton,h=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",p=[`fc-${l}-button`,i.getClass("button")];f&&p.push(i.getClass("buttonActive")),s.push(w("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:h,"aria-pressed":f,className:p.join(" "),onClick:a},c||(u?w("span",{className:u,role:"img"}):"")))}}if(s.length>1){let o=r&&i.getClass("buttonGroup")||"";return w("div",{className:o},...s)}return s[0]}}class $v extends Se{render(){let{model:e,extraClassName:n}=this.props,i=!1,s,r,o=e.sectionWidgets,l=o.center;return o.left?(i=!0,s=o.left):s=o.start,o.right?(i=!0,r=o.right):r=o.end,w("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",l||[]),this.renderSection("end",r||[]))}renderSection(e,n){let{props:i}=this;return w(xV,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class DV extends Se{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ei(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,s=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",o="";return i?n.availableWidth!==null?r=n.availableWidth/i:o=`${1/i*100}%`:r=e.height||"",w("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:r,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class NV extends Dr{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:s}=this,{context:r}=s,o=br(i);if(o&&s.isValidSegDownEl(n.target)){let l=ht(n.target,".fc-event-forced-url"),a=l?l.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:i,event:new Ue(s.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:r.viewApi}),a&&!n.defaultPrevented&&(window.location.href=a)}},this.destroy=IS(e.el,"click",".fc-event",this.handleSegClick)}}class MV extends Dr{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{br(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=fH(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:s}=this,{context:r}=s,o=br(i);(!n||s.isValidSegDownEl(n.target))&&r.emitter.trigger(e,{el:i,event:new Ue(r,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:r.viewApi})}}class OV extends xs{constructor(){super(...arguments),this.buildViewContext=X(_F),this.buildViewPropTransformers=X(LV),this.buildToolbarProps=X(PV),this.headerRef=Et(),this.footerRef=Et(),this.interactionsStore={},this.state={viewLabelId:Gc()},this.registerInteractiveComponent=(e,n)=>{let i=yU(e,n),o=[NV,MV].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(i));this.interactionsStore[e.uid]=o,tf[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete tf[e.uid]},this.resizeRunner=new tp(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,s=!1,r="",o;e.isHeightAuto||e.forPrint?r="":i.height!=null?s=!0:i.contentHeight!=null?r=i.contentHeight:o=Math.max(i.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),a=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return w(ii.Provider,{value:l},w(Nr,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return w(Ne,null,n.header&&w($v,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:a},u)),w(DV,{liquid:s,height:r,aspectRatio:o,labeledById:a},this.renderView(e),this.buildAppendContent()),n.footer&&w($v,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let s in i)n[s]!==e[s]&&i[s](n[s],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return w(Ne,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of r)Object.assign(s,l.transform(s,e));let o=i.component;return w(o,Object.assign({},s))}}function PV(t,e,n,i,s,r){let o=n.build(s,void 0,!1),l=n.buildPrev(e,i,!1),a=n.buildNext(e,i,!1);return{title:r,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!jn(e.currentRange,s),isPrevEnabled:l.isValid,isNextEnabled:a.isValid}}function LV(t){return t.map(e=>new e)}class HV extends bU{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Xa(()=>{Ho(w(vU,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(s,r,o,l)=>(this.setClassNames(s),this.setHeight(r),w(LS.Provider,{value:this.customContentRenderId},w(OV,Object.assign({isHeightAuto:o,forPrint:l},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ho(null,this.el),this.setClassNames([]),this.setHeight(""))},iH(e),this.el=e,this.renderRunner=new tp(this.handleRenderRequest),new EV({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Xa(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Bi(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){CS(this.el,"height",e)}}const FV={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},UV=Vo({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(t){return{...t,customRenderingMetaMap:jV(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const t=[];for(const e of this.customRenderingMap.values())t.push(Qs(VV,{key:e.id,customRendering:e}));return Qs("div",{attrs:{"data-fc-render-id":this.renderId}},Qs(we,t))},mounted(){const t=new EB;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),n=new HV(this.$el,e);this.calendar=n,n.render(),t.subscribe(i=>{this.customRenderingMap=i,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:WV()}),BV=UV,VV=Vo({props:{customRendering:Object},render(){const t=this.customRendering,e=typeof t.generatorMeta=="function"?t.generatorMeta(t.renderProps):t.generatorMeta;return Qs(Hy,{to:t.containerEl},e)}});function WV(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let i=this.buildOptions(e);n.resetOptions(i),this.renderId++}}};for(let e in FV)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let i=this.getApi();i.pauseRendering(),i.resetOptions({[e]:n},[e]),this.renderId++}}};return t}function jV(t){const e={};for(const n in t)e[$V(n)]=t[n];return e}function $V(t){return t.split("-").map((e,n)=>n?zV(e):e).join("")}function zV(t){return t.charAt(0).toUpperCase()+t.slice(1)}class GV extends An{constructor(){super(...arguments),this.headerElRef=Et()}renderSimpleLayout(e,n){let{props:i,context:s}=this,r=[],o=sc(s.options);return e&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),w(Za,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},w(Cp,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,n,i,s){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,a=!o.forPrint&&sc(l.options),c=!o.forPrint&&bT(l.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:rf}]}),w(Za,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},w(r,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:s}]}],sections:u}))}}function Ml(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function Ol(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function zv(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}const LT=Ve({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function HT(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class FT extends Se{render(){let{props:e}=this;return w(ET,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:LT,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class UT extends Se{render(){let{props:e,context:n}=this,{options:i}=n,{seg:s}=e,r=i.eventTimeFormat||LT,o=ZS(s,r,n,!0,e.defaultDisplayEventEnd);return w(Ap,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:tT(e.seg,n),defaultGenerator:qV,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function qV(t){return w(Ne,null,w("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&w("div",{className:"fc-event-time"},t.timeText),w("div",{className:"fc-event-title"},t.event.title||w(Ne,null,"")))}class YV extends Se{constructor(){super(...arguments),this.compileSegs=X(KV)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return w(CT,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return w(Ne,null,n.map(r=>{let o=r.eventRange.instance.instanceId;return w("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:s[o]?"hidden":""}},HT(r)?w(UT,Object.assign({seg:r,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mi(r,e.todayRange))):w(FT,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mi(r,e.todayRange))))}))}})}}function KV(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}const QV=Ve({week:"narrow"});class JV extends An{constructor(){super(...arguments),this.rootElRef=Et(),this.state={dayNumberId:Gc()},this.handleRootEl=e=>{ei(this.rootElRef,e),ei(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:s}=this,{options:r,dateEnv:o}=e,{date:l,dateProfile:a}=n;const c=n.showDayNumber&&ZV(l,a.currentRange,o);return w(Rp,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:XV,date:l,dateProfile:a,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>w("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&w(TT,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ic(e,l,"week"),date:l,defaultFormat:QV}),!d.isDisabled&&(n.showDayNumber||kp(r)||n.forceDayTop)?w("div",{className:"fc-daygrid-day-top"},w(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ic(e,l)),{id:i.dayNumberId})})):n.showDayNumber?w("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},w("a",{className:"fc-daygrid-day-number"},"")):void 0,w("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,w("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},w(YV,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:s,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),w("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function XV(t){return t.dayNumberText||w(Ne,null,"")}function ZV(t,e,n){const{start:i,end:s}=e,r=Vi(s,-1),o=n.getYear(i),l=n.getMonth(i),a=n.getYear(r),c=n.getMonth(r);return!(o===a&&l===c)&&(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<s.valueOf())}function BT(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function VT(t){return BT(t)+":"+t.lastCol}function eW(t,e,n,i,s,r,o){let l=new iW(_=>{let b=t[_.index].eventRange.instance.instanceId+":"+_.span.start+":"+(_.span.end-1);return s[b]||1});l.allowReslicing=!0,l.strictOrder=i,e===!0||n===!0?(l.maxCoord=r,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let a=[],c=[];for(let _=0;_<t.length;_+=1){let b=t[_],m=VT(b);s[m]!=null?a.push({index:_,span:{start:b.firstCol,end:b.lastCol+1}}):c.push(b)}let u=l.addSegs(a),d=l.toRects(),{singleColPlacements:f,multiColPlacements:h,leftoverMargins:p}=tW(d,t,o),g=[],y=[];for(let _ of c){h[_.firstCol].push({seg:_,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let b=_.firstCol;b<=_.lastCol;b+=1)f[b].push({seg:sr(_,b,b+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<o.length;_+=1)g.push(0);for(let _ of u){let b=t[_.index],m=_.span;h[m.start].push({seg:sr(b,m.start,m.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let v=m.start;v<m.end;v+=1)g[v]+=1,f[v].push({seg:sr(b,v,v+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let _=0;_<o.length;_+=1)y.push(p[_]);return{singleColPlacements:f,multiColPlacements:h,moreCnts:g,moreMarginTops:y}}function tW(t,e,n){let i=nW(t,n.length),s=[],r=[],o=[];for(let l=0;l<n.length;l+=1){let a=i[l],c=[],u=0,d=0;for(let h of a){let p=e[h.index];c.push({seg:sr(p,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-u}),u=h.levelCoord+h.thickness}let f=[];u=0,d=0;for(let h of a){let p=e[h.index],g=h.span.end-h.span.start>1,y=h.span.start===l;d+=h.levelCoord-u,u=h.levelCoord+h.thickness,g?(d+=h.thickness,y&&f.push({seg:sr(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):y&&(f.push({seg:sr(p,h.span.start,h.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:d}),d=0)}s.push(c),r.push(f),o.push(d)}return{singleColPlacements:s,multiColPlacements:r,leftoverMargins:o}}function nW(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let s=i.span.start;s<i.span.end;s+=1)n[s].push(i);return n}function sr(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let s=t.eventRange,r=s.range,o=Es(r,{start:i[e].date,end:mt(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:t.isStart&&o.start.valueOf()===r.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===r.end.valueOf()})}class iW extends cT{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:i}=this,s=r=>!this.forceHidden[ds(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(s);return n}handleInvalidInsertion(e,n,i){const{entriesByLevel:s,forceHidden:r}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:a}=e;if(this.hiddenConsumes&&o){const c=ds(o);if(!r[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:Sp(o.span,n.span)}),d=ds(u);r[d]=!0,s[l][a]=u,i.push(u),this.splitEntry(o,n,i)}else r[c]=!0,i.push(o)}super.handleInvalidInsertion(e,n,i)}}class WT extends An{constructor(){super(...arguments),this.cellElRefs=new Bn,this.frameElRefs=new Bn,this.fgElRefs=new Bn,this.segHarnessRefs=new Bn,this.rootElRef=Et(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:s}=i,r=e.cells.length,o=Ol(e.businessHourSegs,r),l=Ol(e.bgEventSegs,r),a=Ol(this.getHighlightSegs(),r),c=Ol(this.getMirrorSegs(),r),{singleColPlacements:u,multiColPlacements:d,moreCnts:f,moreMarginTops:h}=eW(XS(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return w("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,y)=>{let _=this.renderFgSegs(y,e.forPrint?u[y]:d[y],e.todayRange,p),b=this.renderFgSegs(y,sW(c[y],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return w(JV,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&y===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:f[y],moreMarginTop:h[y],singlePlacements:u[y],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:w(Ne,null,w(Ne,null,_),w(Ne,null,b)),bgContent:w(Ne,null,this.renderFillSegs(a[y],"highlight"),this.renderFillSegs(o[y],"non-business"),this.renderFillSegs(l[y],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Sn(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,s,r,o,l){let{context:a}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,f=r||o||l,h=[];if(u)for(let p of n){let{seg:g}=p,{instanceId:y}=g.eventRange.instance,_=p.isVisible&&!s[y],b=p.isAbsolute,m="",v="";b&&(a.isRtl?(v=0,m=u.lefts[g.lastCol]-u.lefts[g.firstCol]):(m=0,v=u.rights[g.firstCol]-u.rights[g.lastCol])),h.push(w("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:BT(g),ref:f?null:this.segHarnessRefs.createRef(VT(g)),style:{visibility:_?"":"hidden",marginTop:b?"":p.marginTop,top:b?p.absoluteTop:"",left:m,right:v}},HT(g)?w(UT,Object.assign({seg:g,isDragging:r,isSelected:y===c,defaultDisplayEventEnd:d},Mi(g,i))):w(FT,Object.assign({seg:g,isDragging:r,isResizing:o,isDateSelecting:l,isSelected:y===c,defaultDisplayEventEnd:d},Mi(g,i)))))}return h}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:s}=this.props,{framePositions:r}=this.state,o=[];if(r)for(let l of e){let a=i?{right:0,left:r.lefts[l.lastCol]-r.lefts[l.firstCol]}:{left:0,right:r.rights[l.firstCol]-r.rights[l.lastCol]};o.push(w("div",{key:eT(l.eventRange),className:"fc-daygrid-bg-harness",style:a},n==="bg-event"?w(wT,Object.assign({seg:l},Mi(l,s))):ST(n)))}return w(Ne,{},...o)}updateSizing(e){let{props:n,state:i,frameElRefs:s}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let a=n.cells.map(c=>s.currentMap[c.key]);if(a.length){let c=this.rootElRef.current,u=new Er(c,a,!0,!1);(!i.framePositions||!i.framePositions.similarTo(u))&&this.setState({framePositions:new Er(c,a,!0,!1)})}}const r=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let s=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,s)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}WT.addStateEquality({segHeights:Sn});function sW(t,e){if(!t.length)return[];let n=rW(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function rW(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}class oW extends An{constructor(){super(...arguments),this.splitBusinessHourSegs=X(Ml),this.splitBgEventSegs=X(Ml),this.splitFgEventSegs=X(Ml),this.splitDateSelectionSegs=X(Ml),this.splitEventDrag=X(zv),this.splitEventResize=X(zv),this.rowRefs=new Bn}render(){let{props:e,context:n}=this,i=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,i),r=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),l=this.splitDateSelectionSegs(e.dateSelectionSegs,i),a=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),u=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return w(Nr,{unit:"day"},(d,f)=>w(Ne,null,e.cells.map((h,p)=>w(WT,{ref:this.rowRefs.createRef(p),key:h.length?h[0].date.toISOString():p,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:s[p],eventSelection:e.eventSelection,bgEventSegs:r[p].filter(lW),fgEventSegs:o[p],dateSelectionSegs:l[p],eventDrag:a[p],eventResize:c[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Er(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Er(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:s}=this,r=i.leftToIndex(e),o=s.topToIndex(n);if(o!=null&&r!=null){let l=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,r),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:i.lefts[r],right:i.rights[r],top:s.tops[o],bottom:s.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,s=mt(i,1);return{start:i,end:s}}}function lW(t){return t.eventRange.def.allDay}class aW extends An{constructor(){super(...arguments),this.elRef=Et(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:s}=e,r=i===!0||n===!0;r&&!s&&(r=!1,n=null,i=null);let o=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return w("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},w("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,w("tbody",{role:"presentation"},w(oW,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=cW(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),s=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function cW(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${jH(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${op(e.currentDate)}"]`)),n}class uW extends gT{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class jT extends An{constructor(){super(...arguments),this.slicer=new uW,this.tableRef=Et()}render(){let{props:e,context:n}=this;return w(aW,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class dW extends GV{constructor(){super(...arguments),this.buildDayTableModel=X(fW),this.headerRef=Et(),this.tableRef=Et()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,s=this.buildDayTableModel(i.dateProfile,n),r=e.dayHeaders&&w(fT,{ref:this.headerRef,dateProfile:i.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),o=l=>w(jT,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:s,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,o,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,o)}}function fW(t,e){let n=new hT(t.renderRange,e);return new pT(n,/year|month|week/.test(t.currentRangeUnit))}class hW extends BS{buildRenderRange(e,n,i){let s=super.buildRenderRange(e,n,i),{props:r}=this;return pW({currentRange:s,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function pW(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:s}=n,r;if(t.snapToWeek&&(i=e.startOfWeek(i),r=e.startOfWeek(s),r.valueOf()!==s.valueOf()&&(s=bv(r,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(mt(n.end,-1))),l=Math.ceil(NH(o,s));s=bv(s,6-l)}return{start:i,end:s}}var gW=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';ep(gW);var Gv=si({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:dW,dateProfileGeneratorClass:hW},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class mW extends CU{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?tU(e)?["timed","allDay"]:["allDay"]:["timed"]}}const vW=Ve({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function $T(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return w(ii.Consumer,null,n=>{if(!t.isLabeled)return w("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:s,viewApi:r}=n,o=s.slotLabelFormat==null?vW:Array.isArray(s.slotLabelFormat)?Ve(s.slotLabelFormat[0]):Ve(s.slotLabelFormat),l={level:0,time:t.time,date:i.toDate(t.date),view:r,text:i.format(t.date,o)};return w(Gt,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:yW,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},a=>w("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},w(a,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function yW(t){return t.text}class _W extends Se{render(){return this.props.slatMetas.map(e=>w("tr",{key:e.key},w($T,Object.assign({},e))))}}const bW=Ve({week:"short"}),EW=5;class wW extends An{constructor(){super(...arguments),this.allDaySplitter=new mW,this.headerElRef=Et(),this.rootElRef=Et(),this.scrollerElRef=Et(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,r=s.renderRange,l=ks(r.start,r.end)===1?ic(this.context,r.start,"week"):{};return i.weekNumbers&&e==="day"?w(TT,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:bW},a=>w("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},w(a,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):w("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},w("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,s={text:n.allDayText,view:i};return w(Gt,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:SW,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},r=>w("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},w(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:s,props:r}=this,o=[],l=sc(s.options);return e&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:w("tr",{role:"presentation",className:"fc-scrollgrid-section"},w("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),w(Za,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},w(Cp,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,i,s,r,o,l){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,d=!u.forPrint&&sc(c.options),f=!u.forPrint&&bT(c.options),h=[];e&&h.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>w("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>w("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:n}]}),h.push({key:"all-day-divider",type:"body",outerContent:w("tr",{role:"presentation",className:"fc-scrollgrid-section"},w("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let p=c.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:g=>w("div",{className:"fc-timegrid-axis-chunk"},w("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,w("tbody",null,w(_W,{slatMetas:o}))),w("div",{className:"fc-timegrid-now-indicator-container"},w(Nr,{unit:p?"minute":"day"},y=>{let _=p&&l&&l.safeComputeTop(y);return typeof _=="number"?w(Ip,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:_},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),f&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:rf},{key:"cols",content:rf}]}),w(Za,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},w(a,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:r}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=EW),{dayMaxEvents:e,dayMaxEventRows:n}}}function SW(t){return t.text}class TW{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if(jn(n.currentRange,e)){let i=Oe(e),s=e.valueOf()-i.valueOf();if(s>=ln(n.slotMinTime)&&s<ln(n.slotMaxTime))return this.computeTimeTop(he(s))}return null}computeDateTop(e,n){return n||(n=Oe(e)),this.computeTimeTop(he(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,s=n.els.length,r=(e.milliseconds-ln(i.slotMinTime))/ln(this.slotDuration),o,l;return r=Math.max(0,r),r=Math.min(s,r),o=Math.floor(r),o=Math.min(o,s-1),l=r-o,n.tops[o]+n.getHeight(o)*l}}class CW extends Se{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:s}=e;return w("tbody",null,e.slatMetas.map((r,o)=>{let l={time:r.time,date:n.dateEnv.toDate(r.date),view:n.viewApi};return w("tr",{key:r.key,ref:s.createRef(r.key)},e.axis&&w($T,Object.assign({},r)),w(Gt,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class AW extends Se{constructor(){super(...arguments),this.rootElRef=Et(),this.slatElRefs=new Bn}render(){let{props:e,context:n}=this;return w("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},w("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,w(CW,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new TW(new Er(this.rootElRef.current,IW(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function IW(t,e){return e.map(n=>t[n.key])}function Wr(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function qv(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}class RW extends Se{render(){let{props:e}=this;return w(CT,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>GT(e.hiddenSegs,e),defaultGenerator:kW,forceTimed:!0},n=>w(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function kW(t){return t.shortText}function xW(t,e,n){let i=new cT;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let s=i.addSegs(t),r=FU(s),o=DW(i);return o=PW(o,1),{segRects:LW(o),hiddenGroups:r}}function DW(t){const{entriesByLevel:e}=t,n=Dp((i,s)=>i+":"+s,(i,s)=>{let r=OW(t,i,s),o=Yv(r,n),l=e[i][s];return[Object.assign(Object.assign({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]});return Yv(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function Yv(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:s}=t,r=i,o=[];for(;r<s;)o.push(e(n,r)),r+=1;return o.sort(NW),[o.map(MW),o[0][1]]}function NW(t,e){return e[1]-t[1]}function MW(t){return t[0]}function OW(t,e,n){let{levelCoords:i,entriesByLevel:s}=t,r=s[e][n],o=i[e]+r.thickness,l=i.length,a=e;for(;a<l&&i[a]<o;a+=1);for(;a<l;a+=1){let c=s[a],u,d=sf(c,r.span.start,nf),f=d[0]+d[1],h=f;for(;(u=c[h])&&u.span.start<r.span.end;)h+=1;if(f<h)return{level:a,lateralStart:f,lateralEnd:h}}return null}function PW(t,e){const n=Dp((i,s,r)=>ds(i),(i,s,r)=>{let{nextLevelNodes:o,thickness:l}=i,a=l+r,c=l/a,u,d=[];if(!o.length)u=e;else for(let h of o)if(u===void 0){let p=n(h,s,a);u=p[0],d.push(p[1])}else{let p=n(h,u,0);d.push(p[1])}let f=(u-s)*c;return[u-f,Object.assign(Object.assign({},i),{thickness:f,nextLevelNodes:d})]});return t.map(i=>n(i,0,0)[1])}function LW(t){let e=[];const n=Dp((s,r,o)=>ds(s),(s,r,o)=>{let l=Object.assign(Object.assign({},s),{levelCoord:r,stackDepth:o,stackForward:0});return e.push(l),l.stackForward=i(s.nextLevelNodes,r+s.thickness,o+1)+1});function i(s,r,o){let l=0;for(let a of s)l=Math.max(n(a,r,o),l);return l}return i(t,0,0),e}function Dp(t,e){const n={};return(...i)=>{let s=t(...i);return s in n?n[s]:n[s]=e(...i)}}function Kv(t,e,n=null,i=0){let s=[];if(n)for(let r=0;r<t.length;r+=1){let o=t[r],l=n.computeDateTop(o.start,e),a=Math.max(l+(i||0),n.computeDateTop(o.end,e));s.push({start:Math.round(l),end:Math.round(a)})}return s}function HW(t,e,n,i){let s=[],r=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?s.push({index:c,thickness:1,span:u}):r.push(t[c])}let{segRects:o,hiddenGroups:l}=xW(s,n,i),a=[];for(let c of o)a.push({seg:t[c.index],rect:c});for(let c of r)a.push({seg:c,rect:null});return{segPlacements:a,hiddenGroups:l}}const FW=Ve({hour:"numeric",minute:"2-digit",meridiem:!1});class zT extends Se{render(){return w(ET,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:FW}))}}class UW extends Se{constructor(){super(...arguments),this.sortEventSegs=X(XS)}render(){let{props:e,context:n}=this,{options:i}=n,s=i.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return w(Rp,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},a=>w("div",{className:"fc-timegrid-col-frame"},w("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),w("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,o,!1,!1,!1)),w("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),w("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),kp(i)&&w(a,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,s,r,o){let{props:l}=this;return l.forPrint?GT(e,l):this.renderPositionedFgSegs(e,n,i,s,r,o)}renderPositionedFgSegs(e,n,i,s,r,o){let{eventMaxStack:l,eventShortHeight:a,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:d,slatCoords:f,eventSelection:h,todayRange:p,nowDate:g}=this.props,y=i||s||r,_=Kv(e,d,f,u),{segPlacements:b,hiddenGroups:m}=HW(e,_,c,l);return w(Ne,null,this.renderHiddenGroups(m,e),b.map(v=>{let{seg:T,rect:I}=v,M=T.eventRange.instance.instanceId,k=y||!!(!n[M]&&I),C=Gu(I&&I.span),x=!y&&I?this.computeSegHStyle(I):{left:0,right:0},F=!!I&&I.stackForward>0,D=!!I&&I.span.end-I.span.start<a;return w("div",{className:"fc-timegrid-event-harness"+(F?" fc-timegrid-event-harness-inset":""),key:o||M,style:Object.assign(Object.assign({visibility:k?"":"hidden"},C),x)},w(zT,Object.assign({seg:T,isDragging:i,isResizing:s,isDateSelecting:r,isSelected:M===h,isShort:D},Mi(T,p,g))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:o,eventSelection:l,eventDrag:a,eventResize:c}=this.props;return w(Ne,null,e.map(u=>{let d=Gu(u.span),f=BW(u.entries,n);return w(RW,{key:DS(AT(f)),hiddenSegs:f,top:d.top,bottom:d.bottom,extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:o,eventSelection:l,eventDrag:a,eventResize:c})}))}renderFillSegs(e,n){let{props:i,context:s}=this,o=Kv(e,i.date,i.slatCoords,s.options.eventMinHeight).map((l,a)=>{let c=e[a];return w("div",{key:eT(c.eventRange),className:"fc-timegrid-bg-harness",style:Gu(l)},n==="bg-event"?w(wT,Object.assign({seg:c},Mi(c,i.todayRange,i.nowDate))):ST(n))});return w(Ne,null,o)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((s,r)=>w(Ip,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,s=i.slotEventOverlap,r=e.levelCoord,o=e.levelCoord+e.thickness,l,a;s&&(o=Math.min(1,r+(o-r)*2)),n?(l=1-o,a=r):(l=r,a=1-o);let c={zIndex:e.stackDepth+1,left:l*100+"%",right:a*100+"%"};return s&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}}function GT(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:s,eventResize:r}){let o=(s?s.affectedInstances:null)||(r?r.affectedInstances:null)||{};return w(Ne,null,t.map(l=>{let a=l.eventRange.instance.instanceId;return w("div",{key:a,style:{visibility:o[a]?"hidden":""}},w(zT,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===i,isShort:!1},Mi(l,e,n))))}))}function Gu(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function BW(t,e){return t.map(n=>e[n.index])}class VW extends Se{constructor(){super(...arguments),this.splitFgEventSegs=X(Wr),this.splitBgEventSegs=X(Wr),this.splitBusinessHourSegs=X(Wr),this.splitNowIndicatorSegs=X(Wr),this.splitDateSelectionSegs=X(Wr),this.splitEventDrag=X(qv),this.splitEventResize=X(qv),this.rootElRef=Et(),this.cellElRefs=new Bn}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,s),o=this.splitBgEventSegs(e.bgEventSegs,s),l=this.splitBusinessHourSegs(e.businessHourSegs,s),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),u=this.splitEventDrag(e.eventDrag,s),d=this.splitEventResize(e.eventResize,s);return w("div",{className:"fc-timegrid-cols",ref:this.rootElRef},w("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,w("tbody",{role:"presentation"},w("tr",{role:"row"},e.axis&&w("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},w("div",{className:"fc-timegrid-col-frame"},w("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&w(Ip,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((f,h)=>w(UW,{key:f.key,elRef:this.cellElRefs.createRef(f.key),dateProfile:e.dateProfile,date:f.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:f.extraRenderProps,extraDataAttrs:f.extraDataAttrs,extraClassNames:f.extraClassNames,extraDateSpan:f.extraDateSpan,fgEventSegs:r[h],bgEventSegs:o[h],businessHourSegs:l[h],nowIndicatorSegs:a[h],dateSelectionSegs:c[h],eventDrag:u[h],eventResize:d[h],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Er(this.rootElRef.current,WW(this.cellElRefs.currentMap,e.cells),!0,!1))}}function WW(t,e){return e.map(n=>t[n.key])}class jW extends An{constructor(){super(...arguments),this.processSlotOptions=X($W),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let s=i.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),n(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return w("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},w(AW,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),w(VW,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:s}=this.context,{colCoords:r}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:a,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),u=r.leftToIndex(e),d=l.positions.topToIndex(n);if(u!=null&&d!=null){let f=this.props.cells[u],h=l.positions.tops[d],p=l.positions.getHeight(d),g=(n-h)/p,y=Math.floor(g*c),_=d*c+y,b=this.props.cells[u].date,m=Kd(o.slotMinTime,RH(a,_)),v=i.add(b,m),T=i.add(v,a);return{dateProfile:o,dateSpan:Object.assign({range:{start:v,end:T},allDay:!1},f.extraDateSpan),dayEl:r.els[u],rect:{left:r.lefts[u],right:r.rights[u],top:h,bottom:h+p},layer:0}}return null}}function $W(t,e){let n=e||t,i=rp(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}class zW extends gT{sliceRange(e,n){let i=[];for(let s=0;s<n.length;s+=1){let r=Es(e,n[s]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:s})}return i}}class GW extends An{constructor(){super(...arguments),this.buildDayRanges=X(qW),this.slicer=new zW,this.timeColsRef=Et()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:s}=e,{nowIndicator:r,nextDayThreshold:o}=n.options,l=this.buildDayRanges(s,i,n.dateEnv);return w(Nr,{unit:r?"minute":"day"},(a,c)=>w(jW,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:r&&this.slicer.sliceNowDate(a,i,o,n,l),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function qW(t,e,n){let i=[];for(let s of t.headerDates)i.push({start:n.add(s,e.slotMinTime),end:n.add(s,e.slotMaxTime)});return i}const Qv=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function YW(t,e,n,i,s){let r=new Date(0),o=t,l=he(0),a=n||KW(i),c=[];for(;ln(o)<ln(e);){let u=s.add(r,o),d=rp(l,a)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:$H(u),isLabeled:d}),o=Kd(o,i),l=Kd(l,i)}return c}function KW(t){let e,n,i;for(e=Qv.length-1;e>=0;e-=1)if(n=he(Qv[e]),i=rp(n,t),i!==null&&i>1)return n;return t}class QW extends wW{constructor(){super(...arguments),this.buildTimeColsModel=X(JW),this.buildSlatMetas=X(YW)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:r}=s,o=this.buildTimeColsModel(r,i),l=this.allDaySplitter.splitProps(s),a=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:c}=e,u=!c,d=c,f=e.dayHeaders&&w(fT,{dates:o.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),h=e.allDaySlot!==!1&&(g=>w(jT,Object.assign({},l.allDay,{dateProfile:r,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),p=g=>w(GW,Object.assign({},l.timed,{dayTableModel:o,dateProfile:r,axis:u,slotDuration:e.slotDuration,slatMetas:a,forPrint:s.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(f,h,p,o.colCnt,c,a,this.state.slatCoords):this.renderSimpleLayout(f,h,p)}}function JW(t,e){let n=new hT(t.renderRange,e);return new pT(n,!1)}var XW='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';ep(XW);const ZW={allDaySlot:Boolean};var Jv=si({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:ZW,views:{timeGrid:{component:QW,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Tp.touchMouseIgnoreWait=500;let lf=0,rc=0,af=!1;class qT{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&ej(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let s=n.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,tj()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:i-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Qc,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),nj()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),ij()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||ht(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){af=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ht(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return lf||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(af=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,s=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:s}}createEventFromTouch(e,n){let i=e.touches,s,r,o=0,l=0;return i&&i.length?(s=i[0].pageX,r=i[0].pageY):(s=e.pageX,r=e.pageY),n?(this.origPageX=s,this.origPageY=r):(o=s-this.origPageX,l=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:r,deltaX:o,deltaY:l}}}function ej(t){return t.button===0&&!t.ctrlKey}function tj(){lf+=1,setTimeout(()=>{lf-=1},Tp.touchMouseIgnoreWait)}function nj(){rc+=1,rc===1&&window.addEventListener("touchmove",YT,{passive:!1})}function ij(){rc-=1,rc||window.removeEventListener("touchmove",YT,{passive:!1})}function YT(t){af&&t.preventDefault()}class sj{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",ro(i,{left:s.left,top:s.top}),hH(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(np(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ro(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),ro(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class KT extends wp{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class QT extends KT{constructor(e,n){super(new LU(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return OU(this.scrollController.el)}}class rj extends KT{constructor(e){super(new HU,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Xv=typeof performance=="function"?performance.now:Date.now;class oj{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=Xv();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,s=n-window.scrollY,r=this.pointerScreenY===null?0:s-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Xv()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:s}=this,r=s-e.distance,o=r*r/(s*s)*this.maxVelocity*n,l=1;switch(e.name){case"left":l=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*l);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,s=null,r=this.scrollCaches||[];for(let o of r){let l=o.clientRect,a=e-l.left,c=l.right-e,u=n-l.top,d=l.bottom-n;a>=0&&c>=0&&u>=0&&d>=0&&(u<=i&&this.everMovedUp&&o.canScrollUp()&&(!s||s.distance>u)&&(s={scrollCache:o,name:"top",distance:u}),d<=i&&this.everMovedDown&&o.canScrollDown()&&(!s||s.distance>d)&&(s={scrollCache:o,name:"bottom",distance:d}),a<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!s||s.distance>a)&&(s={scrollCache:o,name:"left",distance:a}),c<=i&&this.everMovedRight&&o.canScrollRight()&&(!s||s.distance>c)&&(s={scrollCache:o,name:"right",distance:c}))}return s}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new rj(!1):new QT(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}}class al extends BU{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,pH(document.body),mH(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let r=this.minDistance,o,{deltaX:l,deltaY:a}=s;o=l*l+a*a,o>=r*r&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,gH(document.body),vH(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new qT(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new sj,this.autoScroller=new oj}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class lj{constructor(e){this.el=e,this.origRect=Ep(e),this.scrollCaches=aT(e).map(n=>new QT(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let s of this.scrollCaches)if(!aj(s.getEventTarget())&&!EU(i,s.clientRect))return!1;return!0}}function aj(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Jc{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):s.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Qc}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,s=e.subjectEl,r;s instanceof HTMLElement&&(r=Ep(s),i=wU(i,r));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&r){let l=rT(r,o.rect);l&&(i=SU(l))}this.coordAdjust=TU(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Xc(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Zn(this.droppableStore,e=>(e.component.prepareHits(),new lj(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:s}=this,r=null;for(let o in i){let l=i[o].component,a=s[o];if(a&&a.isWithinClipping(e,n)){let c=a.computeLeft(),u=a.computeTop(),d=e-c,f=n-u,{origRect:h}=a,p=h.right-h.left,g=h.bottom-h.top;if(d>=0&&d<p&&f>=0&&f<g){let y=l.queryHit(d,f,p,g);y&&Yc(y.dateProfile.activeRange,y.dateSpan.range)&&(this.disablePointCheck||a.el.contains(a.el.getRootNode().elementFromPoint(d+c-window.scrollX,f+u-window.scrollY)))&&(!r||y.layer>r.layer)&&(y.componentId=o,y.context=l.context,y.rect.left+=c,y.rect.right+=c,y.rect.top+=u,y.rect.bottom+=u,r=y)}}}return r}}function Xc(t,e){return!t&&!e?!0:!!t!=!!e?!1:uU(t.dateSpan,e.dateSpan)}function JT(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,cj(t,e.dateEnv)),n}function cj(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class uj extends Dr{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:s}=this,r=i.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:s}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&Xc(o,l)){let{context:a}=s,c=Object.assign(Object.assign({},JT(o.dateSpan,a)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",c)}}},this.dragging=new al(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Jc(this.dragging,_p(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class dj extends Dr{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:a}=this,{options:c}=l.context,u=c.selectable&&l.isValidDateDownEl(o.origEvent.target);a.setIgnoreMove(!u),a.delay=o.isTouch?fj(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:a}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=hj(d,o,a.pluginHooks.dateSelectionTransformers)),(!c||!GU(c,o.dateProfile,a))&&(u=!0,c=null)}c?a.dispatch({type:"SELECT_DATES",selection:c}):l||a.dispatch({type:"UNSELECT_DATES"}),u?ip():sp(),l||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(KS(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,s=this.dragging=new al(e.el);s.touchScrollAllowed=!1,s.minDistance=i.selectMinDistance||0,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new Jc(this.dragging,_p(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function fj(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function hj(t,e,n){let i=t.dateSpan,s=e.dateSpan,r=[i.range.start,i.range.end,s.range.start,s.range.end];r.sort(wH);let o={};for(let l of n){let a=l(t,e);if(a===!1)return null;a&&Object.assign(o,a)}return o.range={start:r[0],end:r[3]},o.allDay=i.allDay,o}class cl extends Dr{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:a,dragging:c}=this,{mirror:u}=c,{options:d}=a.context,f=a.context;this.subjectEl=o.subjectEl;let h=this.subjectSeg=br(o.subjectEl),g=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=gp(f.getCurrentData().eventStore,g),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&g!==a.props.eventSelection?gj(a):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=ht(l,".fc"),u.revertDuration=d.dragRevertDuration;let y=a.isValidSegDownEl(l)&&!ht(l,".fc-event-resizer");c.setIgnoreMove(!y),this.isDragging=y&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,a=this.eventRange,c=a.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ue(l,a.def,a.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let a=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,f=null,h=null,p=!1,g={affectedEvents:a,mutatedEvents:jt(),isEvent:!0};if(o){d=o.context;let y=d.options;u===d||y.editable&&y.droppable?(f=pj(c,o,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(h=yp(a,d.getCurrentData().eventUiBases,f,d),g.mutatedEvents=h,mT(g,o.dateProfile,d)||(p=!0,f=null,h=null,g.mutatedEvents=jt()))):d=null}this.displayDrag(d,g),p?ip():sp(),l||(u===d&&Xc(c,o)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=f,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,a=l.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,f=this.eventRange.instance,h=new Ue(l,d,f),p=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:o.origEvent,view:a}),u){if(c===l){let _=new Ue(l,g.defs[d.defId],f?g.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:g});let b={oldEvent:h,event:_,relatedEvents:us(g,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}},m={};for(let v of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(m,v(u,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},b),m),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:a})),l.emitter.trigger("eventChange",b)}else if(c){let _={event:h,relatedEvents:us(p,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},_),{draggedEl:o.subjectEl,view:a})),l.dispatch({type:"REMOVE_EVENTS",eventStore:p}),l.emitter.trigger("eventRemove",_);let b=g.defs[d.defId],m=g.instances[f.instanceId],v=new Ue(c,b,m);c.dispatch({type:"MERGE_EVENTS",eventStore:g});let T={event:v,relatedEvents:us(g,c,m),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};c.emitter.trigger("eventAdd",T),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},JT(y.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:y.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:o.subjectEl,view:y.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,s=this.dragging=new al(e.el);s.pointer.selector=cl.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new Jc(this.dragging,tf);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,s=this.receivingContext;s&&s!==e&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:jt(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}cl.SELECTOR=".fc-event-draggable, .fc-event-resizable";function pj(t,e,n,i){let s=t.dateSpan,r=e.dateSpan,o=s.range.start,l=r.range.start,a={};s.allDay!==r.allDay&&(a.allDay=r.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?o=Oe(n):o=n);let c=Ws(o,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(a.allDay=!1);let u={datesDelta:c,standardProps:a};for(let d of i)d(u,t,e);return u}function gj(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class mj extends Dr{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:o}=this,l=this.querySegEl(r),a=br(l),c=this.eventRange=a.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=r=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=gp(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(r);this.draggingSegEl=a,this.draggingSeg=br(a),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:a,event:new Ue(o,l.def,l.instance),jsEvent:r.origEvent,view:o.viewApi})},this.handleHitUpdate=(r,o,l)=>{let{context:a}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,f=null,h=null,p=!1,g={affectedEvents:c,mutatedEvents:jt(),isEvent:!0};r&&(r.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,r)||(f=vj(u,r,l.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),f&&(h=yp(c,a.getCurrentData().eventUiBases,f,a),g.mutatedEvents=h,mT(g,r.dateProfile,a)||(p=!0,f=null,h=null,g.mutatedEvents=null)),h?a.dispatch({type:"SET_EVENT_RESIZE",state:g}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),p?ip():sp(),o||(f&&Xc(u,r)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=h)},this.handleDragEnd=r=>{let{context:o}=this.component,l=this.eventRange.def,a=this.eventRange.instance,c=new Ue(o,l,a),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:r.origEvent,view:o.viewApi}),this.validMutation){let f=new Ue(o,d.defs[l.defId],a?d.instances[a.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let h={oldEvent:c,event:f,relatedEvents:us(d,o,a),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||he(0),endDelta:this.validMutation.endDelta||he(0),jsEvent:r.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",h)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new al(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let s=this.hitDragging=new Jc(this.dragging,_p(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ht(e.subjectEl,".fc-event")}}function vj(t,e,n,i){let s=t.context.dateEnv,r=t.dateSpan.range.start,o=e.dateSpan.range.start,l=Ws(r,o,s,t.largeUnit);if(n){if(s.add(i.start,l)<i.end)return{startDelta:l}}else if(s.add(i.end,l)>i.start)return{endDelta:l};return null}class yj{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let s=this.context.options.unselectCancel,r=AS(i.origEvent);this.matchesCancel=!!ht(r,s),this.matchesEvent=!!ht(r,cl.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:s}=this,{documentPointer:r}=this,o=s.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=s.options.unselectAuto;l&&(!l||!this.matchesCancel)&&s.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new qT(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const _j={fixedMirrorParent:A},bj={dateClick:A,eventDragStart:A,eventDragStop:A,eventDrop:A,eventResizeStart:A,eventResizeStop:A,eventResize:A,drop:A,eventReceive:A,eventLeave:A};Tp.dataAttrPrefix="";var Zv=si({name:"@fullcalendar/interaction",componentInteractions:[uj,dj,cl,mj],calendarInteractions:[yj],elementDraggingImpl:al,optionRefiners:_j,listenerRefiners:bj}),Ej={code:"af",week:{dow:1,doy:4},buttonText:{prev:"Vorige",next:"Volgende",today:"Vandag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Heeldag",moreLinkText:"Addisionele",noEventsText:"Daar is geen gebeurtenisse nie"},wj={code:"ar-dz",week:{dow:0,doy:4},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},Sj={code:"ar-kw",week:{dow:0,doy:12},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},Tj={code:"ar-ly",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},Cj={code:"ar-ma",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},Aj={code:"ar-sa",week:{dow:0,doy:6},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},Ij={code:"ar-tn",week:{dow:1,doy:4},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},Rj={code:"ar",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},kj={code:"az",week:{dow:1,doy:4},buttonText:{prev:"vvl",next:"Sonra",today:"Bu Gn",year:"Il",month:"Ay",week:"Hft",day:"Gn",list:"Gndm"},weekText:"Hft",allDayText:"Btn Gn",moreLinkText(t){return"+ daha ox "+t},noEventsText:"Gstrmk n hadis yoxdur"},xj={code:"bg",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},allDayText:" ",moreLinkText(t){return"+ "+t},noEventsText:"   "},Dj={code:"bn",week:{dow:0,doy:6},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText(t){return"+ "+t},noEventsText:"  "},Nj={code:"bs",week:{dow:1,doy:7},buttonText:{prev:"Proli",next:"Sljedei",today:"Danas",year:"Godina",month:"Mjesec",week:"Sedmica",day:"Dan",list:"Raspored"},weekText:"Sed",allDayText:"Cijeli dan",moreLinkText(t){return"+ jo "+t},noEventsText:"Nema dogaaja za prikazivanje"},Mj={code:"ca",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Segent",today:"Avui",year:"Any",month:"Mes",week:"Setmana",day:"Dia",list:"Agenda"},weekText:"Set",allDayText:"Tot el dia",moreLinkText:"ms",noEventsText:"No hi ha esdeveniments per mostrar"},Oj={code:"cs",week:{dow:1,doy:4},buttonText:{prev:"Dve",next:"Pozdji",today:"Nyn",year:"Rok",month:"Msc",week:"Tden",day:"Den",list:"Agenda"},weekText:"Td",allDayText:"Cel den",moreLinkText(t){return"+dal: "+t},noEventsText:"dn akce k zobrazen"},Pj={code:"cy",week:{dow:1,doy:4},buttonText:{prev:"Blaenorol",next:"Nesaf",today:"Heddiw",year:"Blwyddyn",month:"Mis",week:"Wythnos",day:"Dydd",list:"Rhestr"},weekText:"Wythnos",allDayText:"Trwy'r dydd",moreLinkText:"Mwy",noEventsText:"Dim digwyddiadau"},Lj={code:"da",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Nste",today:"I dag",year:"r",month:"Mned",week:"Uge",day:"Dag",list:"Agenda"},weekText:"Uge",allDayText:"Hele dagen",moreLinkText:"flere",noEventsText:"Ingen arrangementer at vise"};function qu(t){return t==="Tag"||t==="Monat"?"r":t==="Jahr"?"s":""}var Hj={code:"de-at",week:{dow:1,doy:4},buttonText:{prev:"Zurck",next:"Vor",today:"Heute",year:"Jahr",month:"Monat",week:"Woche",day:"Tag",list:"Terminbersicht"},weekText:"KW",weekTextLong:"Woche",allDayText:"Ganztgig",moreLinkText(t){return"+ weitere "+t},noEventsText:"Keine Ereignisse anzuzeigen",buttonHints:{prev(t){return`Vorherige${qu(t)} ${t}`},next(t){return`Nchste${qu(t)} ${t}`},today(t){return t==="Tag"?"Heute":`Diese${qu(t)} ${t}`}},viewHint(t){return t+(t==="Woche"?"n":t==="Monat"?"s":"es")+"ansicht"},navLinkHint:"Gehe zu $0",moreLinkHint(t){return"Zeige "+(t===1?"ein weiteres Ereignis":t+" weitere Ereignisse")},closeHint:"Schlieen",timeHint:"Uhrzeit",eventHint:"Ereignis"};function Yu(t){return t==="Tag"||t==="Monat"?"r":t==="Jahr"?"s":""}var Fj={code:"de",week:{dow:1,doy:4},buttonText:{prev:"Zurck",next:"Vor",today:"Heute",year:"Jahr",month:"Monat",week:"Woche",day:"Tag",list:"Terminbersicht"},weekText:"KW",weekTextLong:"Woche",allDayText:"Ganztgig",moreLinkText(t){return"+ weitere "+t},noEventsText:"Keine Ereignisse anzuzeigen",buttonHints:{prev(t){return`Vorherige${Yu(t)} ${t}`},next(t){return`Nchste${Yu(t)} ${t}`},today(t){return t==="Tag"?"Heute":`Diese${Yu(t)} ${t}`}},viewHint(t){return t+(t==="Woche"?"n":t==="Monat"?"s":"es")+"ansicht"},navLinkHint:"Gehe zu $0",moreLinkHint(t){return"Zeige "+(t===1?"ein weiteres Ereignis":t+" weitere Ereignisse")},closeHint:"Schlieen",timeHint:"Uhrzeit",eventHint:"Ereignis"},Uj={code:"el",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:"",noEventsText:"    "},Bj={code:"en-au",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}},Vj={code:"en-gb",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}},Wj={code:"en-nz",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}},jj={code:"eo",week:{dow:1,doy:4},buttonText:{prev:"Antaa",next:"Sekva",today:"Hodia",year:"Jaro",month:"Monato",week:"Semajno",day:"Tago",list:"Tagordo"},weekText:"Sm",allDayText:"Tuta tago",moreLinkText:"pli",noEventsText:"Neniuj eventoj por montri"},$j={code:"es",week:{dow:0,doy:6},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Ao",month:"Mes",week:"Semana",day:"Da",list:"Agenda"},weekText:"Sm",allDayText:"Todo el da",moreLinkText:"ms",noEventsText:"No hay eventos para mostrar"},zj={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"Ao",month:"Mes",week:"Semana",day:"Da",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today(t){return t==="Da"?"Hoy":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Vista "+(t==="Semana"?"de la":"del")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el da",moreLinkText:"ms",moreLinkHint(t){return`Mostrar ${t} eventos ms`},noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"},Gj={code:"et",week:{dow:1,doy:4},buttonText:{prev:"Eelnev",next:"Jrgnev",today:"Tna",year:"Aasta",month:"Kuu",week:"Ndal",day:"Pev",list:"Pevakord"},weekText:"nd",allDayText:"Kogu pev",moreLinkText(t){return"+ veel "+t},noEventsText:"Kuvamiseks puuduvad sndmused"},qj={code:"eu",week:{dow:1,doy:7},buttonText:{prev:"Aur",next:"Hur",today:"Gaur",year:"Urtea",month:"Hilabetea",week:"Astea",day:"Eguna",list:"Agenda"},weekText:"As",allDayText:"Egun osoa",moreLinkText:"gehiago",noEventsText:"Ez dago ekitaldirik erakusteko"},Yj={code:"fa",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText(t){return"  "+t},noEventsText:"   "},Kj={code:"fi",week:{dow:1,doy:4},buttonText:{prev:"Edellinen",next:"Seuraava",today:"Tnn",year:"Vuosi",month:"Kuukausi",week:"Viikko",day:"Piv",list:"Tapahtumat"},weekText:"Vk",allDayText:"Koko piv",moreLinkText:"lis",noEventsText:"Ei nytettvi tapahtumia"},Qj={code:"fr",buttonText:{prev:"Prcdent",next:"Suivant",today:"Aujourd'hui",year:"Anne",month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},weekText:"Sem.",allDayText:"Toute la journe",moreLinkText:"en plus",noEventsText:"Aucun vnement  afficher"},Jj={code:"fr-ch",week:{dow:1,doy:4},buttonText:{prev:"Prcdent",next:"Suivant",today:"Courant",year:"Anne",month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},weekText:"Sm",allDayText:"Toute la journe",moreLinkText:"en plus",noEventsText:"Aucun vnement  afficher"},Xj={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Prcdent",next:"Suivant",today:"Aujourd'hui",year:"Anne",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",weekTextLong:"Semaine",allDayText:"Toute la journe",moreLinkText:"en plus",noEventsText:"Aucun vnement  afficher"},Zj={code:"gl",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Seg",today:"Hoxe",year:"Ano",month:"Mes",week:"Semana",day:"Da",list:"Axenda"},buttonHints:{prev:"$0 antes",next:"$0 seguinte",today(t){return t==="Da"?"Hoxe":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Vista "+(t==="Semana"?"da":"do")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo o da",moreLinkText:"mis",moreLinkHint(t){return`Amosar ${t} eventos mis`},noEventsText:"Non hai eventos para amosar",navLinkHint:"Ir ao $0",closeHint:"Pechar",timeHint:"A hora",eventHint:"Evento"},e$={code:"he",direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},allDayText:" ",moreLinkText:"",noEventsText:"  ",weekText:""},t$={code:"hi",week:{dow:0,doy:6},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText(t){return"+ "+t},noEventsText:"      "},n$={code:"hr",week:{dow:1,doy:7},buttonText:{prev:"Prijanji",next:"Sljedei",today:"Danas",year:"Godina",month:"Mjesec",week:"Tjedan",day:"Dan",list:"Raspored"},weekText:"Tje",allDayText:"Cijeli dan",moreLinkText(t){return"+ jo "+t},noEventsText:"Nema dogaaja za prikaz"},i$={code:"hu",week:{dow:1,doy:4},buttonText:{prev:"vissza",next:"elre",today:"ma",year:"v",month:"Hnap",week:"Ht",day:"Nap",list:"Lista"},weekText:"Ht",allDayText:"Egsz nap",moreLinkText:"tovbbi",noEventsText:"Nincs megjelenthet esemny"},s$={code:"hy-am",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"   "},r$={code:"id",week:{dow:1,doy:7},buttonText:{prev:"mundur",next:"maju",today:"hari ini",year:"Tahun",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sehari penuh",moreLinkText:"lebih",noEventsText:"Tidak ada acara untuk ditampilkan"},o$={code:"is",week:{dow:1,doy:4},buttonText:{prev:"Fyrri",next:"Nsti",today:" dag",year:"r",month:"Mnuur",week:"Vika",day:"Dagur",list:"Dagskr"},weekText:"Vika",allDayText:"Allan daginn",moreLinkText:"meira",noEventsText:"Engir viburir til a sna"},l$={code:"it",week:{dow:1,doy:4},buttonText:{prev:"Prec",next:"Succ",today:"Oggi",year:"Anno",month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},weekText:"Sm",allDayText:"Tutto il giorno",moreLinkText(t){return"+altri "+t},noEventsText:"Non ci sono eventi da visualizzare"},a$={code:"ja",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText(t){return" "+t+" "},noEventsText:""},c$={code:"ka",week:{dow:1,doy:7},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"  "},u$={code:"kk",week:{dow:1,doy:7},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"   "},d$={code:"km",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:"",noEventsText:""},f$={code:"ko",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:"",noEventsText:" "},h$={code:"ku",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText:"",noEventsText:"  "},p$={code:"lb",week:{dow:1,doy:4},buttonText:{prev:"Zrck",next:"Weider",today:"Haut",year:"Joer",month:"Mount",week:"Woch",day:"Dag",list:"Terminiwwersiicht"},weekText:"W",allDayText:"Ganzen Dag",moreLinkText:"mi",noEventsText:"Nee Evenementer ze affichieren"},g$={code:"lt",week:{dow:1,doy:4},buttonText:{prev:"Atgal",next:"Pirmyn",today:"iandien",year:"Metai",month:"Mnuo",week:"Savait",day:"Diena",list:"Darbotvark"},weekText:"SAV",allDayText:"Vis dien",moreLinkText:"daugiau",noEventsText:"Nra vyki rodyti"},m$={code:"lv",week:{dow:1,doy:4},buttonText:{prev:"Iepr.",next:"Nk.",today:"odien",year:"Gads",month:"Mnesis",week:"Neda",day:"Diena",list:"Dienas krtba"},weekText:"Ned.",allDayText:"Visu dienu",moreLinkText(t){return"+vl "+t},noEventsText:"Nav notikumu"},v$={code:"mk",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText(t){return"+ "+t},noEventsText:"   "},y$={code:"ms",week:{dow:1,doy:7},buttonText:{prev:"Sebelum",next:"Selepas",today:"hari ini",year:"Tahun",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sepanjang hari",moreLinkText(t){return"masih ada "+t+" acara"},noEventsText:"Tiada peristiwa untuk dipaparkan"},_$={code:"nb",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Neste",today:"I dag",year:"r",month:"Mned",week:"Uke",day:"Dag",list:"Agenda"},weekText:"Uke",weekTextLong:"Uke",allDayText:"Hele dagen",moreLinkText:"til",noEventsText:"Ingen hendelser  vise",buttonHints:{prev:"Forrige $0",next:"Neste $0",today:"Nvrende $0"},viewHint:"$0 visning",navLinkHint:"G til $0",moreLinkHint(t){return`Vis ${t} flere hendelse${t===1?"":"r"}`}},b$={code:"ne",week:{dow:7,doy:1},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:" ",noEventsText:"    "},E$={code:"nl",week:{dow:1,doy:4},buttonText:{prev:"Vorige",next:"Volgende",today:"Vandaag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Lijst"},allDayText:"Hele dag",moreLinkText:"extra",noEventsText:"Geen evenementen om te laten zien"},w$={code:"nn",week:{dow:1,doy:4},buttonText:{prev:"Frre",next:"Neste",today:"I dag",year:"r",month:"Mnad",week:"Veke",day:"Dag",list:"Agenda"},weekText:"Veke",allDayText:"Heile dagen",moreLinkText:"til",noEventsText:"Ingen hendelser  vise"},S$={code:"pl",week:{dow:1,doy:4},buttonText:{prev:"Poprzedni",next:"Nastpny",today:"Dzi",year:"Rok",month:"Miesic",week:"Tydzie",day:"Dzie",list:"Plan dnia"},weekText:"Tydz",allDayText:"Cay dzie",moreLinkText:"wicej",noEventsText:"Brak wydarze do wywietlenia"},T$={code:"pt-br",buttonText:{prev:"Anterior",next:"Prximo",prevYear:"Ano anterior",nextYear:"Prximo ano",year:"Ano",today:"Hoje",month:"Ms",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Prximo $0",today(t){return t==="Dia"?"Hoje":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Visualizar "+(t==="Semana"?"a":"o")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(t){return"mais +"+t},moreLinkHint(t){return`Mostrar mais ${t} eventos`},noEventsText:"No h eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"},C$={code:"pt",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Seguinte",today:"Hoje",year:"Ano",month:"Ms",week:"Semana",day:"Dia",list:"Agenda"},weekText:"Sem",allDayText:"Todo o dia",moreLinkText:"mais",noEventsText:"No h eventos para mostrar"},A$={code:"ro",week:{dow:1,doy:7},buttonText:{prev:"precedent",next:"urmtoare",today:"Azi",year:"An",month:"Lun",week:"Sptmn",day:"Zi",list:"Agend"},weekText:"Spt",allDayText:"Toat ziua",moreLinkText(t){return"+alte "+t},noEventsText:"Nu exist evenimente de afiat"},I$={code:"ru",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"   "},R$={code:"si-lk",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:"",noEventsText:" "},k$={code:"sk",week:{dow:1,doy:4},buttonText:{prev:"Predchdzajci",next:"Nasledujci",today:"Dnes",year:"Rok",month:"Mesiac",week:"Tde",day:"De",list:"Rozvrh"},weekText:"Ty",allDayText:"Cel de",moreLinkText(t){return"+alie: "+t},noEventsText:"iadne akcie na zobrazenie"},x$={code:"sl",week:{dow:1,doy:7},buttonText:{prev:"Prejnji",next:"Naslednji",today:"Trenutni",year:"Leto",month:"Mesec",week:"Teden",day:"Dan",list:"Dnevni red"},weekText:"Teden",allDayText:"Ves dan",moreLinkText:"ve",noEventsText:"Ni dogodkov za prikaz"},D$={code:"sm",buttonText:{prev:"Talu ai",next:"Mulimuli atu",today:"Aso nei",year:"Tausaga",month:"Masina",week:"Vaiaso",day:"Aso",list:"Faasologa"},weekText:"Vaiaso",allDayText:"Aso atoa",moreLinkText:"sili atu",noEventsText:"Leai ni mea na tutupu"},N$={code:"sq",week:{dow:1,doy:4},buttonText:{prev:"mbrapa",next:"Prpara",today:"Sot",year:"Viti",month:"Muaj",week:"Jav",day:"Dit",list:"List"},weekText:"Ja",allDayText:"Gjith ditn",moreLinkText(t){return"+m tepr "+t},noEventsText:"Nuk ka evente pr t shfaqur"},M$={code:"sr-cyrl",week:{dow:1,doy:7},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"   "},O$={code:"sr",week:{dow:1,doy:7},buttonText:{prev:"Prethodna",next:"Sledeci",today:"Danas",year:"Godina",month:"Msc",week:"Ndlja",day:"Dan",list:"Planr"},weekText:"Sed",allDayText:"Co dan",moreLinkText(t){return"+ jo "+t},noEventsText:"Nma dogaaja za prikaz"},P$={code:"sv",week:{dow:1,doy:4},buttonText:{prev:"Frra",next:"Nsta",today:"Idag",year:"r",month:"Mnad",week:"Vecka",day:"Dag",list:"Program"},buttonHints:{prev(t){return`Fregende ${t.toLocaleLowerCase()}`},next(t){return`Nsta ${t.toLocaleLowerCase()}`},today(t){return(t==="Program"?"Detta":"Denna")+" "+t.toLocaleLowerCase()}},viewHint:"$0 vy",navLinkHint:"G till $0",moreLinkHint(t){return`Visa ytterligare ${t} hndelse${t===1?"":"r"}`},weekText:"v.",weekTextLong:"Vecka",allDayText:"Heldag",moreLinkText:"till",noEventsText:"Inga hndelser att visa",closeHint:"Stng",timeHint:"Klockan",eventHint:"Hndelse"},L$={code:"ta-in",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"  "},H$={code:"th",week:{dow:1,doy:4},buttonText:{prev:"",next:"",prevYear:"",nextYear:"",year:"",today:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:"",noEventsText:""},F$={code:"tr",week:{dow:1,doy:7},buttonText:{prev:"geri",next:"ileri",today:"bugn",year:"Yl",month:"Ay",week:"Hafta",day:"Gn",list:"Ajanda"},weekText:"Hf",allDayText:"Tm gn",moreLinkText:"daha fazla",noEventsText:"Gsterilecek etkinlik yok"},U$={code:"ug",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},allDayText:" "},B$={code:"uk",week:{dow:1,doy:7},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+ "+t+"..."},noEventsText:"   "},V$={code:"uz-cy",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",month:"",week:"",day:"",list:" "},weekText:"",allDayText:" ",moreLinkText(t){return"+  "+t},noEventsText:"   "},W$={code:"uz",week:{dow:1,doy:4},buttonText:{prev:"Oldingi",next:"Keyingi",today:"Bugun",year:"Yil",month:"Oy",week:"Xafta",day:"Kun",list:"Kun tartibi"},allDayText:"Kun bo'yi",moreLinkText(t){return"+ yana "+t},noEventsText:"Ko'rsatish uchun voqealar yo'q"},j$={code:"vi",week:{dow:1,doy:4},buttonText:{prev:"Trc",next:"Tip",today:"Hm nay",year:"Nm",month:"Thng",week:"Tun",day:"Ngy",list:"Lch biu"},weekText:"Tu",allDayText:"C ngy",moreLinkText(t){return"+ thm "+t},noEventsText:"Khng c s kin  hin th"},$$={code:"zh-cn",week:{dow:1,doy:4},buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText(t){return" "+t+" "},noEventsText:""},z$={code:"zh-tw",buttonText:{prev:"",next:"",today:"",year:"",month:"",week:"",day:"",list:""},weekText:"",allDayText:"",moreLinkText:"",noEventsText:""},G$=[Ej,wj,Sj,Tj,Cj,Aj,Ij,Rj,kj,xj,Dj,Nj,Mj,Oj,Pj,Lj,Hj,Fj,Uj,Bj,Vj,Wj,jj,$j,zj,Gj,qj,Yj,Kj,Qj,Jj,Xj,Zj,e$,t$,n$,i$,s$,r$,o$,l$,a$,c$,u$,d$,f$,h$,p$,g$,m$,v$,y$,_$,b$,E$,w$,S$,T$,C$,A$,I$,R$,k$,x$,D$,N$,M$,O$,P$,L$,H$,F$,U$,B$,V$,W$,j$,$$,z$];const q$={class:"existing-orders-tab"},Y$={key:0},K$={key:1,class:"loading"},Q$={__name:"ExistingOrdersTab",setup(t){const e=Re(!1),n=Re({plugins:[Gv,Jv,Zv],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"timeGridWeek"},firstDay:0,slotMinTime:"07:00:00",slotMaxTime:"21:00:00",height:"auto",aspectRatio:1.35,expandRows:!0,stickyHeaderDates:!0,nowIndicator:!0,locales:G$,locale:"he",direction:"rtl",buttonText:{today:"",week:""},handleWindowResize:!0,eventDisplay:"block",allDaySlot:!1});return Tn(async()=>{try{if(console.log("Starting calendar initialization..."),!n.value){console.error("Calendar options are not properly initialized");return}console.log("Plugins loaded:",{dayGrid:Gv,timeGrid:Jv,interaction:Zv}),console.log("Calendar options:",n.value),setTimeout(()=>{e.value=!0,console.log("Calendar ready state set to:",e.value)},1e3)}catch(i){console.error("Error initializing calendar:",i),e.value=!1}}),(i,s)=>(le(),ve("div",q$,[s[0]||(s[0]=R("h2",null," ",-1)),e.value?(le(),ve("div",Y$,[Me(Bo(BV),{options:n.value,class:"calendar-container"},null,8,["options"])])):(le(),ve("div",K$,"   ... "))]))}},J$=ol(Q$,[["__scopeId","data-v-9c01ec9e"]]);const X$={class:"tabs"},Z$=["onClick"],ez={class:"main-content"},tz={__name:"App",setup(t){const n=sE({apiKey:"AIzaSyC2zCq88ENRnWsScjVgp2INp7vtnR8ck0M",authDomain:"hashozerdb.firebaseapp.com",projectId:"hashozerdb",databaseURL:"https://hashozerdb-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"hashozerdb.firebasestorage.app",messagingSenderId:"159442413900",appId:"1:159442413900:web:f1fe5222ee2ce9de1e47e9"});nl(n),C1(n);const i=Re(!0),s=Re(!1),r=Re(!1),o=Re("orders"),l=[{id:"orders",name:" "},{id:"existing-orders",name:" "},{id:"expenses",name:""},{id:"reports",name:""}],a=()=>{r.value=!r.value};return Tn(()=>{setTimeout(()=>{s.value=!0,setTimeout(()=>{i.value=!1},500)},1500)}),(c,u)=>(le(),ve(we,null,[i.value?(le(),ve("div",{key:0,id:"splash-screen",class:yn({"fade-out":s.value})},u[1]||(u[1]=[R("img",{src:Vg,alt:""},null,-1),R("h1",null," - ",-1)]),2)):Dn("",!0),R("div",{class:yn(["container",{show:!i.value}])},[R("div",{class:"header-container"},[u[3]||(u[3]=R("img",{src:Vg,alt:""},null,-1)),u[4]||(u[4]=R("h1",null,"  - ",-1)),R("button",{id:"settingsButton",class:"settings-button",title:"",onClick:a},u[2]||(u[2]=[R("i",{class:"fas fa-cog"},null,-1)]))]),R("div",X$,[(le(),ve(we,null,Kt(l,d=>R("button",{key:d.id,class:yn(["tab",{active:o.value===d.id}]),onClick:f=>o.value=d.id},ye(d.name),11,Z$)),64))]),R("div",ez,[o.value==="orders"?(le(),On(B1,{key:0})):Dn("",!0),o.value==="existing-orders"?(le(),On(J$,{key:1})):Dn("",!0),o.value==="expenses"?(le(),On(eL,{key:2})):Dn("",!0),o.value==="reports"?(le(),On(gL,{key:3})):Dn("",!0)]),R("footer",null,[R("p",null," "+ye(new Date().getFullYear())+"  -   ",1)]),r.value?(le(),On(LL,{key:0,onClose:u[0]||(u[0]=d=>r.value=!1)})):Dn("",!0)],2)],64))}};const nz=ha(tz);nz.mount("#app");
